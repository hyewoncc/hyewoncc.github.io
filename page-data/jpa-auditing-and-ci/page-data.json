{"componentChunkName":"component---src-templates-blog-template-js","path":"/jpa-auditing-and-ci/","result":{"data":{"cur":{"id":"6c88c130-adf5-5d91-87c4-65a5ad3f2df2","html":"<h2 id=\"-ë¬¸ì œìƒí™©\" style=\"position:relative;\"><a href=\"#-%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9\" aria-label=\" ë¬¸ì œìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’£ ë¬¸ì œìƒí™©</h2>\n<p><a href=\"https://github.com/woowacourse-teams/2022-pickpick\">ì¤ì¤</a>ì—ëŠ” ë¶ë§ˆí¬ ì„¤ì •í•œ ë©”ì‹œì§€ë¥¼ ëª¨ì•„ì„œ ë³´ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.\nê¸°ì¡´ì—ëŠ” ì´ ë¶ë§ˆí¬ ëª©ë¡ì„ ë³´ì—¬ì¤„ ë•Œ, ë¶ë§ˆí¬ê°€ ë“±ë¡ ëœ <strong>ë©”ì‹œì§€ì˜ ìƒì„± ì‹œê°„</strong> ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì¤¬ë‹¤.\nê·¸ëŸ¬ë‹¤ ì‚¬ìš©ì í¸ì˜ë¥¼ ìœ„í•´ ì´ë¥¼ <strong>ë¶ë§ˆí¬ ë“±ë¡ ì‹œê°„</strong> ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì£¼ê¸°ë¡œ ë°”ê¿¨ë‹¤.\nì´ ë•Œ, ë¶ë§ˆí¬ ë“±ë¡ ì‹œê°„ì„ í¸í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ <code class=\"language-text\">JPA Auditing</code>ì„ ë„ì…í–ˆë‹¤.\nê·¸ë¦¬ê³  <a href=\"https://github.com/woowacourse-teams/2022-pickpick/pull/568\">í•´ë‹¹ PR</a>ì€ ìˆœì¡°ë¡­ê²Œ ë¨¸ì§€ ë˜ì—ˆëŠ”ë°â€¦</p>\n<p>íŒ€ì› ë´„ì´ ì§„í–‰í•œ <a href=\"https://github.com/woowacourse-teams/2022-pickpick/pull/570\">ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ WebMvcTestë¡œ ê°œì„ í•˜ëŠ” PR</a>ì—ì„œ ë¬¸ì œê°€ ìƒê²¼ë‹¤.\në´„ì˜ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ê°€ ì˜ ëŒì•„ê°€ëŠ” ìƒíƒœì˜€ëŠ”ë°, PRì˜ <a href=\"https://github.com/woowacourse-teams/2022-pickpick/actions/runs/3179844507/jobs/5182750602\">github action</a>ì—ì„œëŠ” í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í–ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4UlEQVR42q2QW2vDMAyF/f9/3Fh3aXdJmljOhYU9tI4t2SHxGfZaNsZgLxN8HHGQ4Ejq4XGP+tiAyECTwctrhcPTM1pNaFqN3d09NBGq+lh8ZkGulNKvKBEpQ8yMEGJRa2dkP3O2FiIBEgKc81jXtSxuW8KWfrAlqLOdMTuH/yq1xKUkzClijJeUAs9c1Hlfkl3xngvZ/+o/Z2fnoajrcHO7gxlGNJowThPGtwnUDwXrPGRZCpxPlwC+vOP6iu+q5tMJ7/sDQteDtYF0PcIwQkwHX9VY+gGxJUQy2M72z5M/ABlYzqHrzfUBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ê¹ƒí—™ ì•¡ì…˜ ì‹¤íŒ¨\"\n        title=\"\"\n        src=\"/static/d4cfb4b4007765978f585ce48e18552c/37523/ci_fail.png\"\n        srcset=\"/static/d4cfb4b4007765978f585ce48e18552c/e9ff0/ci_fail.png 180w,\n/static/d4cfb4b4007765978f585ce48e18552c/f21e7/ci_fail.png 360w,\n/static/d4cfb4b4007765978f585ce48e18552c/37523/ci_fail.png 720w,\n/static/d4cfb4b4007765978f585ce48e18552c/302a4/ci_fail.png 1080w,\n/static/d4cfb4b4007765978f585ce48e18552c/07a9c/ci_fail.png 1440w,\n/static/d4cfb4b4007765978f585ce48e18552c/95e59/ci_fail.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><code class=\"language-text\">@WebMvcTest</code>ë¡œ ë³€ê²½í•œ ëª¨ë“  <code class=\"language-text\">RestDocs</code>ìš© ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ê°€ ê°™ì€ ì´ìœ ë¡œ ì‹¤íŒ¨í•˜ê³  ìˆì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>IllegalStateException</span><span class=\"token operator\">:</span> <span class=\"token class-name\">Failed</span> <span class=\"token keyword\">to</span> <span class=\"token namespace\">load</span> <span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token class-name\">Caused</span> by<span class=\"token operator\">:</span> <span class=\"token class-name\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span></span>BeanCreationException</span><span class=\"token operator\">:</span> <span class=\"token class-name\">Error</span> creating bean <span class=\"token keyword\">with</span> <span class=\"token namespace\">name</span> 'jpaAuditingHandler'<span class=\"token operator\">:</span> <span class=\"token class-name\">Cannot</span> resolve reference <span class=\"token keyword\">to</span> <span class=\"token namespace\">bean</span> 'jpaMappingContext' <span class=\"token keyword\">while</span> setting constructor argument<span class=\"token punctuation\">;</span> \nnested exception is <span class=\"token class-name\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span></span>BeanCreationException</span><span class=\"token operator\">:</span> <span class=\"token class-name\">Error</span> creating bean <span class=\"token keyword\">with</span> <span class=\"token namespace\">name</span> 'jpaMappingContext'<span class=\"token operator\">:</span> <span class=\"token class-name\">Invocation</span> of init method failed<span class=\"token punctuation\">;</span> \nnested exception is <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>IllegalArgumentException</span><span class=\"token operator\">:</span> <span class=\"token constant\">JPA</span> metamodel must not be empty<span class=\"token operator\">!</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token class-name\">Caused</span> by<span class=\"token operator\">:</span> <span class=\"token class-name\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span></span>BeanCreationException</span><span class=\"token operator\">:</span> <span class=\"token class-name\">Error</span> creating bean <span class=\"token keyword\">with</span> <span class=\"token namespace\">name</span> 'jpaMappingContext'<span class=\"token operator\">:</span> <span class=\"token class-name\">Invocation</span> of init method failed<span class=\"token punctuation\">;</span> \nnested exception is <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>IllegalArgumentException</span><span class=\"token operator\">:</span> <span class=\"token constant\">JPA</span> metamodel must not be empty<span class=\"token operator\">!</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p><code class=\"language-text\">JPA metamodel must not be empty</code>ë¼ëŠ” ë¬¸êµ¬ê°€ ëˆˆì— ëˆë‹¤.\ní•´ë‹¹ ë¬¸êµ¬ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê²€ìƒ‰í•´ë³´ë©´ <code class=\"language-text\">JpaMetamodelMappingContext</code>ë¼ëŠ” í´ë˜ìŠ¤ê°€ ë‚˜ì˜¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JpaMetamodelMappingContext</span>\n\t\t<span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMappingContext</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">JpaPersistentEntityImpl</span><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">JpaPersistentProperty</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Metamodels</span> models<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">PersistenceProvider</span> persistenceProvider<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">/**\n\t * Creates a new JPA {@link Metamodel} based {@link MappingContext}.\n\t *\n\t * @param models must not be {@literal null} or empty.\n\t */</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">JpaMetamodelMappingContext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Metamodel</span><span class=\"token punctuation\">></span></span> models<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token class-name\">Assert</span><span class=\"token punctuation\">.</span><span class=\"token function\">notNull</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">,</span> <span class=\"token string\">\"JPA metamodel must not be null!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">Assert</span><span class=\"token punctuation\">.</span><span class=\"token function\">notEmpty</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">,</span> <span class=\"token string\">\"JPA metamodel must not be empty!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>ì‚¬ì‹¤ ì´ ë¬¸êµ¬ë¡œ ê²€ìƒ‰í•˜ë©´ ë§ì€ ì‚¬ëŒë“¤ì´ í•´ê²°ë²•ì„ ì´ë¯¸ ì˜¬ë ¤ë‘ì—ˆë‹¤.\nê·¸ëŸ°ë° ì—¬ê¸°ê¹Œì§€ ì˜¤ë‹ˆ, <code class=\"language-text\">JPA metamodel</code>ì´ ëŒ€ì²´ ë­”ë°? <code class=\"language-text\">null</code>ë„ ì•„ë‹ˆê³  <code class=\"language-text\">empty</code>ë¼ê³ ?\nì´ê±°ë‘ <code class=\"language-text\">Auditing</code>ì€ ë¬´ìŠ¨ ìƒê´€ì´ì§€? ë“±ë“± ê¶ê¸ˆí•œ ì ì´ ìƒê²¨ì„œ ì½”ë“œë¥¼ ì¡°ê¸ˆ ì—´ì–´ë´¤ë‹¤.</p>\n<br>\n<h2 id=\"-jpa-metamodel\" style=\"position:relative;\"><a href=\"#-jpa-metamodel\" aria-label=\" jpa metamodel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘¾ JPA Metamodel</h2>\n<p>ê·¸ë ‡ë‹¤ë©´ í…ŒìŠ¤íŠ¸ê°€ ì˜ ì‹¤í–‰ ë  ë•Œì™€, <code class=\"language-text\">@WebMvcTest</code>ë¥¼ ë¶™ì—¬ ì‹¤í–‰ë˜ì§€ ì•Šì„ ë•Œ, ì € <code class=\"language-text\">models</code>ì—ëŠ” ë¬´ìŠ¨ ê°’ì´ ë“¤ì–´ê°€ìˆì„ê¹Œ?\nì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²½ìš°, <code class=\"language-text\">MetamodelImpl</code>ì´ë¼ëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì—”í‹°í‹° í´ë˜ìŠ¤ì™€ ê´€ë ¨ëœ ì •ë³´ê°€ ë‹´ê²¨ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB4ElEQVR42l2RyW4UMRiE530IEtwySXrx0t1e2kvP9AyEQ8jCeyBACiAliDf+kJ2BA4fSX5blclX9GzEaDrPH2ox0C7rA75Am042RbgwIkyrfCsu2N//Bct5PaONxMbE5i1/orj/jb7+h73/T3DzT3/5C3T3T3zyh755Rt0+8XX/yKj1ylh95vXz/h7PlB2+WryibGYxlc94qrNXcZ8d7n1l9JPnI6AKjj0w+4OLC4ALKzLRq4qJTbFv5MjtFIwdaodg2HZvzpseZjvs0ceMid3PgU0jsnMcYx2QdU+F+xs6BkBfEMNIIyVUnuGi7ylupuGj7IiiYneAhWz76xENIfHCBaH3FZD2je4GZi/OZTg2IYeKyE9XVVS8ReqSTms226dGD5OAHkvEs1mOdRxchP9fINkTsHLEhVcFWahqhqnCBHCc6pesHm2Kz/GCNQBuLMg5TegupxvMxM+cdIe/qFtNurW7lMDFaX9+USorgtkQugq2QeCsxztdLHxNx2ZP3B/J+rXNZj6T9Wmc5F8eDcVW0oPRYOywdNL2sPU5+rpF8Woi7leXwrgoU7I8nfjiiTyn+Lmpyc01ZBa96hbED19Gw95FjiBxC4pgyIaYavcZOywm5Our1S3/9qcfLuvGePyrEdQ6/5p1QAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"metamodel\"\n        title=\"\"\n        src=\"/static/723d9c45ddb107118ff118a946096b8c/37523/models_not_empty.png\"\n        srcset=\"/static/723d9c45ddb107118ff118a946096b8c/e9ff0/models_not_empty.png 180w,\n/static/723d9c45ddb107118ff118a946096b8c/f21e7/models_not_empty.png 360w,\n/static/723d9c45ddb107118ff118a946096b8c/37523/models_not_empty.png 720w,\n/static/723d9c45ddb107118ff118a946096b8c/302a4/models_not_empty.png 1080w,\n/static/723d9c45ddb107118ff118a946096b8c/07a9c/models_not_empty.png 1440w,\n/static/723d9c45ddb107118ff118a946096b8c/95e59/models_not_empty.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><code class=\"language-text\">@WebMvcTest</code>ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šì„ ë•ŒëŠ” í•´ë‹¹ <code class=\"language-text\">models</code>ê°€ ë¹„ì–´ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.111111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAP0lEQVR42mXFMRKAMAgAQb+lFkkEFCLU/v8l54ytxc4uogdPBuGFRKKeaBTq9W1RjHPSLdi7srW/tQnDnOtOXq23JA4mifhJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"metamodel empty\"\n        title=\"\"\n        src=\"/static/9fccb72b921b1d2b7efe811c83d1dc54/37523/models_empty.png\"\n        srcset=\"/static/9fccb72b921b1d2b7efe811c83d1dc54/e9ff0/models_empty.png 180w,\n/static/9fccb72b921b1d2b7efe811c83d1dc54/f21e7/models_empty.png 360w,\n/static/9fccb72b921b1d2b7efe811c83d1dc54/37523/models_empty.png 720w,\n/static/9fccb72b921b1d2b7efe811c83d1dc54/302a4/models_empty.png 1080w,\n/static/9fccb72b921b1d2b7efe811c83d1dc54/07a9c/models_empty.png 1440w,\n/static/9fccb72b921b1d2b7efe811c83d1dc54/95e59/models_empty.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì´ ì´ìŠˆë¥¼ ê²€ìƒ‰í•˜ë©´ ì œì¼ ìì£¼ ë‚˜ì˜¤ëŠ” í•´ê²°ë²•ì´ <code class=\"language-text\">@WebMvcTest</code>ë¥¼ ì“°ëŠ” ê³³ì— ì•„ë˜ì™€ ê°™ì´ <code class=\"language-text\">@MockBean</code>ì„ ì¶”ê°€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@WebMvcTest</span>\n<span class=\"token annotation punctuation\">@MockBean</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JpaMetamodelMappingContext</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ControllerTest</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì¼ë‹¨ ì´ í•´ê²°ë²•ì„ ì ìš©í–ˆì—ˆì§€ë§Œ, ë‚´ë¶€ ì½”ë“œë¥¼ ì—´ê³  ë³´ë‹ˆ ì˜ë¬¸ì´ ë“ ë‹¤.\nì´ë ‡ê²Œ í•˜ë©´ <code class=\"language-text\">JpaMetamodelMappingContext</code> ìƒì„±ìì˜ <code class=\"language-text\">Assert</code>ë¬¸ì´ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë‹ˆ í„°ì§€ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nê·¸ëŸ°ë° ì»¨íŠ¸ë¡¤ëŸ¬ ìŠ¬ë¼ì´ìŠ¤ í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•Šì„ JPA ê´€ë ¨ ë¹ˆì„ ëª¨í‚¹í•´ì£¼ëŠ” ê²ƒì´ ë§ì„ê¹Œ?</p>\n<p>ì–´ì¨Œë“  ì´ <code class=\"language-text\">MetamodelImpl</code>ì´ ì–´ë””ì„œ ìƒì„±ë˜ëŠ”ê°€ë¥¼ ë³´ìë©´â€¦</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqklEQVR42m2NUXLCMAwFcxuw3cSOZauUYdI2dhy4/4GWSWhnaIeP1ceTtK+z1uLcGzolpvmT2q6U2hAVPsqJuSyUZaW2dc/rsvI9V0IMPH7dH7rfMEhAsqCqZFUG3xPEE0WIkshnJZ0y+V13hjC8Fm5jWxizYTDmiDUH/DiQxJNiQMZASiOqI31vOW437iH7L+1etThjSJczX2Xi1irXH26tkKPfy59lz447mPJ+b0/GVaEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"SessionFactoryObserver\"\n        title=\"\"\n        src=\"/static/6a7541ca966e3424be235b81315a3593/37523/sessionfactoryobserver.png\"\n        srcset=\"/static/6a7541ca966e3424be235b81315a3593/e9ff0/sessionfactoryobserver.png 180w,\n/static/6a7541ca966e3424be235b81315a3593/f21e7/sessionfactoryobserver.png 360w,\n/static/6a7541ca966e3424be235b81315a3593/37523/sessionfactoryobserver.png 720w,\n/static/6a7541ca966e3424be235b81315a3593/302a4/sessionfactoryobserver.png 1080w,\n/static/6a7541ca966e3424be235b81315a3593/07a9c/sessionfactoryobserver.png 1440w,\n/static/6a7541ca966e3424be235b81315a3593/95e59/sessionfactoryobserver.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Incubating</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TypeConfiguration</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">SessionFactoryObserver</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MetamodelImplementor</span> <span class=\"token function\">scope</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SessionFactoryImplementor</span> sessionFactory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\tlog<span class=\"token punctuation\">.</span><span class=\"token function\">debugf</span><span class=\"token punctuation\">(</span> <span class=\"token string\">\"Scoping TypeConfiguration [%s] to SessionFactoryImpl [%s]\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> sessionFactory <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span> <span class=\"token class-name\">Map<span class=\"token punctuation\">.</span>Entry</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> importEntry <span class=\"token operator\">:</span> scope<span class=\"token punctuation\">.</span>metadataBuildingContext<span class=\"token punctuation\">.</span><span class=\"token function\">getMetadataCollector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getImports</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">entrySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> importMap<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span> importEntry<span class=\"token punctuation\">.</span><span class=\"token function\">getKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\n\t\t\timportMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span> importEntry<span class=\"token punctuation\">.</span><span class=\"token function\">getKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> importEntry<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\tscope<span class=\"token punctuation\">.</span><span class=\"token function\">setSessionFactory</span><span class=\"token punctuation\">(</span> sessionFactory <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tsessionFactory<span class=\"token punctuation\">.</span><span class=\"token function\">addObserver</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">this</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MetamodelImpl</span><span class=\"token punctuation\">(</span> sessionFactory<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  </code></pre></div>\n<p><code class=\"language-text\">SessionFactoryObserver</code>ë¥¼ êµ¬í˜„í•œ <code class=\"language-text\">TypeConfiguration</code> í´ë˜ìŠ¤ì˜ <code class=\"language-text\">scope</code>ë¼ëŠ” ë©”ì„œë“œì—ì„œ ìƒì„±í•´ì£¼ê³  ìˆë‹¤.\nê·¸ë¦¬ê³  ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê³³ì€ <code class=\"language-text\">Hibernate</code>ì˜ <code class=\"language-text\">SessionFactoryImpl</code>ë¼ëŠ” í´ë˜ìŠ¤ë‹¤.\nì´ í´ë˜ìŠ¤ëŠ” <code class=\"language-text\">JPA</code>ì˜ <code class=\"language-text\">EntityManagerFactory</code>ë¥¼ ìƒì†í•˜ê³  ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABKklEQVR42nVS27KDIAz0cwooclFU7tX+/y9th7TanumchwWSwM5uQsc5B2PsQos54//GZ24KFqkUlH1HTAV9LyjfiV5g1COU0lBaQ0qJYRxesdIY5ACpJNXOO+Oo0MseyiqYydKbRiaEQCfVgDVuSLUg14rZzbCbQbq/YussluiQSkV53GkPMcEsBr4G1OPANM+knAjb0lQoo6Ftg4E2Bnp6w2hI3eoKxlmqNwfNWQMX/FJ3WXZxRi4VudypJ/VxoNQddT8QQoZZNHwMyHslhc367XaD4OKFNxkp5Fz8Nr1n4IKBCYZxknCrg1sWzKsje+3cXJwkRCj4afmTvMA/u5pGrMHDh4RQEnyI1ENr7R/CE90P2Rfoy/AexgeknGlIrTXb5q8hfNtthE9KU/ru6wlswgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"SessionFactoryImpl\"\n        title=\"\"\n        src=\"/static/759d4349731893465904fe5e8d57ae45/37523/SessionFactoryImpl.png\"\n        srcset=\"/static/759d4349731893465904fe5e8d57ae45/e9ff0/SessionFactoryImpl.png 180w,\n/static/759d4349731893465904fe5e8d57ae45/f21e7/SessionFactoryImpl.png 360w,\n/static/759d4349731893465904fe5e8d57ae45/37523/SessionFactoryImpl.png 720w,\n/static/759d4349731893465904fe5e8d57ae45/302a4/SessionFactoryImpl.png 1080w,\n/static/759d4349731893465904fe5e8d57ae45/07a9c/SessionFactoryImpl.png 1440w,\n/static/759d4349731893465904fe5e8d57ae45/95e59/SessionFactoryImpl.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SessionFactoryImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">SessionFactoryImplementor</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">SessionFactoryImpl</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token keyword\">final</span> <span class=\"token class-name\">MetadataImplementor</span> metadata<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token class-name\">SessionFactoryOptions</span> options<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token class-name\">QueryPlanCache<span class=\"token punctuation\">.</span>QueryPlanCreator</span> queryPlanCacheFunction<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n        <span class=\"token punctuation\">(</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">MetamodelImpl</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>metamodel <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span>\n\t\t\tmetadata<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token function\">determineJpaMetaModelPopulationSetting</span><span class=\"token punctuation\">(</span> properties <span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì—¬ê¸°ì„œ <code class=\"language-text\">MetamodelImpl.initialize()</code>ë¥¼ í˜¸ì¶œí•˜ê³ â€¦</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MetamodelImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MetamodelImplementor</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MetadataImplementor</span> mappingMetadata<span class=\"token punctuation\">,</span> <span class=\"token class-name\">JpaMetaModelPopulationSetting</span> jpaMetaModelPopulationSetting<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>imports<span class=\"token punctuation\">.</span><span class=\"token function\">putAll</span><span class=\"token punctuation\">(</span> mappingMetadata<span class=\"token punctuation\">.</span><span class=\"token function\">getImports</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì€ <code class=\"language-text\">mappingMetadata</code>ì—ì„œ ì—¬ëŸ¬ ê°’ì„ ë¶ˆëŸ¬ì™€ ì €ì¥í•˜ê²Œ ëœë‹¤.\nì´ <code class=\"language-text\">mappingMetadata</code>ëŠ” <code class=\"language-text\">SessionFactoryBuilderImpl</code>ì„ í†µí•´ <code class=\"language-text\">SessionFactoryImpl</code>ì— ì£¼ì…ë˜ê³ ,\n<code class=\"language-text\">SessionFactoryBuilderImpl</code>ì€ <code class=\"language-text\">DefaultSessionFactoryBuilderService</code>ì„ í†µí•´ ìƒì„±ë˜ëŠ”ë°â€¦\nì˜ ê³¼ì •ì„ ë”°ë¼ê°€ë‹¤ë³´ë‹ˆ ì–´ëŠìƒˆ <code class=\"language-text\">MetadataImpl</code>ë¡œ ëŒì•„ì˜¤ê³  ìˆì—ˆë‹¤. ğŸ˜µ</p>\n<p>ê²°ë¡ ì€ ì´ <code class=\"language-text\">MetamodelImpl</code>ì€ ì—”í‹°í‹° ì •ë³´ë¥¼ ë‹´ì€ JPA <code class=\"language-text\">Metamodel</code>ì˜ í•˜ì´ë²„ë„¤ì´íŠ¸ì˜ êµ¬í˜„ì²´ë©°, ê·¸ë˜ì„œ <code class=\"language-text\">@WebMvcTest</code>ì—ì„œ ìƒì„±ë˜ì§€ ì•Šì•˜ë˜ ê²ƒì´ë‹¤.\nì›ë˜ ìµœì´ˆ ìƒì„± ì‹œì ì„ ì°¾ìœ¼ë ¤ê³  í–ˆëŠ”ë° ê²°êµ­ ì°¾ì§€ ëª»í–ˆë‹¤.</p>\n<p>JPA ê´€ë ¨ ë¹ˆì´ ë¡œë”©ë˜ëŠ” <code class=\"language-text\">@DataJpaTest</code>ê°€ ë¶™ì€ í…ŒìŠ¤íŠ¸ëŠ” <code class=\"language-text\">models</code>ê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë˜ì–´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</p>\n<br>\n<h2 id=\"-enablejpaauditing\" style=\"position:relative;\"><a href=\"#-enablejpaauditing\" aria-label=\" enablejpaauditing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ§ EnableJpaAuditing</h2>\n<p>ê·¸ë ‡ë‹¤ë©´ ì–´ë–¤ ê²½ìœ„ë¡œ ì´ <code class=\"language-text\">Metamodel</code>ì´ í•„ìš”í–ˆë˜ ê±¸ê¹Œ?\nAuditingì„ ìœ„í•´ ì¶”ê°€í–ˆë˜ <code class=\"language-text\">@EnableJpaAuditing</code> ì–´ë…¸í…Œì´ì…˜ì„ ë³´ë©´ <code class=\"language-text\">JpaAuditingRegistrar</code> í´ë˜ìŠ¤ë¥¼ import í•˜ê³  ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Import</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JpaAuditingRegistrar</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">EnableJpaAuditing</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">JpaAuditingRegistrar</code>ëŠ” spring data jpaì— ë“¤ì–´ìˆëŠ”ë°, springì˜ <code class=\"language-text\">ImportBeanDefinitionRegistrar</code> í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê³  ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtElEQVR42o2RSw7CMAxEexuSNC0U6vqXsOD+dxpEEB9FRWIxGi8mz2NlGMcRvVJKmE8zNttgXuClwr2+Z1FFzrnl+rdDD2oeI8acsNACIgaLgF1B22NWrCshxvjJf4GHvXbT8YiVBcLaAA+gqDzB/PG9lvvAecZFGGrexFbA5QYWA6vBvLZFfbvfJ6eEcDhgmjKIzlAmmGpzoQtSDAgh/H/y+2OWEzZVFPemWq9ws7aoz7+Ad96CuopcZXtiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JpaAuditingRegistrar\"\n        title=\"\"\n        src=\"/static/03cf5aa0426628543dec4b0843ee2d35/37523/JpaAuditingRegistrar.png\"\n        srcset=\"/static/03cf5aa0426628543dec4b0843ee2d35/e9ff0/JpaAuditingRegistrar.png 180w,\n/static/03cf5aa0426628543dec4b0843ee2d35/f21e7/JpaAuditingRegistrar.png 360w,\n/static/03cf5aa0426628543dec4b0843ee2d35/37523/JpaAuditingRegistrar.png 720w,\n/static/03cf5aa0426628543dec4b0843ee2d35/302a4/JpaAuditingRegistrar.png 1080w,\n/static/03cf5aa0426628543dec4b0843ee2d35/07a9c/JpaAuditingRegistrar.png 1440w,\n/static/03cf5aa0426628543dec4b0843ee2d35/95e59/JpaAuditingRegistrar.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><a href=\"https://javacan.tistory.com/entry/spring-at-enable-config\">ìŠ¤í”„ë§ @Enable ì„¤ì • ì„¸ ê°€ì§€ êµ¬í˜„ ë°©ì‹ - ìë°”ìº”</a> í¬ìŠ¤íŒ…ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ ì´í•´ì— ë„ì›€ì„ ë°›ì•˜ëŠ”ë°, ì´ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•´ ë¹ˆ ì„¤ì •ì„ ì§ì ‘ ë“±ë¡í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.\në°”ë¡œ ìƒìœ„ì˜ <code class=\"language-text\">AuditingBeanDefinitionRegistrarSupport</code>ì—ì„œ í•˜ìœ„ <code class=\"language-text\">JpaAuditingRegistrar</code>ì˜ <code class=\"language-text\">registerAuditListenerBeanDefinition</code>ë¥¼ í˜¸ì¶œí•˜ê³  ìˆê³ â€¦</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuditingBeanDefinitionRegistrarSupport</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ImportBeanDefinitionRegistrar</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token annotation punctuation\">@Override</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">registerBeanDefinitions</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AnnotationMetadata</span> annotationMetadata<span class=\"token punctuation\">,</span> <span class=\"token class-name\">BeanDefinitionRegistry</span> registry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token class-name\">Assert</span><span class=\"token punctuation\">.</span><span class=\"token function\">notNull</span><span class=\"token punctuation\">(</span>annotationMetadata<span class=\"token punctuation\">,</span> <span class=\"token string\">\"AnnotationMetadata must not be null\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">Assert</span><span class=\"token punctuation\">.</span><span class=\"token function\">notNull</span><span class=\"token punctuation\">(</span>registry<span class=\"token punctuation\">,</span> <span class=\"token string\">\"BeanDefinitionRegistry must not be null\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token class-name\">AbstractBeanDefinition</span> ahbd <span class=\"token operator\">=</span> <span class=\"token function\">registerAuditHandlerBeanDefinition</span><span class=\"token punctuation\">(</span>registry<span class=\"token punctuation\">,</span> <span class=\"token function\">getConfiguration</span><span class=\"token punctuation\">(</span>annotationMetadata<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">registerAuditListenerBeanDefinition</span><span class=\"token punctuation\">(</span>ahbd<span class=\"token punctuation\">,</span> registry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>ì´ ë©”ì„œë“œì—ì„œ í¬ìŠ¤íŒ… ì´ˆë°˜ì— ë´¤ë˜ í‚¤ì›Œë“œë¥¼ ë°œê²¬í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">JpaAuditingRegistrar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AuditingBeanDefinitionRegistrarSupport</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n\t<span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">registerAuditListenerBeanDefinition</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BeanDefinition</span> auditingHandlerDefinition<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token class-name\">BeanDefinitionRegistry</span> registry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>registry<span class=\"token punctuation\">.</span><span class=\"token function\">containsBeanDefinition</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JPA_MAPPING_CONTEXT_BEAN_NAME</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\tregistry<span class=\"token punctuation\">.</span><span class=\"token function\">registerBeanDefinition</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JPA_MAPPING_CONTEXT_BEAN_NAME</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//</span>\n\t\t\t\t\t<span class=\"token keyword\">new</span> <span class=\"token class-name\">RootBeanDefinition</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JpaMetamodelMappingContextFactoryBean</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p><code class=\"language-text\">JPA metamodel must not be empty</code> ì—ëŸ¬ ë¬¸êµ¬ê°€ ìˆë˜ <code class=\"language-text\">JpaMetamodelMappingContext</code> í´ë˜ìŠ¤ê°€ ê¸°ì–µë‚˜ëŠ”ê°€?\n<code class=\"language-text\">JpaMetamodelMappingContextFactoryBean</code>ë¼ëŠ” ì •ì§í•œ ì´ë¦„ì˜ íŒ©í† ë¦¬ ë¹ˆì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì£¼ê³  ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JpaMetamodelMappingContextFactoryBean</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractFactoryBean</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">JpaMetamodelMappingContext</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ApplicationContextAware</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n\t<span class=\"token keyword\">protected</span> <span class=\"token class-name\">JpaMetamodelMappingContext</span> <span class=\"token function\">createInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">LOG</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDebugEnabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token constant\">LOG</span><span class=\"token punctuation\">.</span><span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Initializing JpaMetamodelMappingContextâ€¦\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token class-name\">JpaMetamodelMappingContext</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JpaMetamodelMappingContext</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMetamodels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        context<span class=\"token punctuation\">.</span><span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">LOG</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDebugEnabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token constant\">LOG</span><span class=\"token punctuation\">.</span><span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Finished initializing JpaMetamodelMappingContext!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">return</span> context<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token comment\">/**\n\t * Obtains all {@link Metamodel} instances of the current {@link ApplicationContext}.\n\t **/</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Metamodel</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getMetamodels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>beanFactory <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalStateException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BeanFactory must not be null!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token class-name\">Collection</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">EntityManagerFactory</span><span class=\"token punctuation\">></span></span> factories <span class=\"token operator\">=</span> <span class=\"token class-name\">BeanFactoryUtils</span>\n\t\t\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">beansOfTypeIncludingAncestors</span><span class=\"token punctuation\">(</span>beanFactory<span class=\"token punctuation\">,</span> <span class=\"token class-name\">EntityManagerFactory</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">return</span> factories<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//</span>\n\t\t\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EntityManagerFactory</span><span class=\"token operator\">::</span><span class=\"token function\">getMetamodel</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//</span>\n\t\t\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StreamUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUnmodifiableSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">getMetamodels()</code> ë©”ì„œë“œì— ì¹œì ˆí•˜ê²Œ í˜„ì¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì˜ ëª¨ë“  <code class=\"language-text\">Metamodel</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¾ëŠ”ë‹¤ê³  ì í˜€ìˆë‹¤.\nì•„ê¹Œ ë³´ì•˜ë˜ <code class=\"language-text\">EntityManagerFactory</code>ë„ ë³´ì¸ë‹¤.</p>\n<br>\n<h2 id=\"-ë”-ë‚˜ì€-í•´ê²°ë²•\" style=\"position:relative;\"><a href=\"#-%EB%8D%94-%EB%82%98%EC%9D%80-%ED%95%B4%EA%B2%B0%EB%B2%95\" aria-label=\" ë” ë‚˜ì€ í•´ê²°ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘€ ë” ë‚˜ì€ í•´ê²°ë²•?</h2>\n<p><code class=\"language-text\">@WebMvcTest</code>ë¡œ ì‹¤í–‰í•  ë•ŒëŠ” JPA ê´€ë ¨ ë¹ˆì´ ë¡œë”©ë˜ì§€ ì•Šì•„ì„œ. ë¼ëŠ” ì´ìœ ë¥¼ ë‚©ë“í•˜ê¸° ìœ„í•´ ë§ì´ ëŒì•„ì™”ë‹¤.\n<code class=\"language-text\">@MockBean</code>ì„ ì“°ë©´ <code class=\"language-text\">@WebMvcTest</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ëŠ˜ì–´ë‚  ë•Œ ë§ˆë‹¤ ë¶™ì—¬ì¤˜ì•¼ í•œë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\ní•˜ì§€ë§Œ ì´ ì‚¬ì†Œí•œ ê·€ì°®ìŒì´ ì§„ì§œ ë¬¸ì œëŠ” ì•„ë‹ˆë¼ê³  ìƒê°í•œë‹¤.\n<strong>ì§„ì§œ ë¬¸ì œ</strong>ëŠ” <code class=\"language-text\">@WebMvcTest</code>ì—ì„œ ì˜ë„í•œ ëŒ€ë¡œ ë¹ˆ ì„¤ì •ì´ ë¶„ë¦¬ë˜ê³  ìˆì§€ ì•ŠëŠ” ìƒí™©ì´ ì•„ë‹ê¹Œ?</p>\n<p>Auditingì„ ë„ì…í•  ë•Œ, <code class=\"language-text\">Application</code> í´ë˜ìŠ¤ì— <code class=\"language-text\">@EnableJpaAuditing</code>ì„ ë¶™ì˜€ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@EnableJpaAuditing</span>\n<span class=\"token annotation punctuation\">@ConfigurationPropertiesScan</span>\n<span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PickpickApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PickpickApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">@MockBean</code> í•´ê²°ë²•ì´ ê²€ìƒ‰ì— ë§ì´ ë‚˜ì˜¤ëŠ” ê±¸ ë³´ë©´, ì´ë ‡ê²Œ ì„¤ì •í•œ ì‚¬ëŒë“¤ì´ ë§ì€ ë“¯ í•˜ë‹¤.\nì´ë¥¼ <code class=\"language-text\">@Configuration</code> í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í•´ <code class=\"language-text\">@EnableJpaAuditing</code>ë¥¼ ê±°ê¸° ë¶™ì´ëŠ” í•´ê²° ë°©ë²•ì´ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ConfigurationPropertiesScan</span>\n<span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PickpickApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PickpickApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token annotation punctuation\">@EnableJpaAuditing</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuditingConfig</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•˜ë©´ <code class=\"language-text\">@WebMvcTest</code>ì—ì„œ <code class=\"language-text\">@MockBean</code>ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.\ní•´ë‹¹ ë°©ì‹ìœ¼ë¡œ ë¦¬íŒ©í† ë§ í•˜ê¸°ë¥¼ ì œì•ˆí•´ë´ì•¼ê² ë‹¤.</p>\n<br>\n<h3 id=\"-ë¶€ë¡---ìë°”ë…ì„-ì˜-ì½ì\" style=\"position:relative;\"><a href=\"#-%EB%B6%80%EB%A1%9D---%EC%9E%90%EB%B0%94%EB%8F%85%EC%9D%84-%EC%9E%98-%EC%9D%BD%EC%9E%90\" aria-label=\" ë¶€ë¡   ìë°”ë…ì„ ì˜ ì½ì permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“š ë¶€ë¡ - ìë°”ë…ì„ ì˜ ì½ì</h3>\n<p>ì¶”ê°€ë¡œ ë³¼ë§Œí•œ ë¶€ë¶„ì´ ìˆë‹¤.\nAuditingì„ ì‚¬ìš©í•  ì—”í‹°í‹°ì— ë¶™ì´ëŠ” ë¦¬ìŠ¤ë„ˆ í´ë˜ìŠ¤ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token annotation punctuation\">@EntityListeners</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AuditingEntityListener</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Bookmark</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•´ë‹¹ ë¦¬ìŠ¤ë„ˆ í´ë˜ìŠ¤ì˜ ìë°”ë… ì£¼ì„ì„ ë³´ë©´ <code class=\"language-text\">@Configuration</code> í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\n<span class=\"token comment\">/**\n * JPA entity listener to capture auditing information on persiting and updating entities. To get this one flying be\n * sure you configure it as entity listener in your {@code orm.xml} as follows:\n * ...\n * After that it's just a matter of activating auditing in your Spring config:\n *\n * @Configuration\n * @EnableJpaAuditing\n * class ApplicationConfig {\n *\n * }\n */</span>\n<span class=\"token annotation punctuation\">@Configurable</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuditingEntityListener</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë¬¼ë¡  ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ë¼ê³  ì˜¬ë ¤ë‘” ê²ƒì€ ì•„ë‹ˆê² ìœ¼ë‚˜â€¦ ìë°”ë…ì„ ì±™ê²¨ë³´ëŠ” ìŠµê´€ì„ ê¸°ë¥´ë©´ ë„ì›€ì´ ë  ê²ƒ ê°™ë‹¤.</p>\n<p>ë¡œì»¬ì—ì„œ ì˜ ëŒì•„ê°€ê³ , ë¨¸ì§€ ë•Œ ì¶©ëŒë„ ë‚˜ì§€ ì•ŠëŠ” ì½”ë“œê°€, ê¹ƒí—™ ì•¡ì…˜ì—ì„œ í„°ì§€ëŠ” ì´ë²ˆ ê°™ì€ ë•Œê°€ ì¢…ì¢… ìˆë‹¤.\nCI êµ¬ì¶•â€¦ ì°¸ ì†Œì¤‘í•˜ë‹¤.</p>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9\">ğŸ’£ ë¬¸ì œìƒí™©</a></p>\n</li>\n<li>\n<p><a href=\"#-jpa-metamodel\">ğŸ‘¾ JPA Metamodel</a></p>\n</li>\n<li>\n<p><a href=\"#-enablejpaauditing\">ğŸ§ EnableJpaAuditing</a></p>\n</li>\n<li>\n<p><a href=\"#-%EB%8D%94-%EB%82%98%EC%9D%80-%ED%95%B4%EA%B2%B0%EB%B2%95\">ğŸ‘€ ë” ë‚˜ì€ í•´ê²°ë²•?</a></p>\n<ul>\n<li><a href=\"#-%EB%B6%80%EB%A1%9D---%EC%9E%90%EB%B0%94%EB%8F%85%EC%9D%84-%EC%9E%98-%EC%9D%BD%EC%9E%90\">ğŸ“š ë¶€ë¡ - ìë°”ë…ì„ ì˜ ì½ì</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"ğŸ’£ ë¬¸ì œìƒí™© ì¤ì¤ì—ëŠ” ë¶ë§ˆí¬ ì„¤ì •í•œ ë©”ì‹œì§€ë¥¼ ëª¨ì•„ì„œ ë³´ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.\nê¸°ì¡´ì—ëŠ” ì´ ë¶ë§ˆí¬ ëª©ë¡ì„ ë³´ì—¬ì¤„ ë•Œ, ë¶ë§ˆí¬ê°€ ë“±ë¡ ëœ ë©”ì‹œì§€ì˜ ìƒì„± ì‹œê°„ ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì¤¬ë‹¤.\nê·¸ëŸ¬ë‹¤ ì‚¬ìš©ì í¸ì˜ë¥¼ ìœ„í•´ ì´ë¥¼ ë¶ë§ˆí¬ ë“±ë¡ ì‹œê°„ ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì£¼ê¸°ë¡œ ë°”ê¿¨ë‹¤.\nì´ ë•Œ, ë¶ë§ˆí¬ ë“±ë¡ ì‹œê°„ì„ í¸í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì„ ë„ì…í–ˆë‹¤.\nê·¸ë¦¬ê³  í•´ë‹¹ PRì€ ìˆœì¡°ë¡­ê²Œ ë¨¸ì§€ ë˜ì—ˆëŠ”ë°â€¦ íŒ€ì› ë´„ì´ ì§„í–‰í•œ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ WebMvcTestë¡œ ê°œì„ í•˜ëŠ” PRì—ì„œ ë¬¸ì œê°€ ìƒê²¼ë‹¤.\në´„ì˜ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ê°€ ì˜ ëŒì•„ê°€ëŠ” ìƒíƒœì˜€ëŠ”ë°, PRì˜ github actionì—ì„œëŠ” í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í–ˆë‹¤.  ë¡œ ë³€ê²½í•œ ëª¨ë“  ìš© ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ê°€ ê°™ì€ ì´ìœ ë¡œ ì‹¤íŒ¨í•˜ê³  ìˆì—ˆë‹¤. ë¼ëŠ” ë¬¸êµ¬ê°€ ëˆˆì— ëˆë‹¤.\ní•´ë‹¹ ë¬¸êµ¬ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê²€ìƒ‰í•´ë³´ë©´ ë¼ëŠ” í´ë˜ìŠ¤ê°€ ë‚˜ì˜¨ë‹¤. ì‚¬ì‹¤ ì´ ë¬¸êµ¬ë¡œ ê²€ìƒ‰í•˜ë©´ ë§ì€ ì‚¬ëŒë“¤ì´ í•´ê²°ë²•ì„ ì´ë¯¸ ì˜¬ë ¤ë‘ì—ˆë‹¤.\nê·¸ëŸ°ë° ì—¬ê¸°ê¹Œì§€ ì˜¤ë‹ˆ, ì´ ëŒ€ì²´ ë­”ë°? ë„ ì•„ë‹ˆê³  ë¼ê³ ?\nì´ê±°ë‘ ì€ ë¬´ìŠ¨ ìƒê´€ì´ì§€? ë“±ë“± ê¶ê¸ˆí•œ ì ì´ ìƒê²¨ì„œ ì½”ë“œë¥¼ ì¡°ê¸ˆâ€¦","frontmatter":{"date":"October 14, 2022","title":"[JPA] EnableJpaAuditingì˜ ë‚´ë¶€ì™€ CIì˜ ì†Œì¤‘í•¨","categories":"Spring JPA íŠ¸ëŸ¬ë¸”ìŠˆíŒ…","author":"ì¨ë¨¸","emoji":"headers/jpa-auditing-and-ci.png"},"fields":{"slug":"/jpa-auditing-and-ci/"}},"next":{"id":"a198acc4-a013-5a67-aa95-56891f5f28ff","html":"<h2 id=\"-ì¤ì¤-mysql-ì¸ë±ìŠ¤-íƒí—˜\" style=\"position:relative;\"><a href=\"#-%EC%A4%8D%EC%A4%8D-mysql-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%ED%83%90%ED%97%98\" aria-label=\" ì¤ì¤ mysql ì¸ë±ìŠ¤ íƒí—˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ§³ ì¤ì¤ MySQL ì¸ë±ìŠ¤ íƒí—˜</h2>\n<p>â—ï¸ í•´ë‹¹ í¬ìŠ¤íŒ…ì—ì„œ ì§€ì¹­í•˜ëŠ” <strong>ì±…</strong>ì€ ëª¨ë‘ <a href=\"https://search.shopping.naver.com/book/catalog/32443973624?cat_id=50010586&#x26;frm=PBOKPRO&#x26;query=realmysql&#x26;NaPm=ct%3Dl8u5bsc0%7Cci%3D283e817c3ef615da4bb3c94f9385d94070cbbc93%7Ctr%3Dboknx%7Csn%3D95694%7Chk%3D702ada6411525c62218b0df3e900c84c33c4cdd2\">Real MySQL 8.0 1ê¶Œ</a>ì„ ëœ»í•©ë‹ˆë‹¤.</p>\n<p>ìš°í…Œì½” íŒ€ í”„ë¡œì íŠ¸ 5ì°¨ ìŠ¤í”„ë¦°íŠ¸ì—ì„œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¡œ í†°ìº£ ì„¤ì • ìµœì í™” / ëª¨ë“  ì¿¼ë¦¬ ìˆ˜ì§‘ í›„ DB ì¸ë±ìŠ¤ ì„¤ì • ì´ë¼ëŠ” ë‘ ê°œì˜ ë°±ì—”ë“œ ê³¼ì œê°€ ìˆì—ˆë‹¤.\në‚˜ëŠ” ì´ ì¤‘ <strong>DB ì¸ë±ìŠ¤ ì„¤ì •</strong>ì„ ë§¡ê²Œ ë˜ì—ˆë‹¤.\nì¤ì¤ì˜ ì „ì²´ í…Œì´ë¸” êµ¬ì¡°ëŠ” ì •ì„ ERDë³´ë‹¤ ê°„ëµí•˜ê²Œ í‘œí˜„í•˜ìë©´ ì´ë ‡ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB7klEQVR42kWSyXbaQBBF+YCgAfWgeUKSEUEixDgCYbwwPuY4+f/vuTlqjL2oRVd3Vb+6r2aLxYIpbNtmPp/jOA7fOQfbsui7jsMwoLXGdhzcz3vXdbEsy9Tez7N7clmWpihJktsD12HTRGRZRpFlnMaRLM/xhY2SHj/mNkophmFgu91+NwwCRZ6nJFHEcRjYbDYITxMqRbsMeb28UdWVKXx9vZAnPqm2qIqYKIpYrVbsdrsvlTNfC4Y/T4Sfl+fzM3GUkfgRSeBxOI7UdcXj4yN9vyVQC4pc8etpx/V6pV23HI9H0jTF8zxmnrdASmEON34uQmjSICbSDo6zMEgmvpZl40uXsEhRYcx63RokTdNQ1/Vt5An8lOz73kjfbnvyfEmsAwJlMbdsfq7XPO33SKXQnk1aJlj29JmN7/tIKb9H1lri+5ogCEzDPM9QMiQPC5oiwhOSsijMyJ4nCCJN0jafJjgcDgfD96uhkoLn59GYsd/vDZM0jOiKjOOm4nJ5M2ynwnK5JPQlVZvze7cy7hZFYYRMzQxDx3Fp2zVt2/Lw8EBV1WYtXGdOHCr+/fvLOI68vLzw8fFB4Pu4UtJ0Hdf3d7qu43Q6UZblTeF9qaeYTLkvtmGbxoapENKoOJ/PBo1tTXvqfqkSQpiYTPkPITIP6s7pxgYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"erd\"\n        title=\"\"\n        src=\"/static/04f240438cca4d0a360f7e62c155feaa/37523/jupjup_tables.png\"\n        srcset=\"/static/04f240438cca4d0a360f7e62c155feaa/e9ff0/jupjup_tables.png 180w,\n/static/04f240438cca4d0a360f7e62c155feaa/f21e7/jupjup_tables.png 360w,\n/static/04f240438cca4d0a360f7e62c155feaa/37523/jupjup_tables.png 720w,\n/static/04f240438cca4d0a360f7e62c155feaa/302a4/jupjup_tables.png 1080w,\n/static/04f240438cca4d0a360f7e62c155feaa/07a9c/jupjup_tables.png 1440w,\n/static/04f240438cca4d0a360f7e62c155feaa/95e59/jupjup_tables.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì¿¼ë¦¬ ìˆ˜ì§‘ì€ ì‰¬ì› ë‹¤.\nì¤ì¤ì˜ ëª¨ë“  <code class=\"language-text\">Repository</code> í´ë˜ìŠ¤ë“¤ì€ <code class=\"language-text\">Repository&lt;Domain, ID></code>ë¥¼ ìƒì†í–ˆë‹¤.\n<code class=\"language-text\">JpaRepository</code>ëŠ” ì„ ì–¸í•˜ì§€ ì•Šì€ ë©”ì„œë“œë„ ì‚¬ìš© ê°€ëŠ¥í•œ ë°˜ë©´, <code class=\"language-text\">Repository</code>ë¥¼ ìƒì†í•˜ë©´ ì„ ì–¸í•œ ë©”ì„œë“œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABlElEQVR42n2Q2XLaQBBF9Tmg0YwWRguUTezEGKF9Q8LYyf//xUnNQIXySx5OdVd168xVOzst0b4gCQRJpEjSzBInGToKyEKXOI5Jsx1ax6RpykZrtNZEoUTK7zjRJkL6IVL5uJ5EeI+hJ5Xl1j94CBRSqVu94/yqZvLmzKFq2O937J4yNmmKTjLiNEP/j+TOvTf7ThCGZNrn8PxM+brn51NGtt0SRRG+798JCILA1gc+YRhazMyglMKRSrL2PFxXsloLlAyYz1cuX3+o255T1Vjysv7XW8qGuhsYppnxvNhdE86Rnkfir8giYQ+9S7dcpk/m6xfjNNMNE003UDUdp7LmWFTkd4zYzKf5Qtl0N6HneSgpSPw1caR5+3FgHhbG5YNuGGm7gbrt6PqRoqx5zwuOp5K395zD8URelDRtT1HVD6ErBKu1i6cUry8vLMPCtFwZp7NNYH7HyE29pW0p69bKzANmp6gagsAIpcT1BEIIK96EEct4Zfn8zXL5sMttP1phY4W9/dikNmcwyfthsqdQvs9fj5I1Ur7GSOcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JpaRepository\"\n        title=\"\"\n        src=\"/static/610e8798201278004b7fd531bea1d86f/37523/jpa_repository.png\"\n        srcset=\"/static/610e8798201278004b7fd531bea1d86f/e9ff0/jpa_repository.png 180w,\n/static/610e8798201278004b7fd531bea1d86f/f21e7/jpa_repository.png 360w,\n/static/610e8798201278004b7fd531bea1d86f/37523/jpa_repository.png 720w,\n/static/610e8798201278004b7fd531bea1d86f/302a4/jpa_repository.png 1080w,\n/static/610e8798201278004b7fd531bea1d86f/07a9c/jpa_repository.png 1440w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div style=\"text-align:center; font-style:italic; color:grey;\">\n  JpaRepositoryë¥¼ ìƒì†í–ˆì„ ë•Œ\n</div>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABf0lEQVR42o3S2W7bMBCFYb2OtVAkJYqSbVmb7XiJvMZwk7ZIUyBA3/8F/kK0gbZAivbiw5kBBueG9KwKsVpQJILcaGxumU0s43FOZhIK7aO1QieGJE1I0hSpFFrH+L5PEAR/8CIhKJsFVT1jvlwwnVj6uWHbptRlRmatK8usIQx8RiPfFf2NJ0RMPc1ZtzmbeUbbdTRdS1WVmFSTF2O0EoRhRBiG/+RJEaJVjLWWNFGUNqYwEUIMYuI4dnMU/R+vW/c0Dz1lO8dkGYkZWNLsJsl+zR/L7267Z8uOpq5ZrpZsliVtZdEmRcSSWA7UnfzQcOduY4lUGi+KQoIowJgMk1lntd6yWD4wmZbOtJz9pqKcVW4esmk76qZ1KaUcCiPSeEQifPcdbGp4ub7y9v6D6/MLu8OJbb9nve1ZP+5YbfubzSP9/sj5cnV3x/MFKRXe8Hoy8imUj9EJVVHx9vyNL9/f+fz1lfPlE/vjE7vj2eWmP9zt3X44Pbmy0+WK0pqftO4rhLG/PU4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Repository\"\n        title=\"\"\n        src=\"/static/07fa46015009235d0a4b55a84bc7d699/37523/repository.png\"\n        srcset=\"/static/07fa46015009235d0a4b55a84bc7d699/e9ff0/repository.png 180w,\n/static/07fa46015009235d0a4b55a84bc7d699/f21e7/repository.png 360w,\n/static/07fa46015009235d0a4b55a84bc7d699/37523/repository.png 720w,\n/static/07fa46015009235d0a4b55a84bc7d699/302a4/repository.png 1080w,\n/static/07fa46015009235d0a4b55a84bc7d699/07a9c/repository.png 1440w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div style=\"text-align:center; font-style:italic; color:grey;\">\n  Repositoryë¥¼ ìƒì†í–ˆì„ ë•Œ\n</div>\n<br>\n<p>ë’¤ì§‘ì–´ ë§í•˜ë©´ <code class=\"language-text\">QueryDsl</code>ì‚¬ìš©ì„ ì œì™¸í•˜ë©´, <code class=\"language-text\">Repository</code> ì½”ë“œì˜ ëª¨ë“  ë©”ì„œë“œê°€ ê³§ í”„ë¡œì íŠ¸ì— ì‚¬ìš© ì¤‘ì¸ ëª¨ë“  ì¿¼ë¦¬ì˜€ë‹¤.</p>\n<br>\n<h2 id=\"ì¿¼ë¦¬-ìµœì í™”-byë´„\" style=\"position:relative;\"><a href=\"#%EC%BF%BC%EB%A6%AC-%EC%B5%9C%EC%A0%81%ED%99%94-by%EB%B4%84\" aria-label=\"ì¿¼ë¦¬ ìµœì í™” byë´„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¿¼ë¦¬ ìµœì í™” by.ë´„ğŸŒ±</h2>\n<p>ì¸ë±ìŠ¤ ìµœì í™”ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ê³ ë§™ê²Œë„ ê°™ì€ íŒ€ í¬ë£¨ì¸ ë´„ì´ <a href=\"https://github.com/woowacourse-teams/2022-pickpick/pull/531\">ë¶ˆí•„ìš”í–” left outer joinì„ ì œê±°í•˜ëŠ” ì¿¼ë¦¬ ìµœì í™”</a>ë¥¼ í•´ì£¼ì—ˆë‹¤!\n<code class=\"language-text\">Repository</code>ì—ì„œ <code class=\"language-text\">B</code>ì˜ PKë¥¼ FKë¡œ ê°€ì§„ <code class=\"language-text\">A</code>ê°€ í•´ë‹¹ FKë¥¼ ì¡°ê±´ìœ¼ë¡œ ì¡°íšŒí•  ë•Œ, <code class=\"language-text\">findByBId</code>ë¡œ í•˜ë©´ ë¶ˆí•„ìš”í•œ <code class=\"language-text\">left outer join</code>ì´ ë°œìƒí•˜ê³  ìˆì—ˆë‹¤.\nì´ë¥¼ ì´ë¯¸ <code class=\"language-text\">B</code>ë¥¼ ì¡°íšŒí•œ ê³³ì—ì„œëŠ” <code class=\"language-text\">findByB</code>ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë°”ê¾¸ê³ , <code class=\"language-text\">B</code>ë¥¼ ì¡°íšŒí•˜ì§€ ì•ŠëŠ” ê³³ì—ì„œëŠ” <code class=\"language-text\">@Query</code>ë¡œ ì§ì ‘ ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•´ ê°œì„ í•´ì£¼ì—ˆë‹¤.\nê³ ë§ˆì›Œìš” ìµœê³  ë´„!</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// ë©¤ë²„ì˜ ì±„ë„ êµ¬ë…ì„ í™”ë©´ ìˆœì„œëŒ€ë¡œ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ</span>\n<span class=\"token comment\">// Before</span>\n<span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ChannelSubscription</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findFirstByMemberIdOrderByViewOrderDesc</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// After</span>\n<span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ChannelSubscription</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findFirstByMemberOrderByViewOrderDesc</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ë©¤ë²„ì™€ ë©”ì‹œì§€ë¡œ ì¼ì¹˜í•˜ëŠ” ë¶ë§ˆí¬ë¥¼ ì°¾ëŠ” ë©”ì„œë“œ</span>\n<span class=\"token comment\">// Before</span>\n<span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bookmark</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findByMessageIdAndMemberId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> messageId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// After</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select b from Bookmark b WHERE b.message.id = :messageId and b.member.id = :memberId\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Bookmark</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findByMessageIdAndMemberId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> messageId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h2 id=\"-ì‹¤í—˜-í™˜ê²½\" style=\"position:relative;\"><a href=\"#-%EC%8B%A4%ED%97%98-%ED%99%98%EA%B2%BD\" aria-label=\" ì‹¤í—˜ í™˜ê²½ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ§ª ì‹¤í—˜ í™˜ê²½</h2>\n<p>ëª¨ë“  í…ŒìŠ¤íŠ¸ëŠ” ë¡œì»¬ <code class=\"language-text\">docker</code>ì— <code class=\"language-text\">mysql</code>ì„ ë„ì›Œ, í”„ë¡œì íŠ¸ì™€ ë™ì¼í•˜ê²Œ DBë¥¼ ì„¤ì •í•´ ì§„í–‰í–ˆë‹¤.<br>\nê·¸ë¦¬ê³  <code class=\"language-text\">í”„ë¡œì‹œì €</code>ë¡œ 10ë§Œê±´ì˜ <code class=\"language-text\">Member</code> ë”ë¯¸ë°ì´í„°ë¥¼ ë„£ìœ¼ë ¤ê³  í–ˆëŠ”ë°â€¦\nëŠë ¤ë„ <strong>ë„ˆë¬´</strong> ëŠë ¸ë‹¤.\nì°¾ì•„ë³´ë‹ˆ ìœ ë‹ˆí¬í•œ <code class=\"language-text\">slackId</code>ë¥¼ ë¶€ì—¬í•˜ê¸° ìœ„í•´ <code class=\"language-text\">UUID</code> ê°’ ìƒì„± í›„ ì ë‹¹íˆ ì˜ë¼ì„œ ì“°ê³  ìˆì—ˆëŠ”ë°, ì—¬ê¸°ê°€ ë¬¸ì œì˜€ë‹¤.\nê·¸ë˜ì„œ <code class=\"language-text\">JdbcTemplate</code>ì˜ <code class=\"language-text\">batchUpdate</code>ë¡œ ë°ì´í„°ë¥¼ ë„£ë„ë¡ ê°„ë‹¨í•œ ì½”ë“œë¥¼ ì§°ë‹¤.\n10ë§Œê±´ ì‚½ì…ì— í”„ë¡œì‹œì €ëŠ” <strong>4ë¶„</strong> ì „í›„, ìë°” ì½”ë“œë¡œëŠ” 16ì´ˆê°€ ê±¸ë ¸ë‹¤â€¦\n<code class=\"language-text\">JdbcTemplate</code>ìœ¼ë¡œ í•˜ëŠ” ê²Œ í›¨ì”¬ ë¹ ë¥´ë‹¤ê³  ì•Œë ¤ì¤€ ë§¤íŠ¸ì—ê²Œ ê³ ë§™ë‹¤.ğŸ˜­</p>\n<br>  \n<h2 id=\"ï¸-mysqlì˜-ìë™-ìƒì„±-ì¸ë±ìŠ¤\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-mysql%EC%9D%98-%EC%9E%90%EB%8F%99-%EC%83%9D%EC%84%B1-%EC%9D%B8%EB%8D%B1%EC%8A%A4\" aria-label=\"ï¸ mysqlì˜ ìë™ ìƒì„± ì¸ë±ìŠ¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âš™ï¸ MySQLì˜ ìë™ ìƒì„± ì¸ë±ìŠ¤</h2>\n<p>ì‚¬ì‹¤ ë‚´ê°€ ëª¨ë¥´ëŠ” ìƒˆì— ìš°ë¦¬ DBì—ëŠ” í•„ìš”í•œ ëŒ€ë¶€ë¶„ì˜ ì¸ë±ìŠ¤ê°€ ì„¤ì •ë˜ì–´ ìˆì—ˆë‹¤.\nì»¬ëŸ¼ì´ 1.ìœ ë‹ˆí¬í•˜ë©´ì„œ 2.nullì„ í—ˆìš©í•˜ì§€ ì•Šì„ ë•Œ, MySQLì—ì„œ ìë™ìœ¼ë¡œ í•´ë‹¹ ì»¬ëŸ¼ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì´ë‹¤.\në§ˆì¹¨ í”„ë¡œì íŠ¸ì—ì„œ ìŠ¬ë™ ì •ë³´ë¥¼ ì´ìš©í•˜ëŠ” <code class=\"language-text\">member, channel, message</code> í…Œì´ë¸”ì—ëŠ” í•´ë‹¹ ì¡°ê±´ì„ ì¶©ì¡±í•˜ëŠ” <code class=\"language-text\">slack_id</code> ì»¬ëŸ¼ì´ ìˆì—ˆë‹¤.\nì•„ë˜ ê·¸ë¦¼ì—ì„œ í•˜ì´ë¼ì´íŠ¸ ëœ ì»¬ëŸ¼ì€ ëª¨ë‘ ìë™ ì¸ë±ìŠ¤ê°€ ì´ë¯¸ ì„¤ì • ëœ ì»¬ëŸ¼ì´ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACmklEQVR42iWSzW4TVwCFp2qEYjIz986dGY/tccb2BNvjn8R2TBzsWkkcRXaA2CUU2qpAEFLUKFVlkSiA1AoqIhUJFaGmq66qdt836Bt0xYIWqUWwReIhviru4mzOz+bT0ZRS2MpGCgvTFFhSoZTNqW8KQcz4gKiSprlUxnKn0cX0JLcnHQdhWpOtrdzJRrMshW7EyOZ8Wq0GftrDEDqWZVAvFtlaOOFa/Vd2N39ju/ELtfRlHEdnxtCxnBiLrTKVhTl0+SHSEmjJpMtS8Sqd/B5XVu8yaN0lSl0i4Sqq50J2hj/Qr3/LJ71H3Bn+RD1cJ+VO0Sys0y8/Zbv1I9dXntMNjvHdCC3huVxd+4aN0vdsLT3hzqWfaef3SXsJ0klFc3mBTOiy0CgQVXN4rk4mI+h39zm++Zr9tT85Gr3gy+WXZL0lNNu2SXkhfjwiYedJuufw40WCpI/vSZQVRwob0zhl5ZB0HVK5WTw/Q7VcI5fNExWqFAuVCVtNCIk/6xBVAyq1OUrzWdJBgtlEiqRrENOnKJQCGs0y0jmLo2IEYYAhTAwRI+7Z2I5EN2NYykLzPJdKMOB8uMOg/RXt0g6Rf5EgNUspnKMe3KJXHTPsHrEY7FLMfIQfZXFsD8/O0G2v07mwii2T2MpB8+Iu4+Ef3O+/497lfzjaeMdn879Tyrr0ahf47vM3jHv/cn/0Nwcr71nJH5IuzDDsjDkavGWv85KDzb+4Pf+KXKKFJqVFvdqhOd+jUVmlFvUIEhFSzhD4ab64csiwt89oY48bHz8g9OuYjsliY4vd7RNG7cfc6D9jUHs84a8pdXroGQzzLKb4X1KZmMIkzMwxWP6axeA2FztjPu0/pBB0J30pdQx5BsOaQqgzmGoKaZn8B9iWN1+sB6ltAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"indexes\"\n        title=\"\"\n        src=\"/static/d2fabf195ae1c7d0be2a4c9faeca315e/37523/db_indexes.png\"\n        srcset=\"/static/d2fabf195ae1c7d0be2a4c9faeca315e/e9ff0/db_indexes.png 180w,\n/static/d2fabf195ae1c7d0be2a4c9faeca315e/f21e7/db_indexes.png 360w,\n/static/d2fabf195ae1c7d0be2a4c9faeca315e/37523/db_indexes.png 720w,\n/static/d2fabf195ae1c7d0be2a4c9faeca315e/302a4/db_indexes.png 1080w,\n/static/d2fabf195ae1c7d0be2a4c9faeca315e/07a9c/db_indexes.png 1440w,\n/static/d2fabf195ae1c7d0be2a4c9faeca315e/95e59/db_indexes.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ê·¸ë˜ë„ ê¶ê¸ˆí•˜ë‹ˆ í•œë²ˆ ìë™ ìƒì„±ëœ ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ê³  <code class=\"language-text\">explain analyze</code> ì¿¼ë¦¬ë¥¼ í†µí•´ ì‹¤í–‰ ì‹œê°„ì„ ì¬ì–´ ë³´ì•˜ë‹¤.\n<code class=\"language-text\">member</code>ì— 10ë§Œê°œì˜ ë°ì´í„°ë¥¼ ë„£ê³  99,998ë²ˆì§¸ rowì˜ <code class=\"language-text\">slack_id</code>ë¡œ ê²€ìƒ‰í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">explain</span> <span class=\"token keyword\">analyze</span>\n<span class=\"token keyword\">select</span> id<span class=\"token punctuation\">,</span> first_login<span class=\"token punctuation\">,</span> slack_id<span class=\"token punctuation\">,</span> thumbnail_url<span class=\"token punctuation\">,</span> username\n<span class=\"token keyword\">from</span> member\n<span class=\"token keyword\">where</span> slack_id <span class=\"token operator\">=</span> :slackId<span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAWklEQVR42lWLSw6AIAxEOZNCW4SCO0383P82YwqG6KJ5nTcZt583tuNCqSuylnFJFSkrcql/b+7trWv8bFwgBscFgQXEET4wSIyEafZg6V0gaTRvv9F2PfNwD264QyvrNdluAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì¸ë±ìŠ¤ ìˆì„ ë–„\"\n        title=\"\"\n        src=\"/static/1a39f7c934454940377514a42a306e62/37523/time_auto_index_member.png\"\n        srcset=\"/static/1a39f7c934454940377514a42a306e62/e9ff0/time_auto_index_member.png 180w,\n/static/1a39f7c934454940377514a42a306e62/f21e7/time_auto_index_member.png 360w,\n/static/1a39f7c934454940377514a42a306e62/37523/time_auto_index_member.png 720w,\n/static/1a39f7c934454940377514a42a306e62/302a4/time_auto_index_member.png 1080w,\n/static/1a39f7c934454940377514a42a306e62/2cefc/time_auto_index_member.png 1400w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAVklEQVR42lWKyQ3AMAgEU5PBgDnSf1cbGSePPEaaPS6PRGyysH2TdTce8ebqPfJsn8dvO1xqDuKJKYZB3L4isaIwiDrvj9gCT4F59pdFO+tyiBqmaPcPGcZCpqEPWZwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì¸ë±ìŠ¤ ì—†ì„ ë•Œ\"\n        title=\"\"\n        src=\"/static/33cb14290223f0b53720a3ba42a4f52e/37523/time_no_index_member.png\"\n        srcset=\"/static/33cb14290223f0b53720a3ba42a4f52e/e9ff0/time_no_index_member.png 180w,\n/static/33cb14290223f0b53720a3ba42a4f52e/f21e7/time_no_index_member.png 360w,\n/static/33cb14290223f0b53720a3ba42a4f52e/37523/time_no_index_member.png 720w,\n/static/33cb14290223f0b53720a3ba42a4f52e/302a4/time_no_index_member.png 1080w,\n/static/33cb14290223f0b53720a3ba42a4f52e/2cefc/time_no_index_member.png 1400w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ìë™ ìƒì„±ëœ ì¸ë±ìŠ¤ë¥¼ ë‘ê³  ì¡°íšŒí–ˆì„ ë•Œ <strong>0.017~0.025ms</strong>ê°€,\ní•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ê³  ì¡°íšŒí–ˆì„ ë•Œ <strong>1857ms</strong>ê°€ ì†Œìš”ë˜ì—ˆë‹¤.\n1.8ì´ˆë„ ëŠë¦¬ê¸´ í•˜ì§€ë§Œ, <strong>10000ë°°</strong> ì°¨ì´ë‚œë‹¤ê³  ìƒê°í•˜ë‹ˆ ì •ë§ ë§~ì´ ëŠë ¤ì¡Œë‹¤.</p>\n<p>ê·¸ëŸ¼ í”„ë¡œì íŠ¸ì˜ ì¿¼ë¦¬ê°€ ìµœì ì˜ ì¸ë±ìŠ¤ë¥¼ íƒ€ê³  ìˆëŠ”ì§€ ì¼ë‹¨ <strong>ëª¨ë‘</strong> í™•ì¸í•´ë³´ì.</p>\n<ul>\n<li>Member\n<ul>\n<li>âœ… findById(Long id)</li>\n<li>âœ… findBySlackId(String slackId)</li>\n</ul>\n</li>\n<li>Channel\n<ul>\n<li>âœ… findById(Long id)</li>\n<li>âœ… findBySlackId(String slackId)</li>\n<li>â¬œï¸ findAllByOrderByName()</li>\n</ul>\n</li>\n<li>ChannelSubscription\n<ul>\n<li>âœ… findAllByMemberId(Long memberId)</li>\n<li>â¬œï¸ findAllByMemberIdOrderByViewOrder(Long memberId)</li>\n<li>â¬œï¸ findFirstByMemberOrderByViewOrderDesc(Member member)</li>\n<li>â¬œï¸ findFirstByMemberIdOrderByViewOrderAsc(Long memberId)</li>\n<li>â¬œï¸ existsByChannelAndMember(Channel channel, Member member)</li>\n</ul>\n</li>\n<li>Message\n<ul>\n<li>âœ… findById(long id)</li>\n<li>âœ… findBySlackId(String slackMessageId)</li>\n<li>â¬œï¸ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¡°íšŒì¿¼ë¦¬</li>\n</ul>\n</li>\n<li>Bookmark\n<ul>\n<li>âœ… findById(Long id)</li>\n<li>â¬œï¸ findByMessageIdAndMemberId(Long messageId, Long memberId)</li>\n<li>â¬œï¸ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¡°íšŒì¿¼ë¦¬</li>\n</ul>\n</li>\n<li>Reminder\n<ul>\n<li>âœ… findById(Long id)</li>\n<li>â¬œï¸ findByMessageIdAndMemberId(Long messageId, Long memberId)</li>\n<li>â¬œï¸ findAllByRemindDate(LocalDateTime remindDate)</li>\n<li>â¬œï¸ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¡°íšŒì¿¼ë¦¬</li>\n</ul>\n</li>\n</ul>\n<p>ì´ë¯¸ ìµœì ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì„ ì¿¼ë¦¬ëŠ” ì²´í¬í•´ì¤¬ë‹¤.\nìœ„ì—ì„œë¶€í„° í•˜ë‚˜ì”© ì œê±°í•´ë³´ì.</p>\n<h2 id=\"-channel\" style=\"position:relative;\"><a href=\"#-channel\" aria-label=\" channel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“º Channel</h2>\n<p>ì±„ë„ì˜ <code class=\"language-text\">findAllByOderByName()</code>ì€ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ëª¨ë“  ì±„ë„ ëª©ë¡ì„ ë°˜í™˜í•œë‹¤.\ní˜„ì¬ 1.í•œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë§Œ ì§€ì›í•˜ê³ ìˆê³  2.ê³µê°œ ì±„ë„ë§Œ ì €ì¥ë˜ê¸° ë–„ë¬¸ì—, ë³„ë‹¤ë¥¸ ì¡°ê±´ì„ ì£¼ì§€ ì•Šê³  ëª¨ë‘ ì¡°íšŒì¤‘ì´ë‹¤.\nê·¸ë˜ì„œ ë„‰ë„‰í•˜ê²Œ 500ê°œì˜ ë°ì´í„°ë¥¼ ë„£ê³  ì¡°íšŒí–ˆëŠ”ë°, <code class=\"language-text\">name</code> ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ì„¤ì • í•œ ê²ƒê³¼ ì•ˆ í•œ ê²ƒì˜ ì°¨ì´ê°€ ì—†ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> channel\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> name <span class=\"token keyword\">asc</span>\n<span class=\"token keyword\">limit</span> <span class=\"token number\">500</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAXElEQVR42l2LSw6AIBBDuRIIM/wGjRuNRu9/mxqQxM/iLdrXqnU/sWwHxmlGEkHKgizloYzf/OflY8pQ1hGIPRx5EAcYM8ARN2rPIXZ/d65v688Sg31sP/IBWhtcbsZDKnSIQ9gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì¸ë±ìŠ¤ ì—†ìŒ\"\n        title=\"\"\n        src=\"/static/d31fb8ed49d623f761fac015c0265def/37523/channel_name_no_index.png\"\n        srcset=\"/static/d31fb8ed49d623f761fac015c0265def/e9ff0/channel_name_no_index.png 180w,\n/static/d31fb8ed49d623f761fac015c0265def/f21e7/channel_name_no_index.png 360w,\n/static/d31fb8ed49d623f761fac015c0265def/37523/channel_name_no_index.png 720w,\n/static/d31fb8ed49d623f761fac015c0265def/302a4/channel_name_no_index.png 1080w,\n/static/d31fb8ed49d623f761fac015c0265def/2cefc/channel_name_no_index.png 1400w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAWklEQVR42l2LWwqAIBBF3ZKmM+M7+imK2v9ubmSC1MfhvrhqOy6s+4k6L4g5I6aMlMug1G/+U4YPMUFZRyAWOBIQexgzwRE3np596PvbORbYrm2X0H4kHlob3G7wQzCZgQfLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì¸ë±ìŠ¤ ìˆìŒ\"\n        title=\"\"\n        src=\"/static/e54bad9215158cf816ce4b318c933763/37523/channel_name_index.png\"\n        srcset=\"/static/e54bad9215158cf816ce4b318c933763/e9ff0/channel_name_index.png 180w,\n/static/e54bad9215158cf816ce4b318c933763/f21e7/channel_name_index.png 360w,\n/static/e54bad9215158cf816ce4b318c933763/37523/channel_name_index.png 720w,\n/static/e54bad9215158cf816ce4b318c933763/302a4/channel_name_index.png 1080w,\n/static/e54bad9215158cf816ce4b318c933763/2cefc/channel_name_index.png 1400w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<table>\n<thead>\n<tr>\n<th>name ì¸ë±ìŠ¤ X</th>\n<th>name ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>15~34ms</td>\n<td>15~33ms</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">order by</code>ëŠ” ì›ë˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ì•Šë‚˜ ì‹¶ì–´ì„œ ì±…ì´ë‘ êµ¬ê¸€ë„ ì°¾ì•„ë´¤ëŠ”ë° ì´ìœ ë¥¼ ì˜ ëª¨ë¥´ê² ë‹¤.\në°ì´í„°ê°€ ë„ˆë¬´ ì ì–´ì„œ ê·¸ëŸ´ ìˆ˜ë„ ìˆê² ë‹¤.\nì–´ì¨Œë“  ì¶”ê°€ë¡œ ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤.</p>\n<h2 id=\"-channelsubscription\" style=\"position:relative;\"><a href=\"#-channelsubscription\" aria-label=\" channelsubscription permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ”– ChannelSubscription</h2>\n<p>ì±„ë„ êµ¬ë…ì€ 2000ëª…ì˜ ë©¤ë²„ê°€ 500ê°œì˜ ì±„ë„ì„ ê°ê° êµ¬ë…í•˜ëŠ” ìƒí™©ì„ ê°€ì •í•´ <strong>10ë§Œê°œ</strong>ì˜ ë”ë¯¸ë°ì´í„°ë¥¼ ì‚½ì…í–ˆë‹¤.\nìš°ì„  ì¿¼ë¦¬ê°€ ë¹„ìŠ·í•œ ì•„ë˜ ì„¸ ë©”ì„œë“œë¥¼ ë³´ì.</p>\n<ul>\n<li>findAllByMemberIdOrderByViewOrder(Long memberId)</li>\n<li>findFirstByMemberOrderByViewOrderDesc(Member member)</li>\n<li>findFirstByMemberIdOrderByViewOrderAsc(Long memberId)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> channel_subscription\n<span class=\"token keyword\">where</span> member_id <span class=\"token operator\">=</span> :memberId\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> view_order<span class=\"token punctuation\">;</span> <span class=\"token comment\">#desc;</span>\n<span class=\"token keyword\">limit</span> <span class=\"token number\">500</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">#limit 1; </span></code></pre></div>\n<p>êµ¬ë…ì€ ë©¤ë²„ì— ì¢…ì†ì ì¸ ê°œë…ì´ê¸°ì—, í•­ìƒ <code class=\"language-text\">memberId</code>ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒëœë‹¤.\nê·¸ë¦¬ê³  <code class=\"language-text\">view_order</code> ìˆœì„œëŒ€ë¡œ ëª¨ë‘ ì¡°íšŒí•˜ê¸° ë˜ëŠ” ì²«ë²ˆì§¸ ê°’ì„ ê°€ì ¸ì˜¤ê¸°ê¸°ì—,\n<code class=\"language-text\">memberId</code>ì™€ <code class=\"language-text\">view_order</code>ë¡œ ë³µí•© ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í•´ë´¤ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">index</span> member_view_order <span class=\"token keyword\">on</span> channel_subscription <span class=\"token punctuation\">(</span>member_id<span class=\"token punctuation\">,</span> view_order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë³µí•© ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í–ˆì„ ë–„, ì‹¤ì œë¡œ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAcklEQVR42h2KWQ6DMBQDORJEQFXeRtKNgrrd/zBTJR+W7Bl3HiuiipmjZqgaak7lj+fBfdvJ5YJHcHx+3La9+TUX9vcX92jf7XiRy5VOLVhEEXNEnfMiqEfb4zgxDAN935NSamwRQyyY5lPrlVdfM80zf9ybRGl8BxqeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì „\"\n        title=\"\"\n        src=\"/static/08f9887cb6960baf9eda7bd0ac3b125d/37523/subs_explain_no_index.png\"\n        srcset=\"/static/08f9887cb6960baf9eda7bd0ac3b125d/e9ff0/subs_explain_no_index.png 180w,\n/static/08f9887cb6960baf9eda7bd0ac3b125d/f21e7/subs_explain_no_index.png 360w,\n/static/08f9887cb6960baf9eda7bd0ac3b125d/37523/subs_explain_no_index.png 720w,\n/static/08f9887cb6960baf9eda7bd0ac3b125d/302a4/subs_explain_no_index.png 1080w,\n/static/08f9887cb6960baf9eda7bd0ac3b125d/07a9c/subs_explain_no_index.png 1440w,\n/static/08f9887cb6960baf9eda7bd0ac3b125d/95e59/subs_explain_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeElEQVR42iWKWw6DIADAPJA4pzw0DHCogM5k9z9NF9lf27RZ4op1Dvty7OVgSwXnA8f1Jbxj7ben40PcUuU1ZeKe8WEhnxdhiTjv2ctJo82MNhNKT4xS8eh7hBDM1qG0QZkJqQz9c0CIjrZt6zeMsn6jlHTdv9/+A7ZmQyhUUv/2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • í›„\"\n        title=\"\"\n        src=\"/static/378940d78a6f24c78f34d64c660e2bc8/37523/subs_explain_index.png\"\n        srcset=\"/static/378940d78a6f24c78f34d64c660e2bc8/e9ff0/subs_explain_index.png 180w,\n/static/378940d78a6f24c78f34d64c660e2bc8/f21e7/subs_explain_index.png 360w,\n/static/378940d78a6f24c78f34d64c660e2bc8/37523/subs_explain_index.png 720w,\n/static/378940d78a6f24c78f34d64c660e2bc8/302a4/subs_explain_index.png 1080w,\n/static/378940d78a6f24c78f34d64c660e2bc8/07a9c/subs_explain_index.png 1440w,\n/static/378940d78a6f24c78f34d64c660e2bc8/95e59/subs_explain_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div style=\"text-align:center; font-style:italic; color:grey;\">\n  ë³µí•© ì¸ë±ìŠ¤ ì„¤ì •í•˜ê¸° ì „ê³¼ í›„\n</div>\n<br> \n<p>í•˜ì§€ë§Œ ì‹¤í–‰ì‹œê°„ì—ì„œ ìœ ì˜ë¯¸í•œ ì°¨ì´ë¥¼ ë³¼ ìˆ˜ ì—†ì—ˆë‹¤.\nì˜ë¬¸ì¸ ì ì€ ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì „ì—ëŠ” <code class=\"language-text\">Extra</code> í•„ë“œì— <code class=\"language-text\">Using filesort</code>ê°€ í‘œê¸°ëœë‹¤ëŠ” ì ì´ë‹¤.\nì´ê±´ <code class=\"language-text\">order by</code> ì²˜ë¦¬ ì‹œ, ì í•©í•œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•´ MySQL ì„œë²„ê°€ ì¡°íšŒëœ ë ˆì½”ë“œë¥¼ ë‹¤ì‹œ ì •ë ¬í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\në³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì‹œ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸°ì— <code class=\"language-text\">Extra</code>ëŠ” <code class=\"language-text\">null</code>ì´ ëœë‹¤.\nê·¸ëŸ¼ì—ë„ ì‹¤í–‰ì‹œê°„ì´ ëšœë ·í•˜ê²Œ ê°œì„ ë˜ì§€ ì•Šì•˜ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAUklEQVR42m2LSQ7AIAwD+RFFBbI4/P9ZrkgrcelhZDualFiLiKADmYd1Ot6dLv6d/b8paqCo8+49c6pxiFIdmWLOMSW3eWTP++du1INXa6z14gMhzUK7T6BYXAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì „\"\n        title=\"\"\n        src=\"/static/cf3cfd9d769e010b40df197d8f90b2a5/37523/subs_analyze_no_index.png\"\n        srcset=\"/static/cf3cfd9d769e010b40df197d8f90b2a5/e9ff0/subs_analyze_no_index.png 180w,\n/static/cf3cfd9d769e010b40df197d8f90b2a5/f21e7/subs_analyze_no_index.png 360w,\n/static/cf3cfd9d769e010b40df197d8f90b2a5/37523/subs_analyze_no_index.png 720w,\n/static/cf3cfd9d769e010b40df197d8f90b2a5/302a4/subs_analyze_no_index.png 1080w,\n/static/cf3cfd9d769e010b40df197d8f90b2a5/07a9c/subs_analyze_no_index.png 1440w,\n/static/cf3cfd9d769e010b40df197d8f90b2a5/95e59/subs_analyze_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAUElEQVR42l2LUQ7AIAhDPZGZmQpSvP+xukj4MPtoXlto8b0JdxoQhO+L6XHl8L977o+KLlDU+PYeVAOnaHJRlnFMiXw0psbf6YO5eVpjrZUfJR5CyclFKMYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • í›„\"\n        title=\"\"\n        src=\"/static/219b4b8a0c225664a54f99441075114e/37523/subs_analyze_index.png\"\n        srcset=\"/static/219b4b8a0c225664a54f99441075114e/e9ff0/subs_analyze_index.png 180w,\n/static/219b4b8a0c225664a54f99441075114e/f21e7/subs_analyze_index.png 360w,\n/static/219b4b8a0c225664a54f99441075114e/37523/subs_analyze_index.png 720w,\n/static/219b4b8a0c225664a54f99441075114e/302a4/subs_analyze_index.png 1080w,\n/static/219b4b8a0c225664a54f99441075114e/07a9c/subs_analyze_index.png 1440w,\n/static/219b4b8a0c225664a54f99441075114e/95e59/subs_analyze_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ìº¡ì³ëŠ” ì‹œê°„ ì°¨ì´ê°€ ì¡°êµ¼ ë‚˜ëŠ” ê±¸ë¡œ ì°í˜”ì§€ë§Œ, ì—¬ëŸ¬ë²ˆ ìˆ˜í–‰í–ˆì„ ë•Œ í‰ê· ì¹˜ëŠ” ì°¨ì´ê°€ ì—†ì—ˆë‹¤.\nì±„ë„ì´ 500ê°œë‚˜ ìˆëŠ” ê³¼ì¥ëœ ìƒí™©ì—ì„œë„ ì°¨ì´ê°€ ì—†ëŠ” ê²ƒì´ë¼ ì ìš©í•˜ì§€ ì•Šê¸°ë¡œ ì •í–ˆë‹¤.</p>\n<br>\n<p>ë‚˜ë¨¸ì§€ í•œ ë©”ì„œë“œëŠ” ì²˜ìŒì—ëŠ” ì¶”ê°€ ì¸ë±ìŠ¤ ì„¤ì •ì´ í•„ìš”í•˜ì§€ ì•Šì„ ê²ƒì´ë¼ ìƒê°í–ˆë‹¤.</p>\n<ul>\n<li>existsByChannelAndMember(Channel channel, Member member)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> channel_subscription<span class=\"token punctuation\">.</span>id\n<span class=\"token keyword\">from</span> channel_subscription\n<span class=\"token keyword\">where</span> channel_subscription<span class=\"token punctuation\">.</span>channel_id <span class=\"token operator\">=</span> :channelId\n  <span class=\"token operator\">and</span> channel_subscription<span class=\"token punctuation\">.</span>member_id <span class=\"token operator\">=</span> :memberId\n<span class=\"token keyword\">limit</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">FK</code>ì¸ <code class=\"language-text\">channel_id</code>ì™€ <code class=\"language-text\">member_id</code>ì— ì´ë¯¸ ê°ê° ì¸ë±ìŠ¤ê°€ ê±¸ë ¤ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤.\nê·¸ë˜ì„œ ì‹¤í–‰ ê³„íšì„ ë³´ë©´, <code class=\"language-text\">type</code>ì´ <code class=\"language-text\">index_merge</code>ë¡œ ë‚˜ì˜¨ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdUlEQVR42j3KQRLCIBBE0RwouEoCzAwQMVIxann/0/yUWOXibfr3sF4rx/vDWm+IKGYJ/VJDzbCUETVSzuRSqFuj7Qdb26nbnf140R5PUi79P0zzgo9C1MTsAyFqNy8eH7Xv0+L/fXSOcXQ4d+k9iOGD/EThBKiUQ9kJvMzpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì „ ì‹¤í–‰ê³„íš\"\n        title=\"\"\n        src=\"/static/0c50a3ac4e02025aa7ca1e5fee8b190b/37523/subs_channel_member_no_index.png\"\n        srcset=\"/static/0c50a3ac4e02025aa7ca1e5fee8b190b/e9ff0/subs_channel_member_no_index.png 180w,\n/static/0c50a3ac4e02025aa7ca1e5fee8b190b/f21e7/subs_channel_member_no_index.png 360w,\n/static/0c50a3ac4e02025aa7ca1e5fee8b190b/37523/subs_channel_member_no_index.png 720w,\n/static/0c50a3ac4e02025aa7ca1e5fee8b190b/302a4/subs_channel_member_no_index.png 1080w,\n/static/0c50a3ac4e02025aa7ca1e5fee8b190b/07a9c/subs_channel_member_no_index.png 1440w,\n/static/0c50a3ac4e02025aa7ca1e5fee8b190b/95e59/subs_channel_member_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ê·¸ëŸ°ë° <code class=\"language-text\">index_merge</code>ë¥¼ ì±…ì—ì„œ ì°¾ì•„ë³´ë‹ˆ ê°œì„ ì´ í•„ìš”í–ˆë‹¤.\nì•„ë˜ëŠ” í•´ë‹¹ ì±…ì˜ ì„¤ëª…ì´ë‹¤.</p>\n<p><code class=\"language-text\">index_merge</code>ëŠ” 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ê°ê°ì˜ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚¸ í›„, ê·¸ ê²°ê³¼ë¥¼ ë³‘í•©í•˜ëŠ” ì²˜ë¦¬ ë°©ì‹ì´ë©° ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì´ ìˆë‹¤.</p>\n<ul>\n<li>ì—¬ëŸ¬ ì¸ë±ìŠ¤ë¥¼ ì½ì–´ì•¼ í•˜ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ <code class=\"language-text\">range</code> ì ‘ê·¼ ë°©ì‹ë³´ë‹¤ íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§„ë‹¤</li>\n<li>ANDì™€ OR ì—°ì‚°ì´ ë³µì¡í•˜ê²Œ ì—°ê²°ëœ ì¿¼ë¦¬ì—ì„œëŠ” ì œëŒ€ë¡œ ìµœì í™”ë˜ì§€ ëª»í•  ë•Œê°€ ë§ë‹¤</li>\n<li>ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” <code class=\"language-text\">index_merge</code>ê°€ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤</li>\n<li><code class=\"language-text\">index_merge</code> ì ‘ê·¼ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœ ê²°ê³¼ëŠ” í•­ìƒ 2ê°œ ì´ìƒì˜ ì§‘í•©ì´ ë˜ê¸° ë–„ë¬¸ì— ê·¸ ë‘ ì§‘í•©ì˜ êµì§‘í•©ì´ë‚˜ í•©ì§‘í•© ë˜ëŠ” ì¤‘ë³µ ì œê±°ì™€ ê°™ì€ ë¶€ê°€ì ì¸ ì‘ì—…ì´ ë” í•„ìš”í•˜ë‹¤</li>\n</ul>\n<p>í˜„ì¬ <code class=\"language-text\">Extra</code>ì— í‘œì‹œëœ <code class=\"language-text\">Using intersect...</code>ëŠ” ê° ì²˜ë¦¬ ê²°ê³¼ì—ì„œ êµì§‘í•©ì„ ì¶”ì¶œí•´ë‚´ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í–ˆë‹¤ëŠ” ì˜ë¯¸ë‹¤.\në” íš¨ìœ¨ì ì¸ ìˆ˜í–‰ì„ ìœ„í•´ <code class=\"language-text\">channel_id</code>ì™€ <code class=\"language-text\">member_id</code>ë¡œ ë³µí•© ì¸ë±ìŠ¤ë¥¼ ìƒì„±í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">index</span> subscription_channel_and_member <span class=\"token keyword\">on</span> channel_subscription <span class=\"token punctuation\">(</span>member_id<span class=\"token punctuation\">,</span> channel_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdklEQVR42h2LbQ6DIBBEPRDGVlBYdhE/Wlq1bXr/y4xhf0wmmfemyfOC4/tH7cgMkQQW0UiadN8/P2zPgjRl7dd+qresm37XR4GIoLwPNF13A7EgEMOHiBBF4ymCU4YbRvTWwbQtjDG49xaeGKMnZdWrvnWD8gvCU0PgNLcviAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • í›„ ì‹¤í–‰ê³„íš\"\n        title=\"\"\n        src=\"/static/353aa567f1b2dcfa8e9ab1d4fc86f37c/37523/subs_channel_member_index.png\"\n        srcset=\"/static/353aa567f1b2dcfa8e9ab1d4fc86f37c/e9ff0/subs_channel_member_index.png 180w,\n/static/353aa567f1b2dcfa8e9ab1d4fc86f37c/f21e7/subs_channel_member_index.png 360w,\n/static/353aa567f1b2dcfa8e9ab1d4fc86f37c/37523/subs_channel_member_index.png 720w,\n/static/353aa567f1b2dcfa8e9ab1d4fc86f37c/302a4/subs_channel_member_index.png 1080w,\n/static/353aa567f1b2dcfa8e9ab1d4fc86f37c/07a9c/subs_channel_member_index.png 1440w,\n/static/353aa567f1b2dcfa8e9ab1d4fc86f37c/95e59/subs_channel_member_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì‹¤í–‰ ê³„íšì—ì„œ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤.\nì‚¬ì§„ ìƒ ì‹¤ìˆ˜ë¡œ ì´ë¦„ì„ ì˜ëª» ì„¤ì •í–ˆëŠ”ë°, <code class=\"language-text\">subscription_channel_and_member</code>ê°€ ë§ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAUUlEQVR42mWLSwrAIBBDeyNBq84kU+9/q5QOQhcuHiG/K9YSyE2IEakH8XfnhgKY+dXHlIFqd5cjNMw1HZr24TKnzCHnk7v0iK3MvNamUkr+XhsoQtsPF6PEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì „ ì‹¤í–‰ì‹œê°„\"\n        title=\"\"\n        src=\"/static/470210ea686d16f132bd85ea92134ab6/37523/subs_analyze_channel_member_no_index.png\"\n        srcset=\"/static/470210ea686d16f132bd85ea92134ab6/e9ff0/subs_analyze_channel_member_no_index.png 180w,\n/static/470210ea686d16f132bd85ea92134ab6/f21e7/subs_analyze_channel_member_no_index.png 360w,\n/static/470210ea686d16f132bd85ea92134ab6/37523/subs_analyze_channel_member_no_index.png 720w,\n/static/470210ea686d16f132bd85ea92134ab6/302a4/subs_analyze_channel_member_no_index.png 1080w,\n/static/470210ea686d16f132bd85ea92134ab6/07a9c/subs_analyze_channel_member_no_index.png 1440w,\n/static/470210ea686d16f132bd85ea92134ab6/95e59/subs_analyze_channel_member_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAUklEQVR42k2KSQ6AMAwD+6FeCk2z/v9ZRokI4mBZM/Ywc3zxqHjEj724XO/tXxZVqFl9Bqvh3oRNDGKpsBg2nepmUcdhLc7Of7rkOSfWuiAWeAAnL0LYZ1SYvgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • í›„ ì‹¤í–‰ì‹œê°„\"\n        title=\"\"\n        src=\"/static/ec8b2dacd32c44f9da0581dfb211fe0e/37523/subs_anaylze_channel_member_index.png\"\n        srcset=\"/static/ec8b2dacd32c44f9da0581dfb211fe0e/e9ff0/subs_anaylze_channel_member_index.png 180w,\n/static/ec8b2dacd32c44f9da0581dfb211fe0e/f21e7/subs_anaylze_channel_member_index.png 360w,\n/static/ec8b2dacd32c44f9da0581dfb211fe0e/37523/subs_anaylze_channel_member_index.png 720w,\n/static/ec8b2dacd32c44f9da0581dfb211fe0e/302a4/subs_anaylze_channel_member_index.png 1080w,\n/static/ec8b2dacd32c44f9da0581dfb211fe0e/07a9c/subs_anaylze_channel_member_index.png 1440w,\n/static/ec8b2dacd32c44f9da0581dfb211fe0e/95e59/subs_anaylze_channel_member_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<table>\n<thead>\n<tr>\n<th>ë³µí•© ì¸ë±ìŠ¤ X</th>\n<th>ë³µí•© ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0.386ms</td>\n<td>0.015ms</td>\n</tr>\n</tbody>\n</table>\n<p>ì‹¤í–‰ ì‹œê°„ì€ ì•½ 0.386msì—ì„œ 0.015msë¡œ <strong>95%</strong> ê°€ëŸ‰ ê°ì†Œí–ˆë‹¤.</p>\n<h2 id=\"ï¸bookmark--reminder\" style=\"position:relative;\"><a href=\"#%EF%B8%8Fbookmark--reminder\" aria-label=\"ï¸bookmark  reminder permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>â­ï¸Bookmark &#x26; â°Reminder</h2>\n<p>ë°”ë¡œ ìœ„ ì‚¬ë¡€ì™€ ë¹„ìŠ·í•œ ì¿¼ë¦¬ê°€ ë¶ë§ˆí¬ì™€ ë¦¬ë§ˆì¸ë”ì—ë„ ê°ê° ì¡´ì¬í•œë‹¤.</p>\n<ul>\n<li>Optional<Bookmark> findByMessageIdAndMemberId(Long messageId, Long memberId)</li>\n<li>Optional<Reminder> findByMessageIdAndMemberId(Long messageId, Long memberId)</li>\n</ul>\n<p>ë¶ë§ˆí¬ì™€ ë¦¬ë§ˆì¸ë”ëŠ” 100ë§Œê°œì˜ ë©”ì‹œì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ 2000ëª…ì˜ ë©¤ë²„ê°€ ê°ê°ì„ 300ê°œì”© ë“±ë¡í•œ ê²ƒì„ ê°€ì •í•´, ê° 60ë§Œê°œ ë”ë¯¸ë°ì´í„°ë¥¼ ë„£ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> bookmark\n<span class=\"token keyword\">where</span> message_id <span class=\"token operator\">=</span> :messageId <span class=\"token operator\">and</span> member_id <span class=\"token operator\">=</span> :memberId<span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeklEQVR42i3IWQ6CMAAAUc7TEqpCoStboRBRE+9/mDGKf/OmGMaJ4/VmnBLOe3yIxL7HOocxhn4Y2Y8n85IJIbLkje3+wFp7ettZ8s6cVtKaKZS60BmH9RHdGnRncCHy/UIIqkpRKYWUEikE11tN03Y/l2V5/n/XjeYDh1lChRQec2EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ì‹¤í–‰ê³„íš\"\n        title=\"\"\n        src=\"/static/9828735c2d4adf1e8827d01c7d1e57ac/37523/bookmark_explain_no_index.png\"\n        srcset=\"/static/9828735c2d4adf1e8827d01c7d1e57ac/e9ff0/bookmark_explain_no_index.png 180w,\n/static/9828735c2d4adf1e8827d01c7d1e57ac/f21e7/bookmark_explain_no_index.png 360w,\n/static/9828735c2d4adf1e8827d01c7d1e57ac/37523/bookmark_explain_no_index.png 720w,\n/static/9828735c2d4adf1e8827d01c7d1e57ac/302a4/bookmark_explain_no_index.png 1080w,\n/static/9828735c2d4adf1e8827d01c7d1e57ac/07a9c/bookmark_explain_no_index.png 1440w,\n/static/9828735c2d4adf1e8827d01c7d1e57ac/95e59/bookmark_explain_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì•„ê¹Œì™€ ë‹¬ë¦¬ <code class=\"language-text\">Extra</code> í•„ë“œì— <code class=\"language-text\">Using where</code>ê°€ í‘œê¸°ëœë‹¤.\n<code class=\"language-text\">Using where</code>ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°›ì€ ë ˆì½”ë“œë¥¼ MySQL ì—”ì§„ ë ˆì´ì–´ì—ì„œ ë³„ë„ì˜ ê°€ê³µì„ í†µí•´ í•„í„°ë§ ì‘ì—…ì„ ê±°ì³¤ìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.\në˜, <code class=\"language-text\">filtered</code> í•„ë“œì— <code class=\"language-text\">5</code>ê°€ ì í˜€ìˆë‹¤.\nì´ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° 100ê±´ì˜ ë ˆì½”ë“œë¥¼ ë°›ì•„ 95ê±´ì„ ê±¸ëŸ¬ë‚´ê³  5ê±´ë§Œ ë‚¨ì•˜ë‹¤ëŠ” ì˜ë¯¸ë‹¤.\nê²°êµ­ ì¡°íšŒëœ ë°ì´í„° ì¤‘ <strong>95%</strong> ë¥¼ ë²„ë¦° ê²ƒì´ë‹¤.<br>\nì´ë²ˆì—ëŠ” <code class=\"language-text\">index_merge</code>ë¥¼ ì“°ì§€ ì•Šì•˜ëŠ”ë°, ë°ì´í„° ì–‘ì˜ ì°¨ì´ë¡œ ì¶”ì¸¡ëœë‹¤.\ní˜„ì¬ ë”ë¯¸ë°ì´í„°ëŠ” ê³„ì‚° ì‹œ ê° ë©”ì‹œì§€ì— í‰ê·  1ê±´ ì´í•˜ì˜ ë¶ë§ˆí¬ê°€ ë“±ë¡ë˜ì–´ ìˆë‹¤.\në³´í†µ ì¤‘ìš”í•œ ë©”ì‹œì§€ì— ë¶ë§ˆí¬ ìƒì„±ì´ ì¹˜ì¤‘ë  ê²ƒì„ ìƒê°í•˜ë©´, ì‹¤ì œ ìƒí™©ê³¼ ì¡°ê¸ˆ ê´´ë¦¬ê°€ ìˆëŠ” ë°ì´í„° ì…‹ì—…ì´ë‹¤.\nìš´ì˜ ë°ì´í„°ê°€ ë” ìŒ“ì´ë©´ ì´ë¥¼ ë¶„ì„í•´ì„œ ë” ì ì ˆí•œ ì‹¤í—˜ ìƒí™©ìœ¼ë¡œ ê°œì„ í•´ì•¼ í•  ê²ƒ ê°™ë‹¤.</p>\n<p>ì–´ì¨Œë“  <code class=\"language-text\">message_id</code>ì™€ <code class=\"language-text\">member_id</code>ë¡œ ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì‹œ, í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ë©° ì†ë„ë„ ê°œì„ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">index</span> bookmark_message_and_member <span class=\"token keyword\">on</span> bookmark <span class=\"token punctuation\">(</span>message_id<span class=\"token punctuation\">,</span> member_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeUlEQVR42iWMVw6DMBQEcx9siBSKy3t0LEPK/W8zUZyvlWZn9xZFOF8fjnwRYkRE+TFRRXQknRcpX8zLho5TcedlJUZhO1LZ7Smz7gf5+eZWVRXOR4JO9M4TZCzpozL4wKPtaJo7xhistQwulL7teoyxf17X5cMF4QvHIkPEG5iz9gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ë³µí•© ì¸ë±ìŠ¤ ì‹¤í–‰ê³„íš\"\n        title=\"\"\n        src=\"/static/ff564d0002316fb7eedcfe35d3c91f38/37523/bookmark_explain_index.png\"\n        srcset=\"/static/ff564d0002316fb7eedcfe35d3c91f38/e9ff0/bookmark_explain_index.png 180w,\n/static/ff564d0002316fb7eedcfe35d3c91f38/f21e7/bookmark_explain_index.png 360w,\n/static/ff564d0002316fb7eedcfe35d3c91f38/37523/bookmark_explain_index.png 720w,\n/static/ff564d0002316fb7eedcfe35d3c91f38/302a4/bookmark_explain_index.png 1080w,\n/static/ff564d0002316fb7eedcfe35d3c91f38/07a9c/bookmark_explain_index.png 1440w,\n/static/ff564d0002316fb7eedcfe35d3c91f38/95e59/bookmark_explain_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span><br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAVElEQVR42j2LyxGAQAhDrUmXP9h/V3Fg1cObkJAckYWse+jbI5BViMxh/+rX7nzsTb5sf6gn1ALmCVHHea3RRQxigZiD1SZrZWkUJIreLpLpdtbdBzPsQvqBlHhrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ê¸°ë³¸ ìˆ˜í–‰ì‹œê°„\"\n        title=\"\"\n        src=\"/static/8cfef3b0b61fbad1d50c84620e2e806f/37523/bookmark_analyze_no_index.png\"\n        srcset=\"/static/8cfef3b0b61fbad1d50c84620e2e806f/e9ff0/bookmark_analyze_no_index.png 180w,\n/static/8cfef3b0b61fbad1d50c84620e2e806f/f21e7/bookmark_analyze_no_index.png 360w,\n/static/8cfef3b0b61fbad1d50c84620e2e806f/37523/bookmark_analyze_no_index.png 720w,\n/static/8cfef3b0b61fbad1d50c84620e2e806f/302a4/bookmark_analyze_no_index.png 1080w,\n/static/8cfef3b0b61fbad1d50c84620e2e806f/07a9c/bookmark_analyze_no_index.png 1440w,\n/static/8cfef3b0b61fbad1d50c84620e2e806f/95e59/bookmark_analyze_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAWklEQVR42k3LSw7AIAgEUE9UsFVAtL3/rabB2M+CDHkMiTmDiEHM2IhAnMF5X5Zfi5x7+L9P319Mav1EqQJtHWINag4f1zTzsW6Oo1QcRVBEp4m2aU9GR8xxA8QHP91xyV7yAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ë³µí•© ì¸ë±ìŠ¤ ìˆ˜í–‰ì‹œê°„\"\n        title=\"\"\n        src=\"/static/c051125079ad15a29c01454795e6bc41/37523/bookmark_analyze_index.png\"\n        srcset=\"/static/c051125079ad15a29c01454795e6bc41/e9ff0/bookmark_analyze_index.png 180w,\n/static/c051125079ad15a29c01454795e6bc41/f21e7/bookmark_analyze_index.png 360w,\n/static/c051125079ad15a29c01454795e6bc41/37523/bookmark_analyze_index.png 720w,\n/static/c051125079ad15a29c01454795e6bc41/302a4/bookmark_analyze_index.png 1080w,\n/static/c051125079ad15a29c01454795e6bc41/07a9c/bookmark_analyze_index.png 1440w,\n/static/c051125079ad15a29c01454795e6bc41/95e59/bookmark_analyze_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<table>\n<thead>\n<tr>\n<th>ë³µí•© ì¸ë±ìŠ¤ X</th>\n<th>ë³µí•© ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0.161ms</td>\n<td>0.041ms</td>\n</tr>\n</tbody>\n</table>\n<p>ë”ë¯¸ë°ì´í„°ì™€ ë‹¬ë¦¬ í•œ ë©”ì‹œì§€ì— ë¶ë§ˆí¬ê°€ ëª°ë¦¬ëŠ” ìƒí™©ì„ ìƒê°í•˜ë©´, ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì‹œ ì¡°ê¸ˆ ë” í°í­ìœ¼ë¡œ íš¨ìœ¨ì´ ê°œì„ ë  ê²ƒ ê°™ë‹¤.</p>\n<p>ë¦¬ë§ˆì¸ë”ë„ ì™„ì „íˆ ë™ì¼í•œ í¬ë§·ì˜ sqlë¬¸ì„ ì‚¬ìš©ì¤‘ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> reminder\n<span class=\"token keyword\">where</span> message_id <span class=\"token operator\">=</span> :messageId <span class=\"token operator\">and</span> member_id <span class=\"token operator\">=</span> :memberId<span class=\"token punctuation\">;</span> </code></pre></div>\n<p>ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì „/í›„ì— ë¶ë§ˆí¬ì™€ ë™ì¼í•œ ì„¤ì •ì˜ ì‹¤í–‰ê³„íšì´ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í–ˆê³ , ì‹¤í–‰ì‹œê°„ì„ ë¹„êµí•´ë³´ì•˜ë‹¤.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ë¶ë§ˆí¬</th>\n<th>ë¦¬ë§ˆì¸ë”</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • ì „</td>\n<td>0.161ms</td>\n<td>0.023ms</td>\n</tr>\n<tr>\n<td>ë³µí•© ì¸ë±ìŠ¤ ì„¤ì • í›„</td>\n<td>0.041ms</td>\n<td>0.017ms</td>\n</tr>\n</tbody>\n</table>\n<p>ë¶ë§ˆí¬ ìˆ˜í–‰ ì‹œê°„ì´ ë” ê·¹ì ìœ¼ë¡œ ì°¨ì´ë‚˜ëŠ” ê²ƒì€â€¦\në¶ë§ˆí¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  ë§¥ë¶ì´ ì¢€ ëŠë ¤ì¡Œê¸¸ë˜ ì¬ë¶€íŒ…ì„ í•œë²ˆ í•´ì„œ ê·¸ëŸ° ê²ƒ ê°™ë‹¤ ğŸ™ƒ</p>\n<p><code class=\"language-text\">Querydsl</code>ì„ ì œì™¸í•˜ê³  ë‚¨ì€ ë§ˆì§€ë§‰ ì¿¼ë¦¬ëŠ” ë¦¬ë§ˆì¸ë” ë°œì†¡ì„ ìœ„í•´ 10ë¶„ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬ë‹¤.</p>\n<ul>\n<li>findAllByRemindDate(LocalDateTime remindDate)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> reminder\n<span class=\"token keyword\">where</span> remind_date <span class=\"token operator\">=</span> <span class=\"token string\">'2022-10-03 00:10:30'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">#ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ì•„ë¬´ ì‹œê°ì´ë‚˜ ë„£ì—ˆë‹¤ </span></code></pre></div>\n<p>ì˜ˆìƒ ê°€ëŠ¥í•œ ë¶€ë¶„ì´ì§€ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¸ë±ìŠ¤ê°€ ì—†ì–´ì„œ <strong>í’€ í…Œì´ë¸” ìŠ¤ìº”</strong>ì´ ì¼ì–´ë‚˜ê³  ìˆë‹¤.\nì‹œê°„ë„ ì•ì„  ì¿¼ë¦¬ë“¤ì— ë¹„í•˜ë©´ ì•„ì£¼ ê¸¸ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAc0lEQVR42i2KWQ6FIBRD3RDXBMIQUHgqyhCN+19NDTfvo2nOaac1RlytI4QF6behPS/O0pCvyu1DwHEW1P7wnktF/u/bntHulzmmhNJvTEQEYx2EIAghoI2BlJKZ5pndiHUefokY/8GjtXXwYWWvjYVSCh/cuUPBkWrZxAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¦¬ë§ˆì¸ë” ì‹¤í–‰ê³„íš\"\n        title=\"\"\n        src=\"/static/33afadc187330a6b1211d0e9f8621881/37523/reminder_no_index.png\"\n        srcset=\"/static/33afadc187330a6b1211d0e9f8621881/e9ff0/reminder_no_index.png 180w,\n/static/33afadc187330a6b1211d0e9f8621881/f21e7/reminder_no_index.png 360w,\n/static/33afadc187330a6b1211d0e9f8621881/37523/reminder_no_index.png 720w,\n/static/33afadc187330a6b1211d0e9f8621881/302a4/reminder_no_index.png 1080w,\n/static/33afadc187330a6b1211d0e9f8621881/07a9c/reminder_no_index.png 1440w,\n/static/33afadc187330a6b1211d0e9f8621881/95e59/reminder_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAV0lEQVR42kWMQQ6AMAgE+yRNLBQW+v9frQGNHjYzh4GBSJo5EcHIzcz9evYcYDVAMIqvN+NntebOIct4nCdFjYbsTVlcjt41hdVcolTD58Wpq+9En77+3CNVQsmKJUInAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¦¬ë§ˆì¸ë” ìˆ˜í–‰ì‹œê°„\"\n        title=\"\"\n        src=\"/static/f9674b1a18e7d4ee6c48b1fba93b90ad/37523/reminder_analyze_no_index.png\"\n        srcset=\"/static/f9674b1a18e7d4ee6c48b1fba93b90ad/e9ff0/reminder_analyze_no_index.png 180w,\n/static/f9674b1a18e7d4ee6c48b1fba93b90ad/f21e7/reminder_analyze_no_index.png 360w,\n/static/f9674b1a18e7d4ee6c48b1fba93b90ad/37523/reminder_analyze_no_index.png 720w,\n/static/f9674b1a18e7d4ee6c48b1fba93b90ad/302a4/reminder_analyze_no_index.png 1080w,\n/static/f9674b1a18e7d4ee6c48b1fba93b90ad/07a9c/reminder_analyze_no_index.png 1440w,\n/static/f9674b1a18e7d4ee6c48b1fba93b90ad/95e59/reminder_analyze_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><code class=\"language-text\">remind_date</code>ì— ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í–ˆë‹¤.\nì •ìƒì ìœ¼ë¡œ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ê³ , ì‹¤í–‰ì‹œê°„ë„ 1/1000 ì´í•˜ë¡œ ì¤„ì–´ë“¤ì—ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeElEQVR42h2KWRKDIADFPJBQbKUiIGNVFrfp/U+TTvlLXl4Ty4H3E/v9ZY0Zax3zslLOu/oUAlvKpP3EOscaU+X5s9Q95p0tFZYtko+LRqmOtm0xo8P6wDBa+vfAQymklLW9es1gxspCCLruiQ8zQsrq/6+xDq01P+Z/Q8DeVYTQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¦¬ë§ˆì¸ë” ì¸ë±ìŠ¤ ì‹¤í–‰ê³„íš\"\n        title=\"\"\n        src=\"/static/30330ca05bd0eabdf60e8bf01b1d468a/37523/remider_explain_index.png\"\n        srcset=\"/static/30330ca05bd0eabdf60e8bf01b1d468a/e9ff0/remider_explain_index.png 180w,\n/static/30330ca05bd0eabdf60e8bf01b1d468a/f21e7/remider_explain_index.png 360w,\n/static/30330ca05bd0eabdf60e8bf01b1d468a/37523/remider_explain_index.png 720w,\n/static/30330ca05bd0eabdf60e8bf01b1d468a/302a4/remider_explain_index.png 1080w,\n/static/30330ca05bd0eabdf60e8bf01b1d468a/07a9c/remider_explain_index.png 1440w,\n/static/30330ca05bd0eabdf60e8bf01b1d468a/95e59/remider_explain_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 5.555555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAO0lEQVR42j3H2wmAUAwEUVvKO5ur/Ze1QgQ/Dsxccx4Who1hVNM8mYXlWd83KKLLPJaa/+2RFDXi3HwBE40gfCsDTUIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¦¬ë§ˆì¸ë” ì¸ë±ìŠ¤ ìˆ˜í–‰ì‹œê°„\"\n        title=\"\"\n        src=\"/static/4afb3decc1f56222258deacaf80128bc/37523/reminder_analyze_index.png\"\n        srcset=\"/static/4afb3decc1f56222258deacaf80128bc/e9ff0/reminder_analyze_index.png 180w,\n/static/4afb3decc1f56222258deacaf80128bc/f21e7/reminder_analyze_index.png 360w,\n/static/4afb3decc1f56222258deacaf80128bc/37523/reminder_analyze_index.png 720w,\n/static/4afb3decc1f56222258deacaf80128bc/302a4/reminder_analyze_index.png 1080w,\n/static/4afb3decc1f56222258deacaf80128bc/07a9c/reminder_analyze_index.png 1440w,\n/static/4afb3decc1f56222258deacaf80128bc/95e59/reminder_analyze_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<table>\n<thead>\n<tr>\n<th>remind_date ì¸ë±ìŠ¤ X</th>\n<th>remind_date ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>554ms</td>\n<td>0.139ms</td>\n</tr>\n</tbody>\n</table>\n<br>\n<h2 id=\"ï¸-querydslì„-ì´ìš©í•œ-ë³µì¡í•œ-ì¿¼ë¦¬ë“¤\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-querydsl%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B3%B5%EC%9E%A1%ED%95%9C-%EC%BF%BC%EB%A6%AC%EB%93%A4\" aria-label=\"ï¸ querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¿¼ë¦¬ë“¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ‰ï¸ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¿¼ë¦¬ë“¤</h2>\n<p>ì´ì œ ê¸€ ì´ˆë°˜ì— ì ì—ˆë˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ì—ì„œ ì„¸ ì¿¼ë¦¬ë§Œ ë‚¨ì•˜ë‹¤!</p>\n<ul>\n<li>Messageì˜ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¡°íšŒì¿¼ë¦¬</li>\n<li>Bookmarkì˜ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¡°íšŒì¿¼ë¦¬</li>\n<li>Reminderì˜ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¡°íšŒì¿¼ë¦¬</li>\n</ul>\n<p>ë©”ì‹œì§€ë¶€í„° ë³´ìë©´ ë™ì ìœ¼ë¡œ ì¡°ê±´ì´ ë³€í™”í•˜ì§€ë§Œ, ê²°êµ­ ì•„ë˜ ë„¤ ê°€ì§€ë¡œ ìˆ˜ë ´í•œë‹¤.</p>\n<ul>\n<li>íŠ¹ì • í•œ ì±„ë„ì—ì„œ ìµœì‹ ìœ¼ë¡œë¶€í„° nê°œë¥¼ ì‘ì„±ì‹œê°„ ë‚´ë¦¼ì°¨ìˆœ ì¡°íšŒ</li>\n<li>íŠ¹ì • í•œ ì±„ë„ì—ì„œ íŠ¹ì • ì‹œê°ì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ì‹œê°„ì´ ê³¼ê±°/ë¯¸ë˜ì¸ nê°œë¥¼ ì‘ì„±ì‹œê°„ ë‚´ë¦¼ì°¨ìˆœ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜ ëŒ€ì²´)</li>\n<li>íŠ¹ì • í•œ ì±„ë„ì—ì„œ íŠ¹ì • ì‹œê°ì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ì‹œê°„ì´ ê³¼ê±°/ë¯¸ë˜ì¸ ë©”ì‹œì§€ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜ ëŒ€ì²´)</li>\n<li>íŠ¹ì • ì—¬ëŸ¬ ì±„ë„ì—ì„œ íŠ¹ì • í‚¤ì›Œë“œë¥¼ í¬í•¨í•œ ë©”ì‹œì§€ë¥¼ íŠ¹ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ nê°œë¥¼ ì‘ì„±ì‹œê°„ ë‚´ë¦¼ì°¨ìˆœ ì¡°íšŒ</li>\n</ul>\n<p>ì—¬ê¸°ì„œ 1,2,3ë²ˆ ì¿¼ë¦¬ëŠ” <code class=\"language-text\">íŠ¹ì • ì—¬ëŸ¬ ì±„ë„</code> ì¡°ê±´ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ë„ ìˆê²Œ ì½”ë“œê°€ ì§œì—¬ìˆë‹¤.\ní•˜ì§€ë§Œ ì²˜ìŒ êµ¬ìƒê³¼ ë‹¬ë¦¬ í˜„ì¬ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šê¸°ì—, <code class=\"language-text\">íŠ¹ì • í•œ ì±„ë„</code>ë¡œë§Œ ì§„í–‰í–ˆë‹¤.\ní‚¤ì›Œë“œ ê²€ìƒ‰ì€ <code class=\"language-text\">like %keyword%</code> ë°©ì‹ì´ë¼ ì¸ë±ìŠ¤ë¥¼ ì ìš©í•  ìˆ˜ ì—†ì–´ ì œì™¸í–ˆë‹¤.\nê²°êµ­ ë‚˜ë¨¸ì§€ ì…‹ì˜ ê³µí†µì ì„ ë³´ìë©´ <code class=\"language-text\">ì±„ë„, ìŸ‰ì…©ì‹œê°„</code> ì¡°ê±´ìœ¼ë¡œ ì¡°íšŒí•˜ê³  ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> \n    message<span class=\"token punctuation\">.</span>id            <span class=\"token keyword\">as</span> message_id<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span>member_id     <span class=\"token keyword\">as</span> member_id<span class=\"token punctuation\">,</span>\n    member<span class=\"token punctuation\">.</span>username       <span class=\"token keyword\">as</span> username<span class=\"token punctuation\">,</span>\n    member<span class=\"token punctuation\">.</span>thumbnail_url  <span class=\"token keyword\">as</span> thumbnail<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span><span class=\"token keyword\">text</span>          <span class=\"token keyword\">as</span> <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span>posted_date   <span class=\"token keyword\">as</span> posted_date<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span>modified_date <span class=\"token keyword\">as</span> modified_date<span class=\"token punctuation\">,</span>\n    bookmark<span class=\"token punctuation\">.</span>id           <span class=\"token keyword\">as</span> bookmark_id<span class=\"token punctuation\">,</span>\n    reminder<span class=\"token punctuation\">.</span>id           <span class=\"token keyword\">as</span> reminder_id<span class=\"token punctuation\">,</span>\n    reminder<span class=\"token punctuation\">.</span>remind_date  <span class=\"token keyword\">as</span> remind_date\n<span class=\"token keyword\">from</span>\n    message\n    <span class=\"token keyword\">left</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span>\n        member <span class=\"token keyword\">on</span> message<span class=\"token punctuation\">.</span>member_id <span class=\"token operator\">=</span> member<span class=\"token punctuation\">.</span>id\n    <span class=\"token keyword\">left</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span>\n        bookmark\n        <span class=\"token keyword\">on</span> <span class=\"token punctuation\">(</span>bookmark<span class=\"token punctuation\">.</span>member_id <span class=\"token operator\">=</span> :memberId\n              <span class=\"token operator\">and</span> bookmark<span class=\"token punctuation\">.</span>message_id <span class=\"token operator\">=</span> message<span class=\"token punctuation\">.</span>id\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">left</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span>\n        reminder\n        <span class=\"token keyword\">on</span> <span class=\"token punctuation\">(</span>reminder<span class=\"token punctuation\">.</span>member_id <span class=\"token operator\">=</span> :memberId\n              <span class=\"token operator\">and</span> reminder<span class=\"token punctuation\">.</span>message_id <span class=\"token operator\">=</span> message<span class=\"token punctuation\">.</span>id\n              <span class=\"token operator\">and</span> reminder<span class=\"token punctuation\">.</span>remind_date <span class=\"token operator\">></span> :remindDate\n        <span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">where</span>\n    message<span class=\"token punctuation\">.</span>channel_id <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span>:channelId<span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">and</span> <span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token keyword\">text</span> <span class=\"token operator\">is</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">and</span> length<span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token keyword\">text</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span>\n    message<span class=\"token punctuation\">.</span>posted_date <span class=\"token keyword\">desc</span>\n<span class=\"token keyword\">limit</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì°¸ê³ ë¡œ <code class=\"language-text\">channel_id</code>ëŠ” ìœ„ì—ì„œ ë§í–ˆë“¯ ë³µìˆ˜ì˜ ê°’ì´ ë“¤ì–´ì˜¬ ìˆ˜ë„ ìˆì–´ì„œ, í•˜ë‚˜ë¼ë„ <code class=\"language-text\">in()</code> í˜•íƒœë¡œ ì¡°íšŒí•œë‹¤.\nì—¬ê¸°ì„œ ê²°êµ­ ì¤‘ìš”í•œ ê±´ <code class=\"language-text\">where</code>ì•ˆì˜ <code class=\"language-text\">channel_id</code>ì™€ <code class=\"language-text\">order by</code>ì˜ <code class=\"language-text\">posted_date</code>ì´ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoklEQVR42j2MWY7DIBQEfZxxpMFmM8HAA0yWuf+FahQ+8tFSl7rUy3j9kYsgrZOy0PqgjycxnsQzkUrher7n/uEz5ZnaLrJUjDFYa2eccyxJGrvWaGNQ24Z1nlI7Whu0sWz7jvP+27ddf73jHnH+4AiREE+MdSxtvAgx4Y/Ar1JT6o83WRrSxuRUKlk6Silut5V1/cGHO9IHpV18Pmp/EFPhHzhLY4qB+qb1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë©”ì‹œì§€ ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ ì „\"\n        title=\"\"\n        src=\"/static/526249afe0f3ea91e120bdd4e4dcd11e/37523/message_explain_no_index.png\"\n        srcset=\"/static/526249afe0f3ea91e120bdd4e4dcd11e/e9ff0/message_explain_no_index.png 180w,\n/static/526249afe0f3ea91e120bdd4e4dcd11e/f21e7/message_explain_no_index.png 360w,\n/static/526249afe0f3ea91e120bdd4e4dcd11e/37523/message_explain_no_index.png 720w,\n/static/526249afe0f3ea91e120bdd4e4dcd11e/302a4/message_explain_no_index.png 1080w,\n/static/526249afe0f3ea91e120bdd4e4dcd11e/07a9c/message_explain_no_index.png 1440w,\n/static/526249afe0f3ea91e120bdd4e4dcd11e/95e59/message_explain_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì‹¤í–‰ê³„íšì„ ë³´ë©´, ì œì¼ ë¨¼ì € ì ìš©ë˜ëŠ” <code class=\"language-text\">channel_id</code> ì™¸ë˜í‚¤ ì¸ë±ìŠ¤ì˜ <code class=\"language-text\">Extra</code>ì— <code class=\"language-text\">Using filesort</code>ê°€ ë³´ì¸ë‹¤.\nì´ëŠ” <code class=\"language-text\">channel</code> ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒí•œ ë ˆì½”ë“œë¥¼ ì—”ì§„ì—ì„œ <code class=\"language-text\">posted_date</code>ë¡œ ë‹¤ì‹œ ì •ë ¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.\në”°ë¼ì„œ <code class=\"language-text\">channel_id</code>ì™€ <code class=\"language-text\">posted_date</code>ë¡œ ë³µí•© ì¸ë±ìŠ¤ë¥¼ ê±¸ì–´ì¤€ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlklEQVR42j2MURKDIBBDvQ4qlQVUZEGgWqf3v1A6bqf9yGSzmZeuHif22rBFFl9DwHG9kXJB5PRVytK18wKnXbJIuoRcqvDLsqDbYoLzM7R+iA/DgFQa5jVgMgRDVpzIwvsZ02RgDMnvd2utoZQStuO9gnOBIYJ1HuM4gnNFrk+EyKjHS2DrHEo7sW78h/teydjd3/lmPwBOYc1s1XDdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë©”ì‹œì§€ ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ í›„\"\n        title=\"\"\n        src=\"/static/5ee440445c195369d3fad1d32aa6b18a/37523/message_explain_index.png\"\n        srcset=\"/static/5ee440445c195369d3fad1d32aa6b18a/e9ff0/message_explain_index.png 180w,\n/static/5ee440445c195369d3fad1d32aa6b18a/f21e7/message_explain_index.png 360w,\n/static/5ee440445c195369d3fad1d32aa6b18a/37523/message_explain_index.png 720w,\n/static/5ee440445c195369d3fad1d32aa6b18a/302a4/message_explain_index.png 1080w,\n/static/5ee440445c195369d3fad1d32aa6b18a/07a9c/message_explain_index.png 1440w,\n/static/5ee440445c195369d3fad1d32aa6b18a/95e59/message_explain_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>í•´ë‹¹ ë³µí•© ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•¨ê³¼ ì‹¤í–‰ì‹œê°„ì´ ì¤„ì–´ë“¬ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAX0lEQVR42mXKSw6AIAwEUC8EQqEfRFwY4/1vNIaauHHxMs1Ml/O60ffxGgP7OH7mlqm4RIRMhJTp66Y1ZbewGtQ2lMpgMVjrEGvObzWINlRR3+dfYfGcXWXxPcaIEAIeu3JBYTx67cQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë©”ì‹œì§€ ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ ì „\"\n        title=\"\"\n        src=\"/static/dc9141a4838919dda5d2589ded95bd44/37523/message_analyze_no_index.png\"\n        srcset=\"/static/dc9141a4838919dda5d2589ded95bd44/e9ff0/message_analyze_no_index.png 180w,\n/static/dc9141a4838919dda5d2589ded95bd44/f21e7/message_analyze_no_index.png 360w,\n/static/dc9141a4838919dda5d2589ded95bd44/37523/message_analyze_no_index.png 720w,\n/static/dc9141a4838919dda5d2589ded95bd44/302a4/message_analyze_no_index.png 1080w,\n/static/dc9141a4838919dda5d2589ded95bd44/07a9c/message_analyze_no_index.png 1440w,\n/static/dc9141a4838919dda5d2589ded95bd44/95e59/message_analyze_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAYElEQVR42lXMWwqFMBADUPfTD2vbedmOFy7i/ncU6QiCHwdCIFn+54U+/OEOP34YfnzY3pG38tpK/ZjdmnPkhUQhuqM2ArHA+gCrgcWg1sGiobGg1BZmDiSxmUcpJTRi3LgKQVpxUWMuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë©”ì‹œì§€ ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ í›„\"\n        title=\"\"\n        src=\"/static/4a0e76d36dc54ffc27da97f7d0330a32/37523/message_analyze_index.png\"\n        srcset=\"/static/4a0e76d36dc54ffc27da97f7d0330a32/e9ff0/message_analyze_index.png 180w,\n/static/4a0e76d36dc54ffc27da97f7d0330a32/f21e7/message_analyze_index.png 360w,\n/static/4a0e76d36dc54ffc27da97f7d0330a32/37523/message_analyze_index.png 720w,\n/static/4a0e76d36dc54ffc27da97f7d0330a32/302a4/message_analyze_index.png 1080w,\n/static/4a0e76d36dc54ffc27da97f7d0330a32/07a9c/message_analyze_index.png 1440w,\n/static/4a0e76d36dc54ffc27da97f7d0330a32/95e59/message_analyze_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì—¬ê¸°ì„œ ë³´ë©´ ê±°ì˜ ì²˜ìŒìœ¼ë¡œ  <code class=\"language-text\">actual time</code>ê°’ì´ <code class=\"language-text\">...</code>ì„ ë‘ê³  ìœ ì˜ë¯¸í•˜ê²Œ ì„œë¡œ ë‹¤ë¥¸ ê°’ì´ í‘œì‹œëë‹¤.\nì´ëŠ” <code class=\"language-text\">ì²« ë ˆì½”ë“œë¥¼ ì½ì€ ì‹œê°„...ë§ˆì§€ë§‰ ë ˆì½”ë“œë¥¼ ì½ì€ ì‹œê°„</code>ì´ë¼ëŠ” ëœ»ì´ë‹¤.</p>\n<table>\n<thead>\n<tr>\n<th>ë³µí•© ì¸ë±ìŠ¤ X</th>\n<th>ë³µí•© ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>425â€¦433ms</td>\n<td>4.1â€¦24.6ms</td>\n</tr>\n</tbody>\n</table>\n<p>ë§ˆì§€ë§‰ ë ˆì½”ë“œë¥¼ ì½ì€ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ê±°ì˜ <strong>95%</strong> ê°ì†Œí–ˆë‹¤.\ní‚¤ì›Œë“œ ê²€ìƒ‰ì˜ ê²½ìš°ë„ <code class=\"language-text\">like</code> ë¶€ë¶„ì„ ì œì™¸í•˜ë©´ ë™ì¼í•œ ê²€ìƒ‰ì¡°ê±´ì´ë¼, ì‹œê°„ì´ ì¤„ì–´ë“¬ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAYklEQVR42nWKSQ7CMBAE8x+LEC/jcfDYOUVC/P8/hTLAkUOrqlu9nM8XNibdBt0Mm9P7L9c+5kEuwhbT39y3yG1dWYpUqjYuplzQvSPafNP2cJeqfH47xV2d8nWpjZgyIQTeucZBVfMOxqUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë©”ì‹œì§€ ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ ì „\"\n        title=\"\"\n        src=\"/static/a0f4299e7c72890c79ade4faedbdb30d/37523/message_keyword_analyze_no_index.png\"\n        srcset=\"/static/a0f4299e7c72890c79ade4faedbdb30d/e9ff0/message_keyword_analyze_no_index.png 180w,\n/static/a0f4299e7c72890c79ade4faedbdb30d/f21e7/message_keyword_analyze_no_index.png 360w,\n/static/a0f4299e7c72890c79ade4faedbdb30d/37523/message_keyword_analyze_no_index.png 720w,\n/static/a0f4299e7c72890c79ade4faedbdb30d/302a4/message_keyword_analyze_no_index.png 1080w,\n/static/a0f4299e7c72890c79ade4faedbdb30d/07a9c/message_keyword_analyze_no_index.png 1440w,\n/static/a0f4299e7c72890c79ade4faedbdb30d/95e59/message_keyword_analyze_no_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAaElEQVR42kWMSwrDMAxEc6CUxpFl2fo4yapQev/rTEGl7eLxmGGY5fF8YZ4X1BwxD3jMxDwS9cjMIth2QqGK8jXRh/3PYnFAuqKroXLDUM8T6QNqkf1QAzdBbZKmyrll6T/ft4J1veEN6wFB7fU3G2YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë©”ì‹œì§€ ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ í›„\"\n        title=\"\"\n        src=\"/static/b6d48655f45f28424856fab49b52230d/37523/message_keyword_analyze_index.png\"\n        srcset=\"/static/b6d48655f45f28424856fab49b52230d/e9ff0/message_keyword_analyze_index.png 180w,\n/static/b6d48655f45f28424856fab49b52230d/f21e7/message_keyword_analyze_index.png 360w,\n/static/b6d48655f45f28424856fab49b52230d/37523/message_keyword_analyze_index.png 720w,\n/static/b6d48655f45f28424856fab49b52230d/302a4/message_keyword_analyze_index.png 1080w,\n/static/b6d48655f45f28424856fab49b52230d/07a9c/message_keyword_analyze_index.png 1440w,\n/static/b6d48655f45f28424856fab49b52230d/95e59/message_keyword_analyze_index.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<table>\n<thead>\n<tr>\n<th>ë³µí•© ì¸ë±ìŠ¤ X</th>\n<th>ë³µí•© ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>502â€¦628ms</td>\n<td>19â€¦263ms</td>\n</tr>\n</tbody>\n</table>\n<br>\n<p>ë¶ë§ˆí¬ ì¡°íšŒëŠ” ë©”ì‹œì§€ë³´ë‹¤ ê°„ë‹¨í•˜ë‹¤.\në©”ì‹œì§€ëŠ” íŠ¹ì • ë‚ ì§œë¡œ ì´ë™í•´ì„œ ì•/ë’¤ ì–´ë””ë“  ë³¼ ìˆ˜ ìˆê²Œ í•´ì•¼í–ˆëŠ”ë°, ë¶ë§ˆí¬ëŠ” ë¬´ì¡°ê±´ <code class=\"language-text\">create_date</code>ë¥¼ ìµœì‹  ë˜ëŠ” íŠ¹ì • ì‹œê°„ë¶€í„° ì—­ìˆœìœ¼ë¡œ ì¡°íšŒí•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span>\n    bookmark<span class=\"token punctuation\">.</span>id <span class=\"token keyword\">as</span> bookmark_id<span class=\"token punctuation\">,</span>\n    bookmark<span class=\"token punctuation\">.</span>created_date <span class=\"token keyword\">as</span> created_date<span class=\"token punctuation\">,</span>\n    bookmark<span class=\"token punctuation\">.</span>member_id <span class=\"token keyword\">as</span> member_id<span class=\"token punctuation\">,</span>\n    bookmark<span class=\"token punctuation\">.</span>message_id <span class=\"token keyword\">as</span> message_id<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span>channel_id <span class=\"token keyword\">as</span> channel_id<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span>modified_date <span class=\"token keyword\">as</span> modified_date<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span>posted_date <span class=\"token keyword\">as</span> posted_date<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span>slack_message_id <span class=\"token keyword\">as</span> message_slack_id<span class=\"token punctuation\">,</span>\n    message<span class=\"token punctuation\">.</span><span class=\"token keyword\">text</span> <span class=\"token keyword\">as</span> message_text<span class=\"token punctuation\">,</span>\n    member<span class=\"token punctuation\">.</span>first_login <span class=\"token keyword\">as</span> member_first_login<span class=\"token punctuation\">,</span>\n    member<span class=\"token punctuation\">.</span>slack_id <span class=\"token keyword\">as</span> member_slack_id<span class=\"token punctuation\">,</span>\n    member<span class=\"token punctuation\">.</span>thumbnail_url <span class=\"token keyword\">as</span> member_thumbnail_url<span class=\"token punctuation\">,</span>\n    member<span class=\"token punctuation\">.</span>username <span class=\"token keyword\">as</span> member_username\n<span class=\"token keyword\">from</span>\n    bookmark\n        <span class=\"token keyword\">left</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span>\n    message <span class=\"token keyword\">on</span> bookmark<span class=\"token punctuation\">.</span>message_id<span class=\"token operator\">=</span>message<span class=\"token punctuation\">.</span>id\n        <span class=\"token keyword\">left</span> <span class=\"token keyword\">outer</span> <span class=\"token keyword\">join</span>\n    member <span class=\"token keyword\">on</span> bookmark<span class=\"token punctuation\">.</span>member_id<span class=\"token operator\">=</span>member<span class=\"token punctuation\">.</span>id\n<span class=\"token keyword\">where</span>\n        bookmark<span class=\"token punctuation\">.</span>member_id<span class=\"token operator\">=</span>:memberId\n        <span class=\"token operator\">and</span> bookmark<span class=\"token punctuation\">.</span>created_date <span class=\"token operator\">&lt;</span> :createdDate\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span>\n    bookmark<span class=\"token punctuation\">.</span>created_date <span class=\"token keyword\">desc</span> \n<span class=\"token keyword\">limit</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì°¨ì´ì ì´ ìˆë‹¤ë©´ ë©”ì‹œì§€ì™€ ë‹¬ë¦¬ ë¶ë§ˆí¬ëŠ” ê°œì¸ì´ ì†Œìœ í•œ ë¶ë§ˆí¬ë§Œ ë³´ì—¬ì£¼ê¸°ì—, <code class=\"language-text\">member_id</code> ì¼ì¹˜ ì¡°ê±´ì´ í•­ìƒ ê±¸ë ¤ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.\nì´ì¯¤ ë˜ë‹ˆ <code class=\"language-text\">member_id</code> FK ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì„ ê²ƒì´ë©°, <code class=\"language-text\">Using filesort</code>ê°€ í‘œê¸°ë  ê²ƒì´ ì§ì‘ê°„ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnklEQVR42iVNSQ6DMBDjO5lAKrYSspCFAKLt/7/jKsPBsse2xk25bljnUdn5DTHv2I8LxjqGdQ5bTMjHiVxOhJhwfn4IKcMYy3nt+RBwXDeakAqUekGvFl2n8F5WlOuLRRtM85u5bVsQEYZxgtsijPOYF815RdVPltDUQ0r5PFQK4zTDx8yeEAIkBGtJxIN6NRj6nj0iwUO1V0e1sfgD7OFiyIMa+dYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ë³µí•© ì¸ë±ìŠ¤ ì ìš© ì „\"\n        title=\"\"\n        src=\"/static/ee57f7956bae015ec87cbe43f1351057/37523/bookmark_explain_no_index2.png\"\n        srcset=\"/static/ee57f7956bae015ec87cbe43f1351057/e9ff0/bookmark_explain_no_index2.png 180w,\n/static/ee57f7956bae015ec87cbe43f1351057/f21e7/bookmark_explain_no_index2.png 360w,\n/static/ee57f7956bae015ec87cbe43f1351057/37523/bookmark_explain_no_index2.png 720w,\n/static/ee57f7956bae015ec87cbe43f1351057/302a4/bookmark_explain_no_index2.png 1080w,\n/static/ee57f7956bae015ec87cbe43f1351057/07a9c/bookmark_explain_no_index2.png 1440w,\n/static/ee57f7956bae015ec87cbe43f1351057/95e59/bookmark_explain_no_index2.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì˜ˆìƒì´ ë§ì•˜ë‹¤.\nì¶”ê°€ ì •ë ¬ê³¼ ì½ì—ˆì§€ë§Œ ë²„ë ¤ì§€ëŠ” ë ˆì½”ë“œë¥¼ ì—†ì•¨ ìˆ˜ ìˆë„ë¡ ë³µí•© ì¸ë±ìŠ¤ë¥¼ ê±¸ì–´ì£¼ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">index</span> bookmark_member_and_created_date <span class=\"token keyword\">on</span> bookmark <span class=\"token punctuation\">(</span>member_id<span class=\"token punctuation\">,</span> created_date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>create index message_channel_and_posted_date on message (channel_id, posted_date);</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnUlEQVR42lXMW46DMBBEUbaDHyQjgY1x44AxsVCy/+3cUQjzMR+tLpWOqin1IIrwPN7InFi3Qt4rUxSizNf/ZkmJba8subDkjb0e5PL8Z5u0FmzXIY+V7nbDh0ipL3yYGPxIPzgG53Fj4H7/QWuF1hpJC1ESfgyncZdtPtgYcw5Ya89yfmS0UrRti1IKpdozf4b+zvlA3/dYYy73tb/aHGJ1ClNPRAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ë³µí•© ì¸ë±ìŠ¤ ì ìš© í›„\"\n        title=\"\"\n        src=\"/static/3c203afa6cca2fb45105ffd697f66327/37523/bookmark_explain_index2.png\"\n        srcset=\"/static/3c203afa6cca2fb45105ffd697f66327/e9ff0/bookmark_explain_index2.png 180w,\n/static/3c203afa6cca2fb45105ffd697f66327/f21e7/bookmark_explain_index2.png 360w,\n/static/3c203afa6cca2fb45105ffd697f66327/37523/bookmark_explain_index2.png 720w,\n/static/3c203afa6cca2fb45105ffd697f66327/302a4/bookmark_explain_index2.png 1080w,\n/static/3c203afa6cca2fb45105ffd697f66327/07a9c/bookmark_explain_index2.png 1440w,\n/static/3c203afa6cca2fb45105ffd697f66327/95e59/bookmark_explain_index2.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAU0lEQVR42mWKQQqAMBAD+6FetO3uJov//1WkFRX0MBBmUkBqQqaYH5i/dv3ffrM8oOJIbXuTORRMDQ958NnTLwfKAurDNMyXn79uLuSh1odqrToBGq9CxOnDfyMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ë³µí•© ì¸ë±ìŠ¤ ì ìš© ì „\"\n        title=\"\"\n        src=\"/static/c9e220c3f8257d251cc32bbe969cc6fa/37523/bookmark_analyze_no_index2.png\"\n        srcset=\"/static/c9e220c3f8257d251cc32bbe969cc6fa/e9ff0/bookmark_analyze_no_index2.png 180w,\n/static/c9e220c3f8257d251cc32bbe969cc6fa/f21e7/bookmark_analyze_no_index2.png 360w,\n/static/c9e220c3f8257d251cc32bbe969cc6fa/37523/bookmark_analyze_no_index2.png 720w,\n/static/c9e220c3f8257d251cc32bbe969cc6fa/302a4/bookmark_analyze_no_index2.png 1080w,\n/static/c9e220c3f8257d251cc32bbe969cc6fa/07a9c/bookmark_analyze_no_index2.png 1440w,\n/static/c9e220c3f8257d251cc32bbe969cc6fa/95e59/bookmark_analyze_no_index2.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAVUlEQVR42m2KuxHAIAxDMxFNANuSyf5bKYcvdCl0+r0LgMAUyHJmitWPs8TvOxx+GIC6LKCtuw8FUh6UOYR8at99mgu5Km9umMs8FFzFgEt9TLXW9AIWEkLKIUxAaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ë¶ë§ˆí¬ ë³µí•© ì¸ë±ìŠ¤ ì ìš© í›„\"\n        title=\"\"\n        src=\"/static/43b3bf753be7018e44d6d744454c6ef3/37523/bookmark_analyze_index2.png\"\n        srcset=\"/static/43b3bf753be7018e44d6d744454c6ef3/e9ff0/bookmark_analyze_index2.png 180w,\n/static/43b3bf753be7018e44d6d744454c6ef3/f21e7/bookmark_analyze_index2.png 360w,\n/static/43b3bf753be7018e44d6d744454c6ef3/37523/bookmark_analyze_index2.png 720w,\n/static/43b3bf753be7018e44d6d744454c6ef3/302a4/bookmark_analyze_index2.png 1080w,\n/static/43b3bf753be7018e44d6d744454c6ef3/07a9c/bookmark_analyze_index2.png 1440w,\n/static/43b3bf753be7018e44d6d744454c6ef3/95e59/bookmark_analyze_index2.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì˜ë„í•œ ì¸ë±ìŠ¤ë¥¼ íƒ€ê³ , ì‹¤í–‰ì‹œê°„ì´ ì¤„ì–´ë“¤ì—ˆë‹¤.</p>\n<table>\n<thead>\n<tr>\n<th>ë³µí•© ì¸ë±ìŠ¤ X</th>\n<th>ë³µí•© ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>11.9â€¦12.2ms</td>\n<td>6.7â€¦7.2ms</td>\n</tr>\n</tbody>\n</table>\n<p>ë”ë¯¸ë°ì´í„°ëŠ” í•œ ë©¤ë²„ë‹¹ 300ê°œì˜ ë¶ë§ˆí¬ ë°ì´í„°ë¥¼ ë„£ì—ˆë‹¤.\në¶ë§ˆí¬ ë°ì´í„° ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤ë©´, ì‹¤í–‰ì‹œê°„ì˜ ì°¨ì´ë„ ë” ì»¤ì§ˆ ê²ƒì´ë‹¤.</p>\n<br>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ë¦¬ë§ˆì¸ë”ëŠ”!\në¶ë§ˆí¬ì™€ ì¡°ê±´ì´ ë˜‘ê°™ë‹¤.\në©¤ë²„ì™€ <code class=\"language-text\">remind_date</code>ë¼ëŠ” ì•ŒëŒ ì§€ì • ì‹œê°ì„ ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒí•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">where</span>\n    reminder<span class=\"token punctuation\">.</span>member_id<span class=\"token operator\">=</span>:memberId\n    <span class=\"token operator\">and</span> reminder<span class=\"token punctuation\">.</span>remind_date <span class=\"token operator\">&lt;</span> :remindDate\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span>\n    reminder<span class=\"token punctuation\">.</span>remind_date <span class=\"token keyword\">desc</span> </code></pre></div>\n<p><code class=\"language-text\">member_id</code> FK ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  <code class=\"language-text\">Using filesort</code> í‘œê¸°ê¹Œì§€ ë‹¤~ ë˜‘ê°™ì•˜ë‹¤.\nê·¸ë˜ì„œ <code class=\"language-text\">member_id, remind_date</code>ë¡œ ê±¸ì–´ì¤¬ê³ , ì‹¤í–‰ì‹œê°„ ì°¨ì´ë§Œ ì ê³  ë§ˆì¹˜ê² ë‹¤.</p>\n<table>\n<thead>\n<tr>\n<th>ë³µí•© ì¸ë±ìŠ¤ X</th>\n<th>ë³µí•© ì¸ë±ìŠ¤ O</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>15.8â€¦19.2ms</td>\n<td>3.4â€¦8.0ms</td>\n</tr>\n</tbody>\n</table>\n<p>ì°¨ì´ì ì´ ìˆë‹¤ë©´ ë¦¬ë§ˆì¸ë”ëŠ” ì•ŒëŒì„ ë°œì†¡í•˜ë©´ ë°”ë¡œë°”ë¡œ ë°ì´í„°ë¥¼ ì§€ìš°ê¸° ë•Œë¬¸ì—, ì‹¤ìƒí™©ì—ì„œ íš¨ìœ¨ì€ ë” ë‚®ì§€ ì•Šì„ê¹Œ ì‹¶ì€ ì ì´ë‹¤.</p>\n<br>\n<h2 id=\"finally\" style=\"position:relative;\"><a href=\"#finally\" aria-label=\"finally permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>finally</h2>\n<p>ê·¸ë˜ì„œ ì¤ì¤ì—ëŠ” ì¶”ê°€ë¡œ ì´ëŸ° ì¸ë±ìŠ¤ê°€ ê±¸ë¦¬ê²Œ ë˜ì—ˆë‹¤!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACM0lEQVR42j2RW0/bQBSE/VyIvV7bcXypHS+X3OPEgZCQC2kAQam4lEb0oQKkCrVS+1qp6q//Ki9qH0aas6sZnTljSGkjpcSyBJVKBcuy9FxCCFvP7VaL6WRCGIYIIf7/S1timiamaWlevhmvZhb1NNUipZQW2bZNHPoEQY16klAMh6RpihAW/zSO61CMCgbDAY4rEbbAcF0Hz3OJo4h+t0uWZdrMEoIsjVjM56T1OsOiYLVaEQSBNkuiiNCLaO91KHojAjfElR6G50qOxiPCKKLRbLBcLonjWG/pOK6e2+02RVGwWCyoelVMYTIerLm4/Ua+uOfk6pm9oxsa2RjDkVLH9H0fv+qjMoXneXrLMlq5Uckdx9ERS15GU/0xZw9f6a6vObz8RH56S22ng1FG86pV1I7SyFSmj18KS1RMiyRJaTRbuK6ni5KlqbQRjk01rOGHAdJz9GyULb+NYhpqn/lkxigfEQeRvmHV83CkSbOhWJ3MSJIAx3lt2RYW5vYbDosB41GB2N7Sb0bN9bjNz5mpMevmguXeMV2xT2DV6PdiNncTZhPF9dUB86mi3/F1Kb3mkE6+RrVmFNMrot0j4qiFYVs27/IlpwcrjltjZp0JO7KOLz3yXo3vL3dsPp7webPm6cslw37Mlmmynp/x6/cf7h+fePnxk4vNA4N8imFLG0taWFIgSji25uXtdrOID+8n5L2U89NDnh9v6PfqVComSRaSD/do9zI6fUU33yFMfP4CpqMZdqrlUiIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì¤ì¤ ì¶”ê°€ ì¸ë±ìŠ¤\"\n        title=\"\"\n        src=\"/static/1d3da01279e1099504af950bde40a98a/37523/final.png\"\n        srcset=\"/static/1d3da01279e1099504af950bde40a98a/e9ff0/final.png 180w,\n/static/1d3da01279e1099504af950bde40a98a/f21e7/final.png 360w,\n/static/1d3da01279e1099504af950bde40a98a/37523/final.png 720w,\n/static/1d3da01279e1099504af950bde40a98a/302a4/final.png 1080w,\n/static/1d3da01279e1099504af950bde40a98a/07a9c/final.png 1440w,\n/static/1d3da01279e1099504af950bde40a98a/95e59/final.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h2 id=\"ì§§ì€-íšŒê³ \" style=\"position:relative;\"><a href=\"#%EC%A7%A7%EC%9D%80-%ED%9A%8C%EA%B3%A0\" aria-label=\"ì§§ì€ íšŒê³  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì§§ì€ íšŒê³ </h2>\n<p>5ì°¨ ìŠ¤í”„ë¦°íŠ¸ ë°œí‘œì— ì•„ì‰¬ì›€ì´ ë§ë‹¤.\në°œí‘œë¥¼ ë§ˆì¹˜ê³ ë¶€í„° í•´ë‹¹ í¬ìŠ¤íŒ…ì„ ì ê¸° ì‹œì‘í–ˆëŠ”ë°â€¦ í•˜ë©´ í•  ìˆ˜ë¡ ë°œí‘œ ë•Œ ì˜ëª» ì–˜ê¸°í•œ ë¶€ë¶„ë§Œ ë³´ì—¬ì„œ ìœ íŠœë¸Œì— ì˜¬ë¼ì˜¬ ê²ƒì´ ë‘ë ¤ìš¸ ì •ë„ë‹¤ ğŸ¥²\nê·¸ë˜ë„ ê¹ƒí—ˆë¸Œ ìœ„í‚¤ì— ì˜¬ë ¤, ë‹¤ë¥¸ ë°±ì—”ë“œ íŒ€ì›ë“¤ì—ê²Œ ê³µìœ í•´ì£¼ë ¤ê³  ë” ê¼¼ê¼¼íˆ ê¸€ì„ ì“°ê²Œ ë˜ì—ˆë˜ê±´ë°â€¦\níŒ€ì›ë“¤ì—ê²Œ ì˜ëª»ëœ ì§€ì‹ì„ ì „í•˜ì§€ ì•Šì•„ì„œ ë‹¤í–‰ì´ë‹¤ ğŸ˜‡</p>\n<p>ë³„ê°œë¡œ ì¸ë±ìŠ¤ í…ŒìŠ¤íŠ¸ì—ë„ ì•„ì‰¬ì›€ì´ ìˆë‹¤.\në”ë¯¸ë°ì´í„°ë¥¼ ì ë‹¹íˆ ë„£ìœ¼ë©´ ëœë‹¤ê³  ìƒê°í–ˆëŠ”ë°, ì‹¤í–‰ê³„íšì„ ë¶„ì„í• ìˆ˜ë¡ <strong>ì‹¤ì œ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìŒ“ì´ëŠ”ê°€</strong>ì— ë”°ë¼ ê²°ê³¼ê°€ ë§ì´ ë‹¬ë¼ì§ˆ ê²ƒ ê°™ì•„ì„œì˜€ë‹¤.\nì‹¤ì‚¬ìš© ë°ì´í„°ê°€ ì¢€ ìŒ“ì¸ë‹¤ë©´, ì´ë²ˆì— ì¸ë±ìŠ¤ ê³¼ì œë¥¼ í•˜ì§€ ì•Šì€ ë‹¤ë¥¸ ë°±ì—”ë“œ íŒ€ì›ë“¤ì´ë‘ í•¨ê»˜, í•œë‹¨ê³„ ë” ìµœì í™”ë¥¼ ì‹œë„í•´ë³´ê³  ì‹¶ë‹¤ğŸ”¥</p>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EC%A4%8D%EC%A4%8D-mysql-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%ED%83%90%ED%97%98\">ğŸ§³ ì¤ì¤ MySQL ì¸ë±ìŠ¤ íƒí—˜</a></li>\n<li><a href=\"#%EC%BF%BC%EB%A6%AC-%EC%B5%9C%EC%A0%81%ED%99%94-by%EB%B4%84\">ì¿¼ë¦¬ ìµœì í™” by.ë´„ğŸŒ±</a></li>\n<li><a href=\"#-%EC%8B%A4%ED%97%98-%ED%99%98%EA%B2%BD\">ğŸ§ª ì‹¤í—˜ í™˜ê²½</a></li>\n<li><a href=\"#%EF%B8%8F-mysql%EC%9D%98-%EC%9E%90%EB%8F%99-%EC%83%9D%EC%84%B1-%EC%9D%B8%EB%8D%B1%EC%8A%A4\">âš™ï¸ MySQLì˜ ìë™ ìƒì„± ì¸ë±ìŠ¤</a></li>\n<li><a href=\"#-channel\">ğŸ“º Channel</a></li>\n<li><a href=\"#-channelsubscription\">ğŸ”– ChannelSubscription</a></li>\n<li><a href=\"#%EF%B8%8Fbookmark--reminder\">â­ï¸Bookmark &#x26; â°Reminder</a></li>\n<li><a href=\"#%EF%B8%8F-querydsl%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B3%B5%EC%9E%A1%ED%95%9C-%EC%BF%BC%EB%A6%AC%EB%93%A4\">âœ‰ï¸ Querydslì„ ì´ìš©í•œ ë³µì¡í•œ ì¿¼ë¦¬ë“¤</a></li>\n<li><a href=\"#finally\">finally</a></li>\n<li><a href=\"#%EC%A7%A7%EC%9D%80-%ED%9A%8C%EA%B3%A0\">ì§§ì€ íšŒê³ </a></li>\n</ul>\n</div>","frontmatter":{"date":"October 04, 2022","title":"ì¤ì¤ MySQL ì¸ë±ìŠ¤ íƒí—˜","categories":"etc ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…","author":"ì¨ë¨¸","emoji":"headers/db_index.png"},"fields":{"slug":"/db_index/"}},"prev":{"id":"d9b615b7-c360-591b-bb6c-a55958d3fe2c","html":"<h2 id=\"-ë¬¸ì œìƒí™©\" style=\"position:relative;\"><a href=\"#-%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9\" aria-label=\" ë¬¸ì œìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ§¶ ë¬¸ì œìƒí™©</h2>\n<h3 id=\"-ë¹„ëŒ€í•´ì§„-ì„œë¹„ìŠ¤-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#-%EB%B9%84%EB%8C%80%ED%95%B4%EC%A7%84-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%BD%94%EB%93%9C\" aria-label=\" ë¹„ëŒ€í•´ì§„ ì„œë¹„ìŠ¤ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸª ë¹„ëŒ€í•´ì§„ ì„œë¹„ìŠ¤ ì½”ë“œ</h3>\n<p><a href=\"https://github.com/woowacourse-teams/2022-pickpick\">ì¤ì¤</a>ì€ ìš”ì²­ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ë³€í™”í•´ì•¼ í•˜ëŠ” ë³µì¡í•œ ì¡°íšŒ ì¡°ê±´ì„ ê±¸ê¸° ìœ„í•´ <code class=\"language-text\">Querydsl</code>ì„ ë„ì…í–ˆë‹¤.\nì˜ˆì „ì— ê³µë¶€í•˜ë©° ê°€ë³ê²Œ ì‚¬ìš©í•´ ë³¸ ì ì€ ìˆì§€ë§Œ, ì¤ì¤ ìš”êµ¬ì‚¬í•­ë§Œí¼ ë³µì¡í•œ ì½”ë“œë¥¼ ì§œ ë³¸ ì ì€ ì—†ì—ˆë‹¤.\n<code class=\"language-text\">XXXService</code>ì— <code class=\"language-text\">Querydsl</code> ì½”ë“œë¥¼ ë„£ëŠ” ì‹ìœ¼ë¡œ ìš°ì„  êµ¬í˜„í–ˆê³ , ë¬´ì‚¬íˆ ë°°í¬ë˜ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MessageService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> members<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRepository</span> messages<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ChannelSubscriptionRepository</span> channelSubscriptions<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">JPAQueryFactory</span> jpaQueryFactory<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MessageResponses</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds <span class=\"token operator\">=</span> <span class=\"token function\">findChannelId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> messageResponses <span class=\"token operator\">=</span> <span class=\"token function\">findMessages</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">boolean</span> hasPast <span class=\"token operator\">=</span> <span class=\"token function\">hasPast</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">,</span> messageResponses<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">boolean</span> hasFuture <span class=\"token operator\">=</span> <span class=\"token function\">hasFuture</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">,</span> messageResponses<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MessageResponses</span><span class=\"token punctuation\">(</span>messageResponses<span class=\"token punctuation\">,</span> hasPast<span class=\"token punctuation\">,</span> hasFuture<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">isNeedPastMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findChannelId</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds <span class=\"token operator\">=</span> messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getChannelIds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isNonNullNorEmpty</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> channelIds<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token class-name\">ChannelSubscription</span> firstSubscription <span class=\"token operator\">=</span> channelSubscriptions<span class=\"token punctuation\">.</span><span class=\"token function\">getFirstByMemberIdOrderByViewOrderAsc</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>firstSubscription<span class=\"token punctuation\">.</span><span class=\"token function\">getChannelId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findMessages</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span>\n                                               <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">boolean</span> needPastMessage <span class=\"token operator\">=</span> messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">isNeedPastMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> messageCount <span class=\"token operator\">=</span> messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> messageResponses <span class=\"token operator\">=</span> jpaQueryFactory\n                <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMessageResponseConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QMessage</span><span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QMessage</span><span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">.</span>member<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QBookmark</span><span class=\"token punctuation\">.</span>bookmark<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">existsBookmark</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QReminder</span><span class=\"token punctuation\">.</span>reminder<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">remainReminder</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token function\">meetAllConditions</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token function\">arrangeDateByNeedPastMessage</span><span class=\"token punctuation\">(</span>needPastMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span>messageCount<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">replaceMentionMembers</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> messageResponses<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê·¸ëŸ¬ë‹¤ <code class=\"language-text\">Querydsl</code>ì„ ì“°ì§€ ì•ŠëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ì½”ë“œë¥¼ ë³´ë‹ˆ â€˜ì–´â€¦ ì—¬ê¸°ëŠ” ë„ˆë¬´ ê¹”ë”í•œë°?â€˜í•˜ëŠ” ìœ„í™”ê°ì´ ë“¤ì—ˆë‹¤.\nê·¸ë¦¬ê³  ë‹¤ì‹œ <code class=\"language-text\">Querydsl</code>ì„ ì“°ëŠ” ì½”ë“œë¥¼ ë³´ë‹ˆ, <code class=\"language-text\">Repository</code>ê°€ í•  ì¼ì´ <code class=\"language-text\">Service</code>ì—ì„œ ì´ë¤„ì§€ê³  ìˆë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.</p>\n<p>ìœ„ì— ìˆëŠ” ê¸°ì¡´ <code class=\"language-text\">MessageService</code>ì˜ ì§§ì€ ì˜ˆì‹œ ì½”ë“œ ë‚´ì—ì„œë„ <code class=\"language-text\">Querydsl</code> ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ì„œë¹„ìŠ¤ ì—­í•  ë¹„ëŒ€í™”ê°€ ë³´ì¸ë‹¤.\n<code class=\"language-text\">findChannelId()</code>ì˜ ê²½ìš° DBì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì—­í• ì„ ì™„ë²½íˆ <code class=\"language-text\">channelSubscriptions</code>ì— ë§¡ê¸°ê³  ìˆë‹¤.\në°˜ë©´, <code class=\"language-text\">findMessages()</code>ëŠ” DBì—ì„œ ì–´ë–¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ì§€ ì„œë¹„ìŠ¤ ì½”ë“œ ìƒì— ì™„ì „íˆ ë…¸ì¶œë˜ì–´ ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ê° ë ˆì´ì–´ ë³„ ì—­í• ì´ ì›ì¹™ëŒ€ë¡œ ë¶„ë¦¬ë˜ë„ë¡ <code class=\"language-text\">Querydsl</code> ì½”ë“œë¥¼ ë³„ë„ì˜ <code class=\"language-text\">Repository</code> ê°ì²´ë¡œ ë¹¼ë‚´ëŠ” ë¦¬íŒ©í† ë§ì„ ì‹œì‘í–ˆë‹¤.</p>\n<br>\n<h3 id=\"ï¸-ì¼ë‹¨-ë ˆí¬ì§€í† ë¦¬-ì½”ë“œ-ë¶„ë¦¬\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EC%9D%BC%EB%8B%A8-%EB%A0%88%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC-%EC%BD%94%EB%93%9C-%EB%B6%84%EB%A6%AC\" aria-label=\"ï¸ ì¼ë‹¨ ë ˆí¬ì§€í† ë¦¬ ì½”ë“œ ë¶„ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ‚ï¸ ì¼ë‹¨ ë ˆí¬ì§€í† ë¦¬ ì½”ë“œ ë¶„ë¦¬</h3>\n<p><code class=\"language-text\">Querydsl</code> ì‚¬ìš© ì˜ˆì‹œë¥¼ ë³´ë©´ <code class=\"language-text\">Querydsl</code>ì„ ì‚¬ìš©í•˜ëŠ” ë ˆí¬ì§€í† ë¦¬ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì´ë¥¼ <code class=\"language-text\">JpaRepository</code>ì™€ í•¨ê»˜ ìƒì†ë°›ì•„ ê²°ê³¼ì ìœ¼ë¡œ í•˜ë‚˜ì˜ êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•˜ê²Œ í•˜ëŠ” ë°©ë²•ì´ ë§ì´ ë‚˜ì˜¨ë‹¤.\nê¸€ë¡œ í•˜ë‹ˆ ì–´ë ¤ìš´ë°, ê·¸ë¦¼ê³¼ ì½”ë“œë¡œ ë³´ë©´ ì´ë ‡ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAp0lEQVR42nWQ6wrCMAxGfZv1Mp22W1vbpnNe3v+RjjCZKOKPQyDkOwnZWWvZMNpwikdyK4jMVBFKFUKIuHSitIq0C9LmlSqNYRgwRr8dux/heCSeE6UJuVViTDjvGcYDIUWyVOrSyKWuvITmV7g1tTYopVCq4+D3+MkzpUA4R8Zpwo0ObRRd160zW26r3xd+bLLG4rNDLjPL9cFye7Bc7+sr+r7nX+4J7rd96+WGTjwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"querydsl ì¸í„°í˜ì´ìŠ¤ ìƒì†\"\n        title=\"\"\n        src=\"/static/6041c50db5c2acae632e5f544543d3ef/37523/querydsl_extends.png\"\n        srcset=\"/static/6041c50db5c2acae632e5f544543d3ef/e9ff0/querydsl_extends.png 180w,\n/static/6041c50db5c2acae632e5f544543d3ef/f21e7/querydsl_extends.png 360w,\n/static/6041c50db5c2acae632e5f544543d3ef/37523/querydsl_extends.png 720w,\n/static/6041c50db5c2acae632e5f544543d3ef/302a4/querydsl_extends.png 1080w,\n/static/6041c50db5c2acae632e5f544543d3ef/07a9c/querydsl_extends.png 1440w,\n/static/6041c50db5c2acae632e5f544543d3ef/95e59/querydsl_extends.png 1460w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MessageService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRepository</span> messages<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">MessageRepository</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Repository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Message</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">QMessageRepository</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">QMessageRepository</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">QMessageRepositoryImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">QMessageRepository</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•œë‹¤ë©´ <code class=\"language-text\">MessageService</code>ì˜ <code class=\"language-text\">messages</code>ë¥¼ í†µí•´, <code class=\"language-text\">QMessageRepositoryImpl</code>ì— êµ¬í˜„ëœ ë©”ì„œë“œë„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n<code class=\"language-text\">XXXService</code> ì…ì¥ì—ì„œ ë‹¨ í•˜ë‚˜ì˜ <code class=\"language-text\">Repository</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ë‹ˆ ê¹”ë”í•˜ë‹¤.</p>\n<p>ì´ ë°©ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ë©´ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ì„œë¹„ìŠ¤ê°€ í•œê» ê°€ë²¼ì›Œì§„ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABSUlEQVR42lWSiQqCYBCEff+3EyEPpDIjzTw7zDza+BZWTDDbY2Zn9v+deZ7l8/lI27bSdZ28328hZw+1qqokSRI5Ho9S1/XaQz+1pmnkfr/LOI7iPJ9POZ1O2ny9XoUYEnv6vlcyQMMwKAiyoigkCALJ81yyLNNB4BymQAgRz/f7VQBfI/R9XweacmoMv1wuf274r4S73U4Oh4OCTcHW8vl81pVglXhZFlWI8tfrpTEYtYx3CKMoksfjoQ3TNCmQBkiwBZi3LEvNkwNHDA4xqpCAXaACIpNulllFGIZ/K0HR7XZTQoYQ84JfFcZxrNNIbi0z2RyYbUixbAo5rL8d0kwDdomxtCVkvygib2pM4X6/X/e4KsQyJ8bJWdEsU/c8Tx2YEurs0HVdFZOmqQpRQn7YD7sEDAgyIyTmnqGUnK2EmLvHGrijdjt+aNH9ZyUkwXEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1ì°¨ ë¦¬íŒ©í„°ë§ uml\"\n        title=\"\"\n        src=\"/static/8251179dae69cb7e10f6e003b5613ca0/37523/uml1.png\"\n        srcset=\"/static/8251179dae69cb7e10f6e003b5613ca0/e9ff0/uml1.png 180w,\n/static/8251179dae69cb7e10f6e003b5613ca0/f21e7/uml1.png 360w,\n/static/8251179dae69cb7e10f6e003b5613ca0/37523/uml1.png 720w,\n/static/8251179dae69cb7e10f6e003b5613ca0/302a4/uml1.png 1080w,\n/static/8251179dae69cb7e10f6e003b5613ca0/07a9c/uml1.png 1440w,\n/static/8251179dae69cb7e10f6e003b5613ca0/b2b2c/uml1.png 1708w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ê·¸ëŸ°ë° ì²«ë²ˆì§¸ ë¦¬íŒ©í„°ë§ í›„ì— ë³´ë‹ˆ, <code class=\"language-text\">MessageService</code>ì—ì„œ ì¼ë°˜ <code class=\"language-text\">MessageRepository</code>ì˜ ë©”ì„œë“œë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆì—ˆë‹¤.\në™ì‹œì— ë°˜ëŒ€ë¡œ <code class=\"language-text\">MessageService</code>ë¥¼ ì œì™¸í•˜ê³  <code class=\"language-text\">MessageRepository</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ëª¨ë“  ê³³ì—ì„œ <code class=\"language-text\">Querydsl</code> ë¡œì§ì„ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆì—ˆë‹¤.\në‹¤ì¤‘ ìƒì†ìœ¼ë¡œ <code class=\"language-text\">Message</code> ë„ë©”ì¸ê³¼ ê´€ë ¨ëœ DB ì ‘ê·¼ ë¡œì§ì„ í•œ ê³³ì— ë‹¤ ëª¨ì„ ìˆ˜ ìˆì—ˆì§€ë§Œ,\nì •ì‘ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œê°€ ëª¨ë‘ ë…¸ì¶œë˜ë©´ì„œ, ê´€ë¦¬í•  ì¸í„°í˜ì´ìŠ¤ë§Œ í•˜ë‚˜ ë” ìƒê²¼ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ë‹¤ì¤‘ ìƒì† ì—†ì´ <code class=\"language-text\">MessageRepository</code>ì™€ <code class=\"language-text\">QMessageRepository</code>ë¥¼ í•„ìš”ì— ë”°ë¼ ê°ê° ì‚¬ìš©í•˜ë„ë¡ ë‹¤ì‹œ ë¦¬íŒ©í„°ë§ì„ ì§„í–‰í–ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABY0lEQVR42lWS2QrCUAxE+//f47OPouiDUDe0dV+LW+tS95ETSNFAuL03yWQyafB6vXS/33U8HpWmqfI8F29u7/dbWZZpOp2q0+loNpvpdDqZr1YrxXGs0Wik/X6v2+2m4Hw+W/J4PNZmsxF3GmCfz8d8sVhoMplovV7rcDhYfD6fazgc6vl8mtOYM4AVgAA5iDPkG6NZr9czVm40x2HluQUgo0D7er3q8Xj8jYzBbLfbGQvinDAcDAZGBFDcANEHwH6/bwwul4sFGAt3lm5+Rz/qlsul1QAIkQAQxqEjQBgBCmHiEhDj5A1LksQAt9tt0eyPYRRFFvRCjPHCMFStVlOlUlGj0bBFuIbtdtuIIFUBiIaMS0eoc/ctc5bLZVWrVcthkl/AVqtlvw2kaF4wJBEtSAL0lyGApVLJWDabTVuej9ztdg2QJuCYhqCyKbTkEXFdJwABqtfrtlGcH9v1dXdt8S/39Pep0+aESQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2ì°¨ ë¦¬íŒ©í„°ë§ uml\"\n        title=\"\"\n        src=\"/static/59eebc8e9243f90e728005ab33bb6d33/37523/uml2.png\"\n        srcset=\"/static/59eebc8e9243f90e728005ab33bb6d33/e9ff0/uml2.png 180w,\n/static/59eebc8e9243f90e728005ab33bb6d33/f21e7/uml2.png 360w,\n/static/59eebc8e9243f90e728005ab33bb6d33/37523/uml2.png 720w,\n/static/59eebc8e9243f90e728005ab33bb6d33/302a4/uml2.png 1080w,\n/static/59eebc8e9243f90e728005ab33bb6d33/07a9c/uml2.png 1440w,\n/static/59eebc8e9243f90e728005ab33bb6d33/b2b2c/uml2.png 1708w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ë‘ í˜•íƒœ ì¤‘ì— ê³ ë¯¼í–ˆëŠ”ë° ì„¤ê³„ìƒìœ¼ë¡œëŠ” 1ì•ˆì´ í™•ì—°íˆ ì¢‹ì•˜ë‹¤.\n<code class=\"language-text\">MessageRepository</code>ì˜ DB ì ‘ê·¼ ëª…ì„¸ë¥¼ í•œ ë²ˆì— ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ì ì´ íŠ¹íˆ ê·¸ë¬ë‹¤.\në©”ì„œë“œ êµ¬í˜„ì„ ìœ„í•´ ë‚´ë¶€ì—ì„œ <code class=\"language-text\">JPA</code>ê°€ ìë™ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê±´, <code class=\"language-text\">Querydsl</code>ì„ ì‚¬ìš©í•˜ê±´, ì™¸ë¶€ì˜ ê´€ì‹¬ì‚¬ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p>ë°˜ë©´, ì´ ì„¤ê³„ì˜ ì¥ì ì´ í˜„ì¬ ìš°ë¦¬ í”„ë¡œì íŠ¸ì— ë§ì„ê¹Œ? í•˜ëŠ” ê³ ë¯¼ì´ ë“¤ì—ˆë‹¤.\nì‹¤ì§ˆì ìœ¼ë¡œ <code class=\"language-text\">JPA</code> ìë™ ìƒì„± ì½”ë“œë¥¼ ì“°ëŠ” í´ë¼ì´ì–¸íŠ¸ í´ë˜ìŠ¤ì™€ <code class=\"language-text\">Querydsl</code> ì½”ë“œë¥¼ ì“°ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì™„ë²½íˆ ë‚˜ëˆ„ì–´ì ¸ ìˆê³ ,\nì´ ë‘˜ì„ í•œ ë²ˆì— ì“¸ ìƒˆë¡œìš´ ê°ì²´ê°€ ìƒê¸¸ ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤.\nê·¸ë ‡ë‹¤ë©´ ê°ì²´ë¥¼ ë¶„ë¦¬í•´ ìì‹ ì´ ì“¸ ë©”ì„œë“œë§Œ ì œê³µë°›ëŠ” ê²ƒì´ ë‚«ì§€ ì•Šì„ê¹Œ?</p>\n<p>ì´ ë¶€ë¶„ì€ í˜¼ì ê³ ë¯¼í•´ì„œ ë‹µì„ ë‚´ë¦¬ê¸° ë³´ë‹¤ íŒ€ì›ë“¤ì˜ ì˜ê²¬ì„ ë“£ê³  ë³„ë„ ì§„í–‰í•˜ëŠ” ê²Œ ë‚˜ì„ ê²ƒ ê°™ì•„, ë‘ ê°€ì§€ ë°©ì•ˆì„ ëª¨ë‘ ì—´ì–´ë‘ê³  ë‚˜ë¨¸ì§€ ë¦¬íŒ©í„°ë§ì„ ì§„í–‰í–ˆë‹¤.</p>\n<br>\n<h3 id=\"-ë©”ì„œë“œ-ì´ë¦„ì„-ëª…í™•í•˜ê²Œ\" style=\"position:relative;\"><a href=\"#-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9D%B4%EB%A6%84%EC%9D%84-%EB%AA%85%ED%99%95%ED%95%98%EA%B2%8C\" aria-label=\" ë©”ì„œë“œ ì´ë¦„ì„ ëª…í™•í•˜ê²Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“› ë©”ì„œë“œ ì´ë¦„ì„ ëª…í™•í•˜ê²Œ</h3>\n<p>ë‹¤ìŒìœ¼ë¡œ <code class=\"language-text\">QMessageRepository</code>ì˜ ë©”ì„œë“œ ì´ë¦„ ê°œì„  ì‘ì—…ì— ë“¤ì–´ê°”ë‹¤.\nê¸°ì¡´ ì½”ë“œëŠ” ë¹Œë” ì•ˆ ë©”ì„œë“œ ëª…ì´ ì¶”ìƒì ì´ë¼, ì½”ë“œë§Œ ë³´ê³  ì‹¤ì œë¡œ ì–´ë–¤ ì¡°ê±´ì¸ì§€ íŒŒì•…í•˜ê¸° ì‰½ì§€ ì•Šì•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findMessages</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span>\n                                            <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">boolean</span> needPastMessage <span class=\"token operator\">=</span> messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">isNeedPastMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> messageCount <span class=\"token operator\">=</span> messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> jpaQueryFactory\n        <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMessageResponseConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>member<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>bookmark<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">existsBookmark</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>reminder<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">remainReminder</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token function\">meetAllConditions</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token function\">arrangeDateByNeedPastMessage</span><span class=\"token punctuation\">(</span>needPastMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span>messageCount<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë¥¼ <code class=\"language-text\">JPA</code> ë©”ì„œë“œ ì»¨ë²¤ì…˜ì— ë§ì¶° ì•„ë˜ì™€ ê°™ì´ ëª…í™•í•˜ê²Œ ê°œì„ í–ˆë‹¤.</p>\n<h4 id=\"1-on-ì¡°ê±´ë¬¸\" style=\"position:relative;\"><a href=\"#1-on-%EC%A1%B0%EA%B1%B4%EB%AC%B8\" aria-label=\"1 on ì¡°ê±´ë¬¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. on ì¡°ê±´ë¬¸</h4>\n<p>onì ˆ ì•ˆì˜ ë©”ì„œë“œëŠ” ë‘˜ ë‹¤ í•´ë‹¹ ë©¤ë²„ê°€ ê°–ê³  ìˆëŠ” ë¶ë§ˆí¬ì™€ ë¦¬ë§ˆì¸ë”ë§Œ ì¡°íšŒí•˜ëŠ” ì¡°ê±´ì´ë‹¤.\nì—¬ê¸°ì— ë¦¬ë§ˆì¸ë”ëŠ” ì¶”ê°€ë¡œ ì•ŒëŒ ì‹œê°ì´ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ë¯¸ë˜ì¼ ê²½ìš°ë§Œ ì¡°íšŒí•œë‹¤.\në”°ë¼ì„œ ì¡°ê±´ì— ë§ì¶° êµ¬ì²´ì ì¸ ì´ë¦„ì„ ì§€ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">return</span> jpaQueryFactory\n    <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMessageResponseConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>bookmark<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">bookmarksFindByMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>reminder<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">remindersFindByMemberIdWhereRemindDateAfterNow</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"2-where-ì¡°ê±´ë¬¸\" style=\"position:relative;\"><a href=\"#2-where-%EC%A1%B0%EA%B1%B4%EB%AC%B8\" aria-label=\"2 where ì¡°ê±´ë¬¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. where ì¡°ê±´ë¬¸</h4>\n<p>where ì ˆ ë‚´ì˜ ë©”ì„œë“œëŠ” <code class=\"language-text\">where(meetAllConditions(channelIds, messageRequest)</code>ë¡œ <code class=\"language-text\">ëª¨ë“  ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê²½ìš°</code>ë¼ëŠ” ì¶”ìƒí™”ëœ ë‚´ìš©ë§Œ ë“¤ì–´ê°€ìˆë‹¤.\nì‚¬ì‹¤ ì´ ì•ˆì— ë„ˆë¬´ ë§ì€ ì¡°ê±´ì´ ê°ì‹¸ì ¸ ìˆê¸´ í•˜ë‹¤.\nì •ë¦¬í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ul>\n<li>íŠ¹ì • ì±„ë„ë“¤ì— ì†í•œ ë©”ì‹œì§€ë§Œ ì¡°íšŒí•œë‹¤</li>\n<li>ê²€ìƒ‰ í‚¤ì›Œë“œê°€ ìˆë‹¤ë©´, í•´ë‹¹ í‚¤ì›Œë“œê°€ ë³¸ë¬¸ì— ì¡´ì¬í•˜ëŠ” ë©”ì‹œì§€ë§Œ ì¡°íšŒí•œë‹¤</li>\n<li>ë³¸ë¬¸ì´ ë¹ˆ ë©”ì‹œì§€ëŠ” ì¡°íšŒ ëŒ€ìƒì—ì„œ ì œì™¸í•œë‹¤</li>\n<li>ê¸°ì¤€ì‚¼ëŠ” ë©”ì‹œì§€ê°€ ìˆë‹¤ë©´, í•´ë‹¹ ë©”ì‹œì§€ì˜ ì‘ì„±ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒí•œë‹¤\n<ul>\n<li>ì´ ë•Œ, ì¡°ê±´ì— ë”°ë¼ ì‘ì„±ì‹œê°„ì´ ê¸°ì¤€ ë©”ì‹œì§€ì˜ ì‘ì„±ì‹œê°„ ì´ì „/ì´í›„ì˜ ë©”ì‹œì§€ë¡œ ì¶”ê°€ ë¶„ê¸°ì²˜ë¦¬ëœë‹¤</li>\n</ul>\n</li>\n<li>ê¸°ì¤€ì‚¼ëŠ” ë©”ì‹œì§€ê°€ ì—†ë‹¤ë©´, íŠ¹ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒí•œë‹¤\n<ul>\n<li>ì´ ë•Œ, ì¡°ê±´ì— ë”°ë¼ ì‘ì„±ì‹œê°„ì´ íŠ¹ì • ì‹œê°„ ì´ì „/ì´í›„ì¸ ë©”ì‹œì§€ë¡œ ì¶”ê°€ ë¶„ê¸°ì²˜ë¦¬ëœë‹¤</li>\n</ul>\n</li>\n<li>ê¸°ì¤€ì‚¼ëŠ” ë©”ì‹œì§€ì™€ íŠ¹ì • ì‹œê°„ì´ ë‘˜ ë‹¤ ì—†ë‹¤ë©´, ì‘ì„±ì‹œê°„ ìƒê´€ì—†ì´ ì¡°íšŒí•œë‹¤</li>\n</ul>\n<p>ì²˜ìŒì—ëŠ” ì´ ì¡°ê±´ë“¤ì„ ë©”ì„œë“œ ëª…ì— ë‹¤ ë„£ìœ¼ë ¤ë‹ˆ ë„ì €íˆ ë¶ˆê°€ëŠ¥í–ˆë‹¤.\nê·¸ë˜ì„œ ë³¸ë¬¸ê³¼ ê´€ë ¨ëœ ë‘ í•­ëª©ì„ <code class=\"language-text\">ë³¸ë¬¸ì— ë”°ë¼ í•„í„°ë§</code>,\nê·¸ë¦¬ê³  ì•„ë˜ ì„¸ í•­ëª©ì„ <code class=\"language-text\">ì‘ì„± ì‹œê°„ì— ë”°ë¼ í•„í„°ë§</code>ì´ë¼ëŠ” í•­ëª©ìœ¼ë¡œ ê°„ì¶”ë ¸ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">return</span> jpaQueryFactory\n    <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMessageResponseConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>bookmark<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">bookmarksFindByMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>reminder<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">remindersFindByMemberIdWhereRemindDateAfterNow</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token function\">inChannelsFilterByTextAndPostedDate</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>íŠ¹ì • ì±„ë„ë“¤ì— ì†í•´ìˆìœ¼ë©°, ë³¸ë¬¸ê³¼ ì‘ì„± ì‹œê°„ì— ë”°ë¼ í•„í„°ë§ ëœë‹¤ê³  ìš”ì•½ëœ ì´ë¦„ì´ë‹¤.</p>\n<h4 id=\"3-orderby-ì¡°ê±´ë¬¸\" style=\"position:relative;\"><a href=\"#3-orderby-%EC%A1%B0%EA%B1%B4%EB%AC%B8\" aria-label=\"3 orderby ì¡°ê±´ë¬¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. orderBy ì¡°ê±´ë¬¸</h4>\n<p>ê¸°ì¡´ ë©”ì„œë“œ ì´ë¦„ì€ <code class=\"language-text\">arrangeDateByNeedPastMessage</code>ì˜€ëŠ”ë°, ë‚´ë¶€ ë¡œì§ì€ ê²°êµ­ <code class=\"language-text\">posted_date</code>ì˜ ì •ë ¬ ê¸°ì¤€,\nì¦‰ <code class=\"language-text\">decs/asc</code>ë¥¼ ê²°ì •í•˜ëŠ” ë‚´ìš©ì´ì—ˆë‹¤.\nê·¸ë˜ì„œ <code class=\"language-text\">ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ</code> ì—¬ë¶€ê°€ ë°”ë€ë‹¤ëŠ” ë‚´ìš©ì„ ì´ë¦„ì— ë„£ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">return</span> jpaQueryFactory\n    <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMessageResponseConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token function\">postedDateDescOrAsc</span><span class=\"token punctuation\">(</span>needPastMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ìµœì¢…ì ìœ¼ë¡œ ë°”ë€ ë¹Œë” ì½”ë“œì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// before</span>\n<span class=\"token keyword\">return</span> jpaQueryFactory\n    <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMessageResponseConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>member<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>bookmark<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">existsBookmark</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>reminder<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">remainReminder</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token function\">meetAllConditions</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token function\">arrangeDateByNeedPastMessage</span><span class=\"token punctuation\">(</span>needPastMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span>messageCount<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// after </span>\n<span class=\"token keyword\">return</span> jpaQueryFactory\n    <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token function\">getMessageResponseConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>member<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>bookmark<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">bookmarksFindByMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>reminder<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token function\">remindersFindByMemberIdWhereRemindDateAfterNow</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token function\">inChannelsFilterByTextAndPostedDate</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token function\">postedDateDescOrAsc</span><span class=\"token punctuation\">(</span>needPastMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span>messageCount<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë©”ì„œë“œ ì´ë¦„ì´ ë§ì´ ê¸¸ê¸´ í•˜ì§€ë§Œ, ì‹¤ì œë¡œ ì–´ë–¤ ì¡°ê±´ìœ¼ë¡œ ì¡°íšŒí•˜ëŠ”ì§€ ë” ì˜ ë³´ì¸ë‹¤.\nì¶”ê°€ë¡œ í•´ë‹¹ ë©”ì„œë“œ ë‚´ë¶€ì˜ ë©”ì„œë“œë“¤ë„ ì´ë¦„ì„ ë°”ê¿¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// before</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">BooleanExpression</span> <span class=\"token function\">inChannelsFilterByTextAndPostedDate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">channelIdsIn</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">textContains</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getKeyword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">messageHasText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">decideMessageIdOrDate</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">isNeedPastMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// after</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">BooleanExpression</span> <span class=\"token function\">inChannelsFilterByTextAndPostedDate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">inChannels</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">textContains</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getKeyword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">textIsNotNullNorEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">afterOrBeforeMessagePostedDateOrRequestDate</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">isNeedPastMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h3 id=\"-ì„œë¹„ìŠ¤-ë¡œì§ì€-ì„œë¹„ìŠ¤ë¡œ\" style=\"position:relative;\"><a href=\"#-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%A1%9C%EC%A7%81%EC%9D%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A1%9C\" aria-label=\" ì„œë¹„ìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ë¡œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ•Š ì„œë¹„ìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ë¡œ</h3>\n<p>ë‚˜ë¨¸ì§€ <code class=\"language-text\">public</code> ë©”ì„œë“œì¸ <code class=\"language-text\">hasPast(), hasFuture()</code>ì€ ë©”ì‹œì§€ ì¡°íšŒ ê²°ê³¼ì— ëŒ€í•´ ê°ê° ê³¼ê±°ì™€ ë¯¸ë˜ì˜ ë©”ì‹œì§€ ì¡°íšŒ ê²°ê³¼ê°€ ë” ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œë‹¤.\ní”¼ë“œì—ì„œ ììœ ë¡œìš´ ë‚ ì§œ ì´ë™ê³¼ ì–‘ë°©í–¥ ë¬´í•œìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ í˜ì´ì§€ë„¤ì´ì…˜ì„ ì—†ì• ê³ , ì•/ë’¤ì˜ ë©”ì‹œì§€ë¥¼ ì¶”ê°€ë¡œ ë¶ˆëŸ¬ì˜¤ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„í•´ ìƒê²¼ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">hasPast</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">,</span>\n                        <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> messages<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Integer</span> result <span class=\"token operator\">=</span> jpaQueryFactory\n        <span class=\"token punctuation\">.</span><span class=\"token function\">selectOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token function\">meetAllHasPastCondition</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">,</span> messages<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fetchFirst</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> result <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">BooleanExpression</span> <span class=\"token function\">meetAllHasPastCondition</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> request<span class=\"token punctuation\">,</span>\n                                                    <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> messages<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">MessageResponse</span> targetMessage <span class=\"token operator\">=</span> messages<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token function\">inChannels</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">textContains</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getKeyword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>postedDate<span class=\"token punctuation\">.</span><span class=\"token function\">before</span><span class=\"token punctuation\">(</span>targetMessage<span class=\"token punctuation\">.</span><span class=\"token function\">getPostedDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê²°êµ­ ì´ ë©”ì„œë“œëŠ” ê°™ì€ ì¡°íšŒ ì¡°ê±´ì¼ ë•Œ ìœ„ì˜ <code class=\"language-text\">findMessages()</code>ë¡œ ì°¾ì€ ê²°ê³¼ ëª©ë¡ì—ì„œ,\nì²«ë²ˆì§¸ ê²°ê³¼ ê¸°ì¤€ìœ¼ë¡œ ê³¼ê±°/ë¯¸ë˜ì˜ ë©”ì‹œì§€ê°€ ë” ì¡´ì¬í•˜ëŠ”ì§€ ì¡°íšŒí•œë‹¤.\nì•ê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì´ë¦„ì„ ê°œì„ í–ˆë‹¤.</p>\n<p>ë˜, <code class=\"language-text\">messages.get(messages.size() - 1)</code>ì™€ <code class=\"language-text\">messages.get(0)</code>ë¡œ,\nì¡°íšŒ ê¸°ì¤€ì´ ë˜ëŠ” ë©”ì‹œì§€ë¥¼ ì„ ì •í•˜ëŠ” ê±´ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì˜ ì±…ì„ì´ë¼ ìƒê°í•´ íŒŒë¼ë¯¸í„°ë¥¼ ë³€ê²½í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">existsByChannelsBeforePostedDate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">,</span>\n                                                    <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageResponse</span> messageResponse<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Integer</span> result <span class=\"token operator\">=</span> jpaQueryFactory\n        <span class=\"token punctuation\">.</span><span class=\"token function\">selectOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token function\">inChannelsFilterByTextBeforePostedDate</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">,</span> messageResponse<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fetchFirst</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> result <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">BooleanExpression</span> <span class=\"token function\">inChannelsFilterByTextBeforePostedDate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> request<span class=\"token punctuation\">,</span>\n                                                                <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageResponse</span> messageResponse<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">inChannels</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token function\">textContains</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getKeyword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>postedDate<span class=\"token punctuation\">.</span><span class=\"token function\">before</span><span class=\"token punctuation\">(</span>messageResponse<span class=\"token punctuation\">.</span><span class=\"token function\">getPostedDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì„œë¹„ìŠ¤ ì½”ë“œë¥¼ ë³´ë©´ ë§¥ë½ì´ í›¨ì”¬ ëšœë ·í•´ì¡Œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// before</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">hasPast</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">,</span>\n                        <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> messages<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">hasPast</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">,</span> messages<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// after</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">hasPast</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">,</span>\n                        <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> messages<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token class-name\">MessageResponse</span> message <span class=\"token operator\">=</span> messages<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">existsByChannelsBeforePostedDate</span><span class=\"token punctuation\">(</span>channelIds<span class=\"token punctuation\">,</span> messageRequest<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h3 id=\"-ë ˆí¬ì§€í† ë¦¬ì—ê²Œ-dto-ìˆ¨ê¸°ê¸°\" style=\"position:relative;\"><a href=\"#-%EB%A0%88%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC%EC%97%90%EA%B2%8C-dto-%EC%88%A8%EA%B8%B0%EA%B8%B0\" aria-label=\" ë ˆí¬ì§€í† ë¦¬ì—ê²Œ dto ìˆ¨ê¸°ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤« ë ˆí¬ì§€í† ë¦¬ì—ê²Œ DTO ìˆ¨ê¸°ê¸°</h3>\n<p>í˜„ì¬ <code class=\"language-text\">QMessageRepository</code>ëŠ” <code class=\"language-text\">MessageService</code>ì—ì„œ <code class=\"language-text\">MessageRequest</code> ê°ì²´ë¥¼ ë°›ì•„ì™€ ê°’ì„ êº¼ë‚´ ì‚¬ìš©í•œë‹¤.\nì´ ìš”ì²­ê°’ DTOê°€ ì»¨íŠ¸ë¡¤ëŸ¬ë¶€í„° ë„˜ì–´ì™”ë‹¤ëŠ” ì‚¬ì‹¤ì„ ê³ ë ¤í•œë‹¤ë©´, ë ˆí¬ì§€í† ë¦¬ê°€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì–´ë–¤ ê°’ì„ ë°›ì•„ì˜¤ëŠ”ì§€ ì•Œê³  ìˆëŠ” ìƒí™©ì´ë‹¤.\nê·¸ë˜ì„œ íŒŒë¼ë¯¸í„°ê°€ ëŠ˜ì–´ë‚¨ì„ ê°ìˆ˜í•˜ê³ , ê°’ì„ êº¼ë‚´ì„œ ë°›ë„ë¡ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MessageService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findMessages</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span>\n                                               <span class=\"token keyword\">final</span> <span class=\"token class-name\">MessageRequest</span> messageRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">boolean</span> needPastMessage <span class=\"token operator\">=</span> messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">isNeedPastMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> messageResponses <span class=\"token operator\">=</span> messages<span class=\"token punctuation\">.</span><span class=\"token function\">findMessages</span><span class=\"token punctuation\">(</span>\n                memberId<span class=\"token punctuation\">,</span>\n                channelIds<span class=\"token punctuation\">,</span>\n                messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getKeyword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">isNeedPastMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                messageRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">QMessageRepository</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageResponse</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findMessages</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span>\n                                              <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> channelIds<span class=\"token punctuation\">,</span>\n                                              <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> keyword<span class=\"token punctuation\">,</span>\n                                              <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> messageId<span class=\"token punctuation\">,</span>\n                                              <span class=\"token keyword\">final</span> <span class=\"token class-name\">LocalDateTime</span> date<span class=\"token punctuation\">,</span>\n                                              <span class=\"token keyword\">final</span> <span class=\"token keyword\">boolean</span> needPastMessage<span class=\"token punctuation\">,</span>\n                                              <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> messageCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ ë ˆí¬ì§€í† ë¦¬ëŠ” DTOë¥¼ ì•Œì§€ ëª»í•œë‹¤!</p>\n<br>\n<h2 id=\"-ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\" ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ§¹ ë§ˆì¹˜ë©°</h2>\n<p>êµ¬í˜„ì´ ê¸‰í•˜ê³  <code class=\"language-text\">Querydsl</code>ì„ ì˜ ëª°ëì„ ë•ŒëŠ” ê¸°ì¡´ êµ¬í˜„ ë°©ì‹ì˜ ë‹¨ì ì„ ì˜ ëª°ëë‹¤.\nê·¸ëŸ°ë° ì—¬ìœ ê°€ ìƒê¸°ê³  í”„ë¡œì íŠ¸ êµ¬ì¡°ì— ìµìˆ™í•´ì§€ì, ë³´ì´ì§€ ì•Šë˜ ë¬¸ì œê°€ ë³´ì´ê¸° ì‹œì‘í•œë‹¤.</p>\n<p>ì†”ì§íˆ ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ì— ë”°ë¥¸ ê¸°ëŠ¥ ì¶”ê°€ê°€ ë” ê¸‰í•´ ë¦¬íŒ©í† ë§ì´ ë‚´í‚¤ì§€ ì•Šì„ ë•Œë„ ìˆë‹¤.\ní•˜ì§€ë§Œ ê¹¨ë—í•œ ì½”ë“œ ìœ„ì— ìƒˆë¡œìš´ ì½”ë“œë¥¼ ì˜¬ë¦¬ëŠ” ê²ƒì´, ê²°ê³¼ì ìœ¼ë¡œ ë³µì¡í•œ ì½”ë“œ ì‚¬ì´ë¥¼ í—¤ë§¤ë©° ì˜¬ë¦¬ëŠ” ê²ƒ ë³´ë‹¤ ëŒ€ë¶€ë¶„ ë” ë¹ ë¥´ê³  íš¨ìœ¨ì ì´ë‹¤.\nê·¸ë˜ì„œ ì§€ì†ì ì¸ ë¦¬íŒ©í„°ë§ì´ ì‹ ê·œ ê°œë°œ ë§Œí¼ ì¤‘ìš”í•œ ê²ƒì´ë‹¤.</p>\n<p>ì—¬ë‹´ìœ¼ë¡œ ìš”ì¦˜ì€ í”„ë¡œê·¸ë˜ë°ì´ ì¹˜ì›Œë„ ì¹˜ì›Œë„ í•„ì—°ì ìœ¼ë¡œ ë‹¤ì‹œ ë”ëŸ¬ì›Œì§„ë‹¤ëŠ” ì ì—ì„œ ì°¸ ì§‘ì•ˆì¼ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤â€¦</p>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9\">ğŸ§¶ ë¬¸ì œìƒí™©</a></p>\n<ul>\n<li>\n<p><a href=\"#-%EB%B9%84%EB%8C%80%ED%95%B4%EC%A7%84-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%BD%94%EB%93%9C\">ğŸª ë¹„ëŒ€í•´ì§„ ì„œë¹„ìŠ¤ ì½”ë“œ</a></p>\n</li>\n<li>\n<p><a href=\"#%EF%B8%8F-%EC%9D%BC%EB%8B%A8-%EB%A0%88%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC-%EC%BD%94%EB%93%9C-%EB%B6%84%EB%A6%AC\">âœ‚ï¸ ì¼ë‹¨ ë ˆí¬ì§€í† ë¦¬ ì½”ë“œ ë¶„ë¦¬</a></p>\n</li>\n<li>\n<p><a href=\"#-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9D%B4%EB%A6%84%EC%9D%84-%EB%AA%85%ED%99%95%ED%95%98%EA%B2%8C\">ğŸ“› ë©”ì„œë“œ ì´ë¦„ì„ ëª…í™•í•˜ê²Œ</a></p>\n<ul>\n<li><a href=\"#1-on-%EC%A1%B0%EA%B1%B4%EB%AC%B8\">1. on ì¡°ê±´ë¬¸</a></li>\n<li><a href=\"#2-where-%EC%A1%B0%EA%B1%B4%EB%AC%B8\">2. where ì¡°ê±´ë¬¸</a></li>\n<li><a href=\"#3-orderby-%EC%A1%B0%EA%B1%B4%EB%AC%B8\">3. orderBy ì¡°ê±´ë¬¸</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%A1%9C%EC%A7%81%EC%9D%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A1%9C\">ğŸ•Š ì„œë¹„ìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ë¡œ</a></p>\n</li>\n<li>\n<p><a href=\"#-%EB%A0%88%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC%EC%97%90%EA%B2%8C-dto-%EC%88%A8%EA%B8%B0%EA%B8%B0\">ğŸ¤« ë ˆí¬ì§€í† ë¦¬ì—ê²Œ DTO ìˆ¨ê¸°ê¸°</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EB%A7%88%EC%B9%98%EB%A9%B0\">ğŸ§¹ ë§ˆì¹˜ë©°</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"October 26, 2022","title":"Querydslë§Œì˜ ì•„ëŠ‘í•œ ğŸ¡ ì§€ì–´ì£¼ê¸°","categories":"Spring íŠ¸ëŸ¬ë¸”ìŠˆíŒ… etc","author":"ì¨ë¨¸","emoji":"headers/querydsl-refactoring.png"},"fields":{"slug":"/querydsl-refactoring/"}},"site":{"siteMetadata":{"siteUrl":"https://hyewoncc.github.io","comments":{"utterances":{"repo":"hyewoncc/hyewoncc.github.io"}}}}},"pageContext":{"slug":"/jpa-auditing-and-ci/","nextSlug":"/db_index/","prevSlug":"/querydsl-refactoring/"}},"staticQueryHashes":["1073350324","1956554647","2938748437","3350743975"],"slicesMap":{}}