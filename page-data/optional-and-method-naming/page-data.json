{"componentChunkName":"component---src-templates-blog-template-js","path":"/optional-and-method-naming/","result":{"data":{"cur":{"id":"1b911b70-995d-517b-9927-cdf37dda6734","html":"<p>우테코 레벨1 웹체스 미션에서 일급 컬렉션에서 특정 요소를 <code class=\"language-text\">Optional&lt;T></code>로 꺼내는 메서드를 작성했다. 그런데 해당 요소를 그냥 꺼내는 메서드가 따로 있었고, 이름이 겹치고 싶지 않아 생각하다 <code class=\"language-text\">find</code>를 붙였다. 레벨2에서 DB를 본격적으로 사용하며 <code class=\"language-text\">Dao</code>객체에서 데이터 조회를 할 때, <code class=\"language-text\">find</code>와 <code class=\"language-text\">get</code> 중 무엇을 쓸지 고민했다. <code class=\"language-text\">get</code>은 <code class=\"language-text\">getter</code>처럼 느껴져서 <code class=\"language-text\">find</code>를 사용했는데, <code class=\"language-text\">DDD</code>의 <code class=\"language-text\">Repository</code> 패턴을 보니 <code class=\"language-text\">get</code>을 쓰는 경우가 많았다. 그래서 둘의 차이를 찾아봤다.</p>\n<!--more-->\n<h2 id=\"find-vs-get\" style=\"position:relative;\"><a href=\"#find-vs-get\" aria-label=\"find vs get permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>find vs get</h2>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\">스프링 Data의 <code class=\"language-text\">CRUD repository</code></a> 인터페이스는 <code class=\"language-text\">Optional&lt;T></code>를 반환한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">CrudRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span>ID<span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ID</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Iterable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>반면 같은 스프링 Data의 <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\">JPA repository</a>에서는 T를 반환한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">JpaRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span>ID<span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token class-name\">T</span> <span class=\"token function\">getOne</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ID</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">CrudRepository</code>는 찾는 값이 없을 경우 <code class=\"language-text\">빈 Optional</code>을, <code class=\"language-text\">JpaRepository</code>는 찾는 값이 없을 경우 <code class=\"language-text\">예외를 발생</code>한다는 차이가 있다. 여기서 볼 수 있듯이 일반적으로 반환 값이 없을 수 있는 경우 <code class=\"language-text\">find</code>을, 항상 있어야 하는 경우 <code class=\"language-text\">get</code>을 붙인다. <code class=\"language-text\">find</code>를 쓰면 api 사용자에게 이름을 통해 반환값이 없을 수 있음을 알려 줄 수 있는 것이다.<br>\n반면, 반환형이 <code class=\"language-text\">List</code>같은 컬렉션이라면 값이 없어도 <code class=\"language-text\">null</code>이 아닌 <code class=\"language-text\">빈 컬렉션</code>을 반환하면 된다.</p>\n<h2 id=\"optional\" style=\"position:relative;\"><a href=\"#optional\" aria-label=\"optional permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Optional</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVQ4yx2Q2VNadwCF72s7ZppUzSRTU5cYTSJGEFBEDSBBZEsUAlwu62VxIWwCIbgHlUSsNjVp+9A+2CaZ6Uwf+if+vo4+fXPmzPkejvTX+aH49/cO//xyLI43czgsM+gmtYyMPsA0Y2KjWCaupnG6nDiXHJhMBiwWMz6fC4N+As3YKFbbU1xuJ8WNHNKV8L8/PvDn+13hsc8yMjqCwTiJTvcEr9dNJrdKLJmiUN4kmVKxWObQasdYsD8l8HIZx+ICEUXhZSjMi+UVpK8XbfH1ok0y4BYazUMmtOOMaUbRXnHsIQ6HnXQ2y9qrAl6fD43mESaTHn9gmWg8RjgcYGXlOUFZwbpgR7o8b4lCIsDwYJ9QI8tsNyrMmI3c67vD8P1+jFM6ovE4aiZHWIkiR6P4XnjxeF1UKiV++/Uj66tpvD4P4YiCtFNUxfij+wwNDYigy8LF2TsODw+wLVjQTU4wN2fC53Ojquq1eDVfIJcvkMmmOTvr8Pnz3yQiAV4sP8fr8yLZZ3Wit7ebH/v7hHdhmnZrl9OfOrxpNpDlEMlMhkQ2i8/vR11bQ45ECMshNtazfPz0icvLS4LLbhaXnDicDqS+uz3i5ndddPd8L55Oa9mulzj7+YxEQqG8WWZrb5ed4/dsHb1jp9Vis1oiqgTJ53N8/vKFztFbbPMmxifGeSnLSLdu3hBdXd9y+3aPGBzoIx5w0Ww22N7bp/bmDSE5iBJTSK9mSKRihOUg8bjM6nqW09MTOof7WC1zDAz2o9U+QbrdfVPc6PqGnp5bYni4n3nDQ+JKgGgsQjwZJyIHsC/MX39ZrZUJBVdQ1QTF4jqKEkQO+fH4POgNeobuDyIN3bsrfrjTS29vjxgdGcKofczslBarWc/jxw94Nm/E47RTrFTptA94ohlBifjZbdaoVCvUmztkNkqshMJYbVakkmIV5aidctQhXqe97L8KUk152Vnzc5XrKTcHBZmTrTValQibKRfHtQSnzSwHRZnzvQIfDqu8rSap5/xIjaRBNNUp9nJmsZczs5udoV20c1JZ5Lzu4rS6xGHexv7qHK28jU7Nec2d7ByvE9NUZB3V6CQlWct6YBypFNGLasxIIzUjttJmtjNm3m5YOa256NSWeF9x0i47Oam6Oal56NTctMuLtF7Z2V+30lDN1BMmNmNTlCJ6pHxIKyqKnmrMKOqJKZqqie3sLMfFZ7wrO2iXHRwVnl0LjoqOa1m75LjuDzZsNJKmqy0VxUA1Ps3/NawztqMl+MYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cat\"\n        title=\"cat\"\n        src=\"/static/95113747cc9ce0c0ec8e59b6f7e2a0c7/37523/img.png\"\n        srcset=\"/static/95113747cc9ce0c0ec8e59b6f7e2a0c7/e9ff0/img.png 180w,\n/static/95113747cc9ce0c0ec8e59b6f7e2a0c7/f21e7/img.png 360w,\n/static/95113747cc9ce0c0ec8e59b6f7e2a0c7/37523/img.png 720w,\n/static/95113747cc9ce0c0ec8e59b6f7e2a0c7/5a190/img.png 800w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div style=\"text-align:center; font-style:italic; color:grey;\">대표적 Optional인 슈뢰딩거의 고양이</div>\n<p><code class=\"language-text\">Optional</code>에 대해 한 번 정리하려 했었는데, <code class=\"language-text\">find~</code> 메서드에서 <code class=\"language-text\">Optional</code>을 쓰는 김에 이펙티브 자바를 참고해 작성했다.</p>\n<h3 id=\"optional이란\" style=\"position:relative;\"><a href=\"#optional%EC%9D%B4%EB%9E%80\" aria-label=\"optional이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Optional이란</h3>\n<p><code class=\"language-text\">Optional&lt;T></code>은 null이 아닌 T 참조를 하나 담거나 아무것도 담지 않을 수 있는 클래스이다. 보통은 <code class=\"language-text\">T</code>를 반환해야 하지만 특정 조건에서는 아무것도 반환하지 않아야 할 때 <code class=\"language-text\">T</code>대신 <code class=\"language-text\">Optional&lt;T></code>를 반환하도록 선언하면 된다. <code class=\"language-text\">Optional</code>은 정적 팩토리 메서드로 생성할 수 있다.</p>\n<ul>\n<li><code class=\"language-text\">Optional.empty()</code> : 빈 옵셔널 생성</li>\n<li><code class=\"language-text\">Optional.of(T)</code> : T가 든 옵셔널 생성</li>\n<li><code class=\"language-text\">Optional.ofNullable(T)</code> : T가 든 옵셔널 생성, <code class=\"language-text\">null</code>값이 들어갈 수도 있을 때 사용</li>\n</ul>\n<p>그냥 <code class=\"language-text\">of(T)</code>와 <code class=\"language-text\">ofNullable(T)</code>를 구분해 사용하는 것이 중요하다. <code class=\"language-text\">Optional</code>을 쓰는데는 <code class=\"language-text\">NullPointerException</code> 체크의 번거로움을 생략하는 목적이 있는데, <code class=\"language-text\">of(T)</code>에 <code class=\"language-text\">null</code>을 넣으면 <code class=\"language-text\">NullPointerException</code>이 발생해 하나마나가 되기 때문이다.</p>\n<h3 id=\"효과적으로-사용하기\" style=\"position:relative;\"><a href=\"#%ED%9A%A8%EA%B3%BC%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"효과적으로 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>효과적으로 사용하기</h3>\n<p>처음 <code class=\"language-text\">Optional</code>을 알게 되었을 때는 <code class=\"language-text\">isPresent()</code>나 <code class=\"language-text\">isEmpty()</code>로 분기문을 만들어 처리했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>optionalPiece<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"해당 말은 존재하지 않습니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그런데 <code class=\"language-text\">Optional</code>이 제공하는 메서드를 이용해서 효율적으로 처리할 수 있는 방법이 있었다. 위 예시처럼 분기문으로 처리하면 사실 try~catch로 예외처리 하는 것과 다를 바가 없다고 생각한다.</p>\n<ul>\n<li><code class=\"language-text\">orElse</code>로 기본값 정하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> optionalName<span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"익명\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">orElseGet</code>으로 기본값 정하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> optionalName<span class=\"token punctuation\">.</span><span class=\"token function\">orElseGet</span><span class=\"token punctuation\">(</span><span class=\"token function\">generateRandomName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">orElse</code>에 메서드를 넣으면 <code class=\"language-text\">Optional</code>안에 실제로 값이 있건 없건 일단 실행되는 것에 유의해서 사용하자. <code class=\"language-text\">orElseGet</code>은 <code class=\"language-text\">Optional</code>에 값이 없어야만 실행된다.</p>\n<ul>\n<li><code class=\"language-text\">orElseThrow</code>로 예외 던지기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> optionalName<span class=\"token punctuation\">.</span><span class=\"token function\">orElseThrow</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IllegalArgumentException</span><span class=\"token operator\">::</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"주의사항\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\" aria-label=\"주의사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의사항</h3>\n<ul>\n<li>컬렉션, 스트림, 배열, 옵셔널 같은 컨테이너 타입을 옵셔널로 감싸기 금지</li>\n</ul>\n<p>그냥 빈 컬렉션이나 배열을 사용하는 것이 낫다.</p>\n<ul>\n<li>박싱된 기본 타입을 옵셔널로 다시 감싸기 금지</li>\n</ul>\n<p>값을 두 겹이나 감싸기 보다 <code class=\"language-text\">OptionalInt, OptionalLong, OptionalDouble</code>을 사용하자.</p>\n<ul>\n<li>컬렉션의 키, 값, 원소나 배열의 원소로 사용 금지</li>\n</ul>\n<p>복잡성만 높여서 혼란과 오류 가능성만 키운다.</p>\n<ul>\n<li>메서드 파라미터나 인스턴스 필드로 사용 금지</li>\n</ul>\n<p>메서드 내에서 옵셔널 분기 처리를 하는 건 생산성이 저하되며, 필드로 쓰기엔 선택형 반환값으로 설계되었기에 직렬화가 구현되지 않았다.</p>\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<ul>\n<li>이펙티브 자바 3판 : 아이템 55. 옵셔널 반환은 신중히 하라</li>\n<li><a href=\"https://stackoverflow.com/questions/31922866/why-should-java-8s-optional-not-be-used-in-arguments\">stackoverflow : Why shoud java 8’s Optional not be used in arguments</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#find-vs-get\">find vs get</a></p>\n</li>\n<li>\n<p><a href=\"#optional\">Optional</a></p>\n<ul>\n<li><a href=\"#optional%EC%9D%B4%EB%9E%80\">Optional이란</a></li>\n<li><a href=\"#%ED%9A%A8%EA%B3%BC%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">효과적으로 사용하기</a></li>\n<li><a href=\"#%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\">주의사항</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></p>\n</li>\n</ul>\n</div>","excerpt":"우테코 레벨1 웹체스 미션에서 일급 컬렉션에서 특정 요소를 로 꺼내는 메서드를 작성했다. 그런데 해당 요소를 그냥 꺼내는 메서드가 따로 있었고, 이름이 겹치고 싶지 않아 생각하다 를 붙였다. 레벨2에서 DB를 본격적으로 사용하며 객체에서 데이터 조회를 할 때, 와  중 무엇을 쓸지 고민했다. 은 처럼 느껴져서 를 사용했는데, 의  패턴을 보니 을 쓰는 경우가 많았다. 그래서 둘의 차이를 찾아봤다. find vs get 스프링 Data의  인터페이스는 를 반환한다. 반면 같은 스프링 Data의 JPA repository에서는 T를 반환한다. 는 찾는 값이 없을 경우 을, 는 찾는 값이 없을 경우 한다는 차이가 있다. 여기서 볼 수 있듯이 일반적으로 반환 값이 없을 수 있는 경우 을, 항상 있어야 하는 경우 을 붙인다. 를 쓰면 api 사용자에게 이름을 통해 반환값이 없을 수 있음을 알려 줄 수 있는 것이다. 반면, 반환형이 같은 컬렉션이라면 값이 없어도 이 아닌 을 반환하면 된다. …","frontmatter":{"date":"May 23, 2022","title":"Optional과 메서드 네이밍 find vs get","categories":"Java","author":"써머","emoji":"headers/optional-and-method-naming.png"},"fields":{"slug":"/optional-and-method-naming/"}},"next":{"id":"57e95f14-5ebd-5208-93d4-1c7c93d1f47f","html":"<p>우테코 레벨1 sql 수업에서 두 sql 문제를 풀어야 했다. 첫번째 문제를 시행착오 끝에 풀고, 두번째 문제는 풀지 못했는데, 척척 푸는 크루들이 많은 걸 보고 sql 공부의 필요성을 절실하게 느꼈다. 그래서 일주일 간 매일 문제를 3개씩 푸는 스터디를 개설했다.</p>\n<!--more-->\n<h2 id=\"7sql\" style=\"position:relative;\"><a href=\"#7sql\" aria-label=\"7sql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7SQL</h2>\n<ul>\n<li>기간 : 1주일</li>\n<li>성격 : 각자 문제풀기</li>\n<li>인원 : 7명</li>\n<li>목표 : 기초적인 SQL 문법 익히기</li>\n<li>진행 방식 : 매일 한 사람씩 돌아가며 SQL 문제를 출제, 각자 풀고 출제자가 채점</li>\n</ul>\n<p><a href=\"https://magical-tick-0a1.notion.site/7SQL-bb6a8e0abbb640689927df169e9f44e7\">7SQL 노션 모집글</a>에 자세한 진행 방식이 적혀있으며. <a href=\"https://docs.google.com/spreadsheets/d/14MnjqCNlGi_l0y0YZA41P9VerDzmkr9nVZX8papIHxY/edit?usp=sharing\">7SQL 스프레드 시트</a>에서 진행 기록인 출제한 문제와 각자의 답안, 정답 여부를 볼 수 있다. 스터디가 끝나고 간단한 회고를 가졌다.</p>\n<h3 id=\"좋았던-점\" style=\"position:relative;\"><a href=\"#%EC%A2%8B%EC%95%98%EB%8D%98-%EC%A0%90\" aria-label=\"좋았던 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>좋았던 점</h3>\n<p>공통적으로 언급된 좋았던 점</p>\n<ul>\n<li>SQL 문법에 익숙해진다는 목표를 달성했다</li>\n<li>실력이 늘었다</li>\n</ul>\n<p>개별적으로 업급된 좋았던 점</p>\n<ul>\n<li>자율 참여였다</li>\n<li>시간을 많이 들이지 않고도 학습할 수 있는 방식이었다</li>\n</ul>\n<h3 id=\"아쉬웠던-점\" style=\"position:relative;\"><a href=\"#%EC%95%84%EC%89%AC%EC%9B%A0%EB%8D%98-%EC%A0%90\" aria-label=\"아쉬웠던 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>아쉬웠던 점</h3>\n<p>공통적으로 언급된 아쉬웠던 점</p>\n<ul>\n<li>같은 테이블과 데이터를 사용\n<ul>\n<li>갈 수록 익숙해져 문제가 쉽게 느껴졌다</li>\n<li>중복되지 않는 문제를 내기 어려웠다</li>\n</ul>\n</li>\n<li>join문 부터 때려넣으면 해결되는 문제가 많았다</li>\n</ul>\n<h3 id=\"제안된-개선안\" style=\"position:relative;\"><a href=\"#%EC%A0%9C%EC%95%88%EB%90%9C-%EA%B0%9C%EC%84%A0%EC%95%88\" aria-label=\"제안된 개선안 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>제안된 개선안</h3>\n<ul>\n<li>테이블과 데이터를 매일 바꾸거나, 여러 사이트를 이용한다</li>\n<li>프로그래머스, leetcode 등에 이미 수록된 SQL 문제를 함께 푼다</li>\n</ul>\n<h3 id=\"개인-회고\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9D%B8-%ED%9A%8C%EA%B3%A0\" aria-label=\"개인 회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개인 회고</h3>\n<p>제한 조건을 꼼꼼히 읽지 않아 틀린 문제가 많았다. 문제를 제대로 읽자고 반성했다. 나만 틀린 게 있어서 부끄러웠다…<br>\n진행에 부담이 없었고 확실히 3문제라도 매일 풀다 보니 실력이 오르는 게 느껴져서 2회차를 해볼까 고민중이다. 청년다방에서 간단한 점심 회식을 했는데 즐거웠다. 슬랙에 공개적으로 모집해 오프라인에서 인사한 적 없던 크루인 <code class=\"language-text\">티키, 레오</code>를 스터디를 계기로 알게 되어서 좋았다.</p>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#7sql\">7SQL</a></p>\n<ul>\n<li><a href=\"#%EC%A2%8B%EC%95%98%EB%8D%98-%EC%A0%90\">좋았던 점</a></li>\n<li><a href=\"#%EC%95%84%EC%89%AC%EC%9B%A0%EB%8D%98-%EC%A0%90\">아쉬웠던 점</a></li>\n<li><a href=\"#%EC%A0%9C%EC%95%88%EB%90%9C-%EA%B0%9C%EC%84%A0%EC%95%88\">제안된 개선안</a></li>\n<li><a href=\"#%EA%B0%9C%EC%9D%B8-%ED%9A%8C%EA%B3%A0\">개인 회고</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"May 11, 2022","title":"7SQL 스터디 회고","categories":"우아한테크코스 회고","author":"써머","emoji":"headers/7sql-study.png"},"fields":{"slug":"/7sql-study/"}},"prev":{"id":"daccaece-c833-5d4f-b63f-7213dd06dafe","html":"<p>지금까지 DB를 사용하는 미션에서 컬럼 수가 적기에 <code class=\"language-text\">select * from table</code> 문을 자주 썼다. 그런데 <code class=\"language-text\">*</code>로 모든 컬럼을 가져오는 것 보다 컬럼을 명시해 가져오는 게 낫다는 영문 포스팅을 제이슨이 공유해주셔서 읽었다.<br>\n<a href=\"https://dzone.com/articles/why-you-should-not-use-select-in-sql-query-1\">7 Reasons Why Using SELECT * FROM TABLE in SQL Query Is a Bad Idea</a> 다음은 해당 포스팅을 전체 번역한 것이다.</p>\n<h2 id=\"select--from-table-쿼리문을-쓰는-게-좋지-않은-7가지-이유\" style=\"position:relative;\"><a href=\"#select--from-table-%EC%BF%BC%EB%A6%AC%EB%AC%B8%EC%9D%84-%EC%93%B0%EB%8A%94-%EA%B2%8C-%EC%A2%8B%EC%A7%80-%EC%95%8A%EC%9D%80-7%EA%B0%80%EC%A7%80-%EC%9D%B4%EC%9C%A0\" aria-label=\"select  from table 쿼리문을 쓰는 게 좋지 않은 7가지 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SELECT * FROM TABLE 쿼리문을 쓰는 게 좋지 않은 7가지 이유</h2>\n<p>인터넷에서 <code class=\"language-text\">SELECT *</code> 쿼리문을 쓰는 게 나쁘니 피하라고 하는 많은 글을 봐왔다. 그 대신 정확한 컬럼을 나열해야 한다. 이는 내가 주니어 개발자에게 가르치기도 하는 좋은 제안이자 좋은 SQL 작성 습관 중 하나인데, 많은 사람들이 그 이유는 설명하지 않는다.</p>\n<!--more-->\n<p>왜 쿼리문에서 <code class=\"language-text\">SELECT *</code>을 쓰면 안되는지 이유를 설명하지 않고 SQL 개발자들을 설득하기란 어려운데, 대개 Oracle database에서 <code class=\"language-text\">SELECT * from EMP</code>를 실행하는 것으로 SQL 학습을 시작하기 때문이다.</p>\n<p>이 글에서 왜 <code class=\"language-text\">SELECT *</code> 쿼리문을 쓰면 안되는지 실질적인 이유를 제시해 인식의 차이를 메우고자 한다. 아래는 <code class=\"language-text\">SELECT * from a table</code>을 쓰지 말아야 할 설득력 있는 몇 가지 이유이다.</p>\n<h3 id=\"1-불필요한-io-인풋-아웃풋\" style=\"position:relative;\"><a href=\"#1-%EB%B6%88%ED%95%84%EC%9A%94%ED%95%9C-io-%EC%9D%B8%ED%92%8B-%EC%95%84%EC%9B%83%ED%92%8B\" aria-label=\"1 불필요한 io 인풋 아웃풋 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 불필요한 I/O (인풋, 아웃풋)</h3>\n<p><code class=\"language-text\">SELECT *</code>를 사용하면 사용되지 않을 불필요한 데이터를 반환할 수 있다. 하지만 그 데이터를 불러오는 데는 비용이 들고, 페이지나 인덱스에서 데이터를 읽어오는 동안 IO 사이클이 낭비된다. 이는 쿼리 속도를 낮출 수도 있다. 먄악 쿼리가 실제로 어떻게 실행되는지, <a href=\"https://dzone.com/refcardz/event-stream-processing-essentials\">쿼리 엔진이 쿼리문을 어떤 순서로 어떻게 처리</a>하는지… 등을 모른다면 <a href=\"https://www.amazon.com/Performance-Explained-Everything-Developers-about/dp/3950307826/?tag=javamysqlanta-20\">SQL Performance Explained(번역서 없음)</a> 같은 책이나 유데미의 <a href=\"https://www.udemy.com/course/the-complete-sql-bootcamp/?LSNPUBID=JVFxdTr9V80&#x26;ranEAID=JVFxdTr9V80&#x26;ranMID=39197&#x26;ranSiteID=JVFxdTr9V80-cg.Nnfk_77u8fZ5YccVnaw&#x26;utm_medium=udemyads&#x26;utm_source=aff-campaign\">The Complete SQL BootCamp(한국어 지원 없음)</a> 강의를 들어보길 바란다.</p>\n<h3 id=\"2-네트워크-트래픽-증가\" style=\"position:relative;\"><a href=\"#2-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8A%B8%EB%9E%98%ED%94%BD-%EC%A6%9D%EA%B0%80\" aria-label=\"2 네트워크 트래픽 증가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 네트워크 트래픽 증가</h3>\n<p><code class=\"language-text\">SELECT *</code>는 명백하게 클라이언트에서 필요한 것 보다 많은 데이터를 반환하므로 네트워크 대역폭을 더 많이 사용한다. 이는 클라이언트 어플리케이션에 전송되는 데 더 큰 시간이 든다는 말도 된다. 여기서 말한 클라이언트에는 당신이 쿼리를 실행하는 <code class=\"language-text\">SQL Server Maganement, Toad, SQL Developer for Oracle</code>같은 쿼리 에디터와 <code class=\"language-text\">Java 어플리케이션</code>등이 포함된다.</p>\n<h3 id=\"3-어플리케이션-메모리-낭비\" style=\"position:relative;\"><a href=\"#3-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%82%AD%EB%B9%84\" aria-label=\"3 어플리케이션 메모리 낭비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 어플리케이션 메모리 낭비</h3>\n<p>사용하지 않을 데이터를 저장하고 있느라 어플리케이션의 메모리가 낭비된다.</p>\n<h3 id=\"4-resultset의-컬럼-순서에-의존하는-결과\" style=\"position:relative;\"><a href=\"#4-resultset%EC%9D%98-%EC%BB%AC%EB%9F%BC-%EC%88%9C%EC%84%9C%EC%97%90-%EC%9D%98%EC%A1%B4%ED%95%98%EB%8A%94-%EA%B2%B0%EA%B3%BC\" aria-label=\"4 resultset의 컬럼 순서에 의존하는 결과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. ResultSet의 컬럼 순서에 의존하는 결과</h3>\n<p>그래서는 안되지만 어플리케이션이 <code class=\"language-text\">SELECT *</code>쿼리를 사용하며 컬럼 순서에 의존하고 있다면, 컬럼 추가나 순서 변경이 result set에 영향을 미친다.</p>\n<h3 id=\"5-테이블에-새로운-컬럼을-추가하면-뷰에-오류-발생\" style=\"position:relative;\"><a href=\"#5-%ED%85%8C%EC%9D%B4%EB%B8%94%EC%97%90-%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%BB%AC%EB%9F%BC%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%98%EB%A9%B4-%EB%B7%B0%EC%97%90-%EC%98%A4%EB%A5%98-%EB%B0%9C%EC%83%9D\" aria-label=\"5 테이블에 새로운 컬럼을 추가하면 뷰에 오류 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 테이블에 새로운 컬럼을 추가하면 뷰에 오류 발생</h3>\n<p><code class=\"language-text\">SELECT *</code>를 뷰(<a href=\"https://www.java67.com/2012/11/what-is-difference-between-view-vs-materialized-view-database-sql.html\">select 문을 실행한 가상 테이블</a>)에 사용하면 새로운 컬럼을 추가하거나 기존 컬럼을 삭제했을 때 알아채기 힘든 오류를 발생시킨다. 뷰가 깨지는 대신에 틀린 결과를 반환하기 때문이다. 이를 피하려면 스키마바인딩을 사용해라. <code class=\"language-text\">SELECT *</code>을 사용하는 것도 막아준다.</p>\n<h3 id=\"6-join-쿼리-충돌\" style=\"position:relative;\"><a href=\"#6-join-%EC%BF%BC%EB%A6%AC-%EC%B6%A9%EB%8F%8C\" aria-label=\"6 join 쿼리 충돌 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. JOIN 쿼리 충돌</h3>\n<p><code class=\"language-text\">SELECT *</code>를 <code class=\"language-text\">JOIN</code> 쿼리에서 사용하면 같은 컬럼 이름을 가진 여러 테이블이 충돌을 일으킬 수 있다. <code class=\"language-text\">straight query(서브쿼리가 없는 쿼리)</code>를 사용하면 충돌은 없겠지만, <code class=\"language-text\">Common Table Expression</code>이나 <code class=\"language-text\">파생 테이블</code>에서 한 컬럼을 기준으로 정렬하려고 할때 추가적인 조치가 필요해진다.</p>\n<h3 id=\"7-테이블-간에-데이터를-복사할-때-문제-발생\" style=\"position:relative;\"><a href=\"#7-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B0%84%EC%97%90-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B3%B5%EC%82%AC%ED%95%A0-%EB%95%8C-%EB%AC%B8%EC%A0%9C-%EB%B0%9C%EC%83%9D\" aria-label=\"7 테이블 간에 데이터를 복사할 때 문제 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. 테이블 간에 데이터를 복사할 때 문제 발생</h3>\n<p>한 테이블에서 다른 테이블로 데이터를 복사할 때 <code class=\"language-text\">SELECT * into INSERT .. SELECT</code>문을 흔히 사용하는데, 두 테이블 간에 컬럼 순서가 다르면 잠재적으로 틀린 데이터를 복사할 수 있다. 몇 개발자들은 <code class=\"language-text\">EXISTS clause</code>에서 <code class=\"language-text\">SELECT * vs. SELECT 1</code>사용하는 게 <em>정적 값을 검사하는 추가 작업을 하지 않아(DB를 잘 몰라 의역합니다)</em> 더 빠르다 생각하는데, 예전에는 맞는 얘기였으나, 요새는 <code class=\"language-text\">EXISTS</code>문에 대한 처리가 잘 되어 있어 <code class=\"language-text\">select</code>문과 완전히 무관하다.</p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>위와 같은 이유로 <code class=\"language-text\">SELECT *</code>문의 사용을 지양해야 한다. <code class=\"language-text\">*</code> 와일드카드를 사용하는 것 보다 정확한 컬럼명을 쓰는 것이 언제나 낫다. 쿼리문 수행이 개선될 뿐 아니라 코드도 명확해진다. 거기다 특히 뷰가 있는 상황에서 테이블에 새로운 컬럼을 추가했을 때도 문제가 없기에, 코드의 유지보수 측면에서도 도움이 된다.</p>\n<br/>\n<p>컬럼이 2개인 테이블이 있을 만큼 대부분 컬럼 수가 많지 않아, 별 생각 없이 <code class=\"language-text\">*</code>을 많이 사용했는데 지양해야 할 분명한 이유를 알았다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#select--from-table-%EC%BF%BC%EB%A6%AC%EB%AC%B8%EC%9D%84-%EC%93%B0%EB%8A%94-%EA%B2%8C-%EC%A2%8B%EC%A7%80-%EC%95%8A%EC%9D%80-7%EA%B0%80%EC%A7%80-%EC%9D%B4%EC%9C%A0\">SELECT * FROM TABLE 쿼리문을 쓰는 게 좋지 않은 7가지 이유</a></p>\n<ul>\n<li><a href=\"#1-%EB%B6%88%ED%95%84%EC%9A%94%ED%95%9C-io-%EC%9D%B8%ED%92%8B-%EC%95%84%EC%9B%83%ED%92%8B\">1. 불필요한 I/O (인풋, 아웃풋)</a></li>\n<li><a href=\"#2-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8A%B8%EB%9E%98%ED%94%BD-%EC%A6%9D%EA%B0%80\">2. 네트워크 트래픽 증가</a></li>\n<li><a href=\"#3-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%82%AD%EB%B9%84\">3. 어플리케이션 메모리 낭비</a></li>\n<li><a href=\"#4-resultset%EC%9D%98-%EC%BB%AC%EB%9F%BC-%EC%88%9C%EC%84%9C%EC%97%90-%EC%9D%98%EC%A1%B4%ED%95%98%EB%8A%94-%EA%B2%B0%EA%B3%BC\">4. ResultSet의 컬럼 순서에 의존하는 결과</a></li>\n<li><a href=\"#5-%ED%85%8C%EC%9D%B4%EB%B8%94%EC%97%90-%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%BB%AC%EB%9F%BC%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%98%EB%A9%B4-%EB%B7%B0%EC%97%90-%EC%98%A4%EB%A5%98-%EB%B0%9C%EC%83%9D\">5. 테이블에 새로운 컬럼을 추가하면 뷰에 오류 발생</a></li>\n<li><a href=\"#6-join-%EC%BF%BC%EB%A6%AC-%EC%B6%A9%EB%8F%8C\">6. JOIN 쿼리 충돌</a></li>\n<li><a href=\"#7-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B0%84%EC%97%90-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B3%B5%EC%82%AC%ED%95%A0-%EB%95%8C-%EB%AC%B8%EC%A0%9C-%EB%B0%9C%EC%83%9D\">7. 테이블 간에 데이터를 복사할 때 문제 발생</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"May 25, 2022","title":"[SQL] SELECT * 쓰지 말자","categories":"etc","author":"써머","emoji":"headers/sql-no-wildcard.png"},"fields":{"slug":"/sql-no-wildcard/"}},"site":{"siteMetadata":{"siteUrl":"https://hyewoncc.github.io","comments":{"utterances":{"repo":"hyewoncc/hyewoncc.github.io"}}}}},"pageContext":{"slug":"/optional-and-method-naming/","nextSlug":"/7sql-study/","prevSlug":"/sql-no-wildcard/"}},"staticQueryHashes":["1073350324","1956554647","2938748437","3350743975"]}