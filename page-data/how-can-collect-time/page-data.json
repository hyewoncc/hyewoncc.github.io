{"componentChunkName":"component---src-templates-blog-template-js","path":"/how-can-collect-time/","result":{"data":{"cur":{"id":"880db91f-acbb-52ed-aee2-ad41974cea40","html":"<p>지난 반 년간 회사에서 한 ‘개발’을 돌아봤을 때, 절반은 Node.js의 레거시를 스프링으로 옮기고, 그에 수반되는 작업에 해당되고,\n나머지 절반은 동시에 새로운 요구사항을 Node.js와 옮긴 신규 시스템에 붙이는 일에 해당되는 것 같다. ‘달리는 기차의 바퀴를 갈아 끼우’면서 동시에 열차 칸을 열심히 붙이고 있다.</p>\n<p>나는 레거시라는 단어의 절묘함을 좋아한다.\n레거시가 있어서 회사가 먹고 살았고, 나도 들어올 수 있었다는 점에서 ‘유산’이라는 의미가 딱 맞다.\n그리고 동시에 언제까지나 유산에 의지해서 살 수 없다는 면도 그렇다.\n그래서 레거시를 부정적인 뜻으로만 사용하는 걸 보면 조금 슬퍼진다.</p>\n<p>어쨌든 레거시 코드를 보며 회사 도메인 정책을 파악하는 일이, 좋은 사내 문서와 더 좋은 살아있는 레퍼런스인 팀원들이 있음에도 만만치 않았다.\n예외 상황은 너무 많았고 코드가 복잡해 쉽게 파악할 수 없었으며, 아무도 그렇게 돌아가고 있는 줄 모르던 부분을 발견하기도 했다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABn0lEQVR42o3P20uTARzGcf8JwYs8vBPPJzQ8bIp7N3GUlSgpTr0Z87jBLkSZZBjMaQZ1lQaFIDh5TUi9mDciyFC8UN+peIAdNEQLFJoGzUu3b9C6ULB4fze/i4fnA08cty5yc/Pn78lbPM3LpqawgIr8HAw6EZ26HHVxARbTY1obnuDzHcU6kchtgrj7wAOvjJiUhCYxhYeJAnXVOsz1tVSWFKFSPSAvJ4NAIKgcPPTKGAQBUVBRnprOM70ec62BmrIiitOTyc1NwxfwKwf3tzapjE9Ak5yJJr8CndbAI7EKUa2lNCuDlDQB/3FAAfg3PAn6GGiuxm6swmbU47CbeDts4aWtia5GLW3P9Zx+VQBGo7HwR+iCxck+FsZbWJgwsy7ZkV2juD44cM+P4JaGCF2c3un8A4zGwMsQ0pgNyWFk7pUVj8PJSv9r5j9Nsr0rs7HhJRy+vtP572T/cZAhq4mpLgufe/rxDI6y+s7J7Jte3EsSaztuwtc/lYPfzr/z0TnIdEc3s+2drEy954tngHGplTGXlZnlF1z9Ort38m/ETkTqbVwjEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"두뇌 풀 가동\"\n        title=\"\"\n        src=\"/static/90a74a039afdd7dd2a75efd40f713e3b/37523/full.png\"\n        srcset=\"/static/90a74a039afdd7dd2a75efd40f713e3b/e9ff0/full.png 180w,\n/static/90a74a039afdd7dd2a75efd40f713e3b/f21e7/full.png 360w,\n/static/90a74a039afdd7dd2a75efd40f713e3b/37523/full.png 720w,\n/static/90a74a039afdd7dd2a75efd40f713e3b/302a4/full.png 1080w,\n/static/90a74a039afdd7dd2a75efd40f713e3b/07a9c/full.png 1440w,\n/static/90a74a039afdd7dd2a75efd40f713e3b/c6162/full.png 2166w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div style=\"text-align:center; font-style:italic; color:grey;\">\n  레거시 코드에서 정책을 파악하는 나\n</div>\n<br>\n<p>그러다 팀에서 인프런 <a href=\"https://www.inflearn.com/course/practical-testing-%EC%8B%A4%EC%9A%A9%EC%A0%81%EC%9D%B8-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B0%80%EC%9D%B4%EB%93%9C\">박우빈 님의 실용적인 테스트 가이드</a>를 듣고 얘기하는 단기 스터디를 하게 되었다.<br>\n그 중에 ‘테스트는 문서니까 개발자스러운 용어 보다 사용자에 가깝게 쓰라’는 말이 있었다.</p>\n<p>이 얘기를 듣기 전까지 대략 이런 식으로 노드 테스트 코드를 짜고 있었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'getTransferDiscountInfo'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        service<span class=\"token punctuation\">.</span>getTransferSpan <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'마지막 이용이 없다면 예외를 던진다'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> applicable <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">getTransferDiscountInfo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 14:00:00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>applicable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'마지막 이용으로부터 환승 가능 시간이 지났다면 예외를 던진다'</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">use_end_at</span><span class=\"token operator\">:</span><span class=\"token string\">'2023-05-17 13:00:00'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">use_area_id</span><span class=\"token operator\">:</span> <span class=\"token number\">199</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        service<span class=\"token punctuation\">.</span>getTransferSpan<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">minutes</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> applicable <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">getTransferDiscountInfo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:30:01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>applicable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'마지막 이용으로부터 환승 가능 시작 시간과 종료 시간을 반환한다'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">use_end_at</span><span class=\"token operator\">:</span><span class=\"token string\">'2023-05-17 13:00:00'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">use_area_id</span><span class=\"token operator\">:</span> <span class=\"token number\">199</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        service<span class=\"token punctuation\">.</span>getTransferSpan<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">minutes</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> applicable<span class=\"token punctuation\">,</span> from<span class=\"token punctuation\">,</span> to <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">getTransferDiscountInfo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:00:10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>applicable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD HH:mm:ss'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:00:00'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD HH:mm:ss'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:30:00'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br>\n<p>나쁘진 않은 것 같은데, 문서로 쓰기에 충분하지 않다는 생각이 든다.\n대표적으로 개발자의 언어로 쓰여진 ‘예외를 던진다’ 부분이 그렇다.</p>\n<p>이 테스트를 처음 보는 상황이라 가정하고 봤을 때, 우선 예외를 던진다더니 예외를 검증하고 있지 않아서 이 테스트가 제대로 짜인 테스트가 맞는지 의구심이 든다.\n더 나아가 입사 초의 나라면 마지막 이용이 없다는 게 처음 이용했다는 뜻이 맞나? 내 추측이 맞나? 고민하다 정책을 파악하고 싶었을 뿐인데 구체 레벨로 내려가서 또 사투를 벌였을 것 같다.</p>\n<p>그래서 요즘은 팀 스터디 후 액션 플랜으로 나온 ‘도메인 용어를 사용해 누구나 이해할 수 있는 설명을 쓴다’는 작성 규칙에 따라 이렇게 쓰려고 노력하고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'현재 시간 기준으로 환승 가능 여부와 가능한 시간을 조회한다.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        service<span class=\"token punctuation\">.</span>getTransferSpan <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'유저의 첫 이용이라면 환승이 적용되지 않는다.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> applicable <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">getTransferDiscountInfo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 14:00:00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>applicable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이용한 적이 있다면, 마지막 이용의 종료 시간에 환승 가능 시간을 더한다.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이미 그 시간이 지났다면 환승 불가능하다.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">use_end_at</span><span class=\"token operator\">:</span><span class=\"token string\">'2023-05-17 13:00:00'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">use_area_id</span><span class=\"token operator\">:</span> <span class=\"token number\">199</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            service<span class=\"token punctuation\">.</span>getTransferSpan<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">minutes</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> applicable <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">getTransferDiscountInfo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:30:01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>applicable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'그 시간이 지나지 않았다면 환승 가능하다. 환승 가능 시작 시간과 종료 시간을 계산한다.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            service<span class=\"token punctuation\">.</span>_useRepo<span class=\"token punctuation\">.</span>getLastEndedUseBeforeTimeByUserId<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                <span class=\"token literal-property property\">use_end_at</span><span class=\"token operator\">:</span><span class=\"token string\">'2023-05-17 13:00:00'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token literal-property property\">use_area_id</span><span class=\"token operator\">:</span> <span class=\"token number\">199</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            service<span class=\"token punctuation\">.</span>getTransferSpan<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">minutes</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> applicable<span class=\"token punctuation\">,</span> from<span class=\"token punctuation\">,</span> to <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">getTransferDiscountInfo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:00:10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>applicable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD HH:mm:ss'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:00:00'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'YYYY-MM-DD HH:mm:ss'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2023-05-17 13:30:00'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnElEQVR42lWO2w6DIABD/ZPpBk4QBJWLgs7Llv3/H3UR48MeTto0adMsJxylbOCmFT7uCMsX4/yBn3YM8xsubOjcBN4Y3Ms6UVD+R05Y0pJrZAXhyCmD7C3MsKSyGV6wYYWLGzo/g8keleggWodnrXF7VIlr6NADyhSyK6BCorUR2gTYcT3fxfOdbD1qZSG0S/5A9SNIJf9GKVf4AfN0XJRKwWX1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"테스트 실행 결과\"\n        title=\"\"\n        src=\"/static/96b524911433d64af3f5eb72922faeb2/37523/result.png\"\n        srcset=\"/static/96b524911433d64af3f5eb72922faeb2/e9ff0/result.png 180w,\n/static/96b524911433d64af3f5eb72922faeb2/f21e7/result.png 360w,\n/static/96b524911433d64af3f5eb72922faeb2/37523/result.png 720w,\n/static/96b524911433d64af3f5eb72922faeb2/302a4/result.png 1080w,\n/static/96b524911433d64af3f5eb72922faeb2/07a9c/result.png 1440w,\n/static/96b524911433d64af3f5eb72922faeb2/d7ceb/result.png 1446w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>코드는 그대로지만 정책 파악에 훨씬 도움되는 테스트가 되었다.</p>\n<br>\n<p>회사에서 정말 재미있게 일하다 시계를 보면, 늘 왜 벌써 퇴근 시간이야?! 를 외치게 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHqUaJmBvFsQmD/xAAbEAADAQADAQAAAAAAAAAAAAAAAQIRAxQhMf/aAAgBAQABBQJVQ3ysXZR4fJ3RzqcJmH//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAdEAABBAIDAAAAAAAAAAAAAAABAAIQIRESMUFR/9oACAEBAAY/AkGh2vrkQT3Fxg8K4//EABwQAQEBAAMAAwAAAAAAAAAAAAERACExQVFhsf/aAAgBAQABPyFXJ19unkJV/DW2ZwWcmRiBJ6PeE8kc9uDuPhj5SW6N/9oADAMBAAIAAwAAABBzwAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAcEAEAAgMBAQEAAAAAAAAAAAABADERIUFhUbH/2gAIAQEAAT8QDehzZWYa1N4c7o87LN4fMMJ5NJa/QLIRUJuUVCYcBR2PWUtdmwACM6cffIt1n//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"아무것도 안했는데\"\n        title=\"\"\n        src=\"/static/69fbd19e3c01d2a2392cc0af76f7d868/65f94/offwork.jpg\"\n        srcset=\"/static/69fbd19e3c01d2a2392cc0af76f7d868/4ec73/offwork.jpg 180w,\n/static/69fbd19e3c01d2a2392cc0af76f7d868/158ba/offwork.jpg 360w,\n/static/69fbd19e3c01d2a2392cc0af76f7d868/65f94/offwork.jpg 420w\"\n        sizes=\"(max-width: 420px) 100vw, 420px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>초반에는 이게 너무 신기했고, 내가 일에 잘 몰입하고 있다는 증거 같아서 기뻤는데…\n이 얘기를 했을 때 팀원이 지금은 그 기분을 만끽해도 좋지만, 아마 조만간 하루를 효율적으로 쓰기에 대해 고민하게 될 거라 했었다.\n일에 적응하니 그 시기가 금방 온 것 같다.</p>\n<p>왜 벌써 퇴근 시간이야를 진지하게 고민 하다 보면, 저번에 읽었던 코드 또 읽느라 낭비한 시간,\n정책을 찾느라 문서를 뒤지거나 누군가에게 물어봤던 시간(이러면 심지어 두 명분의 시간이 된다), 요구 사항을 잘못 이해해 잘못 짠 코드를 고친 시간,\n오류가 났는데 대응 메뉴얼을 만들어 두지 않아서 매번 내가 직접 무언가 수정해야했던 시간… 등등이 떠오르는 것이다.</p>\n<p>기술적으로 어려운 부분이 있어서 공부를 했거나 애쓴 시간은 아쉽긴 하지만 뭐 아까운 마음은 들지 않는다.\n오히려 새로운 걸 배웠으니 뿌듯한 마음도 있다.\n그런데 기술 외적으로 헤매던 시간을 생각하면 좀 많이 아깝다.</p>\n<p>테스트 코드 설명을 잘 쓰는 게 그렇게까지 중요한 일인가? 이번만 보고 말 문서 같은데 굳이 고쳐둬야 할까? 같은 방심이 모여서 일의 효율성을 떨어트리는 것 같다.<br>\n그리고 사실 이런 일은… 해 두면 언젠가 모두에게 좋다는 건 아는데, 늘 지금 하기엔 아까운 마음이 든다.</p>\n<p>이런 자잘하게 개선이 필요한 일들을 나서서 해주는 좋은 팀원이 있는데, 나도 좀 더 적극적으로 나서서 해봐야겠다.</p>\n<br>","excerpt":"지난 반 년간 회사에서 한 ‘개발’을 돌아봤을 때, 절반은 Node.js의 레거시를 스프링으로 옮기고, 그에 수반되는 작업에 해당되고,\n나머지 절반은 동시에 새로운 요구사항을 Node.js와 옮긴 신규 시스템에 붙이는 일에 해당되는 것 같다. ‘달리는 기차의 바퀴를 갈아 끼우’면서 동시에 열차 칸을 열심히 붙이고 있다. 나는 레거시라는 단어의 절묘함을 좋아한다.\n레거시가 있어서 회사가 먹고 살았고, 나도 들어올 수 있었다는 점에서 ‘유산’이라는 의미가 딱 맞다.\n그리고 동시에 언제까지나 유산에 의지해서 살 수 없다는 면도 그렇다.\n그래서 레거시를 부정적인 뜻으로만 사용하는 걸 보면 조금 슬퍼진다. 어쨌든 레거시 코드를 보며 회사 도메인 정책을 파악하는 일이, 좋은 사내 문서와 더 좋은 살아있는 레퍼런스인 팀원들이 있음에도 만만치 않았다.\n예외 상황은 너무 많았고 코드가 복잡해 쉽게 파악할 수 없었으며, 아무도 그렇게 돌아가고 있는 줄 모르던 부분을 발견하기도 했다.  그러다 팀에서…","frontmatter":{"date":"July 02, 2023","title":"새는 시간을 줄이고 싶다는 고민","categories":"etc 회고","author":"써머","emoji":"headers/how-can-collect-time.png"},"fields":{"slug":"/how-can-collect-time/"}},"next":{"id":"bf219710-390f-5cde-918c-40c4ce3086ca","html":"<h2 id=\"️-문제-상황\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\" aria-label=\"️ 문제 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>⚡️ 문제 상황</h2>\n<p>언젠가부터 백엔드 서버 배포 직후에 아주 짧은 서비스 순단이 일어났다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10.555555555555557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAZ0lEQVR42m2MSwqAIBRF2/92oq3UIIg+A7Wflk/7WN5IokkduHAGhxvxQUHbBTfe+7CbiQy0scE7qVALCSEyNEUC0u3Tn2+/7Q6TXRGxXkKb/8OZTHDej6jYCMFTlHkMovbTb+4Ihxf2oJqshiIhMAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"데이터독 로그\"\n        title=\"\"\n        src=\"/static/8aef0bdae49e0e866850d2f48ebcb9b4/37523/datadog_log.png\"\n        srcset=\"/static/8aef0bdae49e0e866850d2f48ebcb9b4/e9ff0/datadog_log.png 180w,\n/static/8aef0bdae49e0e866850d2f48ebcb9b4/f21e7/datadog_log.png 360w,\n/static/8aef0bdae49e0e866850d2f48ebcb9b4/37523/datadog_log.png 720w,\n/static/8aef0bdae49e0e866850d2f48ebcb9b4/302a4/datadog_log.png 1080w,\n/static/8aef0bdae49e0e866850d2f48ebcb9b4/07a9c/datadog_log.png 1440w,\n/static/8aef0bdae49e0e866850d2f48ebcb9b4/d3d45/datadog_log.png 1614w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>배포 직후 외부 API를 호출 할 때 DNS 조회에 실패하는 걸로 추정되었다.\n여러번 발생하는 에러가 아니기에 다른 팀원이 애플리케이션 실행 후 트래픽 허용 전, <code class=\"language-text\">nslookup</code>으로 호출하는 모든 도메인을 한 번씩 조회하도록 배포 스크립트를 수정했다.\nDNS 조회 결과를 캐싱할 것으로 기대했기 때문이다.</p>\n<p>하지만 조치 후에도 여전히 <code class=\"language-text\">EAI_AGAIN</code>이라는 동일한 에러 메시지와 함께 순단이 발생했다.\n순단으로 인해 틀어진 여러 정합을 수동으로 맞춰야 하는 상황을 없애기 위해 이번 스프린트에 해결을 목표했다.</p>\n<br>\n<h2 id=\"-eai_again은-어디에서-오는가\" style=\"position:relative;\"><a href=\"#-eai_again%EC%9D%80-%EC%96%B4%EB%94%94%EC%97%90%EC%84%9C-%EC%98%A4%EB%8A%94%EA%B0%80\" aria-label=\" eai_again은 어디에서 오는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🧶 EAI_AGAIN은 어디에서 오는가</h2>\n<p>이 코드를 누가 언제 왜 던지는가 부터 알기 위해 라이브러리를 포함해 코드를 검색했는데 나오지 않았다.\n그래서 함수 이름으로 추정되는 <code class=\"language-text\">getaddrinfo</code>를 검색해보고, 에러 콜스택도 읽어봤다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAZklEQVR42i2MgQqAIAxE+/+/LA1EnVMrxQwuthqMd/cGW67xYM6J4zwRIsHHiECkWdbuO6y1ynXdsBmj/eN3897DOQdmxoJ/xhigxOBclPKs1AORkrrEGblUpXhx0iW31tF6x31PvLn4l5LSsxdjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"에러 콜스택\"\n        title=\"\"\n        src=\"/static/3d841a7863112fee934981180cac0112/37523/error_call_stack.png\"\n        srcset=\"/static/3d841a7863112fee934981180cac0112/e9ff0/error_call_stack.png 180w,\n/static/3d841a7863112fee934981180cac0112/f21e7/error_call_stack.png 360w,\n/static/3d841a7863112fee934981180cac0112/37523/error_call_stack.png 720w,\n/static/3d841a7863112fee934981180cac0112/302a4/error_call_stack.png 1080w,\n/static/3d841a7863112fee934981180cac0112/07a9c/error_call_stack.png 1440w,\n/static/3d841a7863112fee934981180cac0112/7db30/error_call_stack.png 1494w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>프로젝트 및 노드 모듈 코드 내에 <code class=\"language-text\">getaddrinfo</code>라는 함수는 없었고, 대신 노드 모듈 내의 <code class=\"language-text\">dns.d.ts</code> 파일의 주석에 언급이 있었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"> <span class=\"token operator\">*</span> See the <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Implementation considerations section</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token keyword\">for</span> more information<span class=\"token punctuation\">.</span>\n <span class=\"token operator\">*</span> <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">see</span></span> <span class=\"token punctuation\">[</span>source<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>nodejs<span class=\"token operator\">/</span>node<span class=\"token operator\">/</span>blob<span class=\"token operator\">/</span>v16<span class=\"token punctuation\">.</span><span class=\"token number\">9.0</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>dns<span class=\"token punctuation\">.</span>js<span class=\"token punctuation\">)</span>\n <span class=\"token operator\">*</span><span class=\"token operator\">/</span>\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">module</span> <span class=\"token string\">'dns'</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> dnsPromises <span class=\"token keyword\">from</span> <span class=\"token string\">'node:dns/promises'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Supported getaddrinfo flags.</span>\n    <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">ADDRCONFIG</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">...</span></code></pre></div>\n<br>\n<p>그리고 해당 파일의 제일 상단 주석에서 node DNS 모듈 내 <code class=\"language-text\">lockup()</code>과 다른 메서드들의 역할을 알 수 있었다.</p>\n<blockquote>\n<p>The <code class=\"language-text\">dns</code> module enables name resolution. For example, use it to look up IP addresses of host names. Although named for the <a href=\"https://en.wikipedia.org/wiki/Domain_Name_System\">Domain Name System (DNS)</a>, it does not always use the DNS protocol for lookups… (생략)</p>\n</blockquote>\n<p>설명은 대략 이런 내용이었다.</p>\n<p><code class=\"language-text\">dns.lookup()</code>은 DNS 조회를 운영체제 기능을 통해 수행한다. 네트워크 통신이 일어나지 않을 수도 있다.\n시스템의 다른 애플리케이션들과 동일한 방식으로 동작하는 DNS 조회를 할 수 있다.</p>\n<p>반면 다른 메서드들은 실제 DNS 서버에 연결해 항상 네트워크를 통해 조회한다. <code class=\"language-text\">lookup()</code>과 사용하는 설정값이 다르다.\n다른 DNS 조회 기능을 사용하지 않고 언제나 네트워크를 통해 수행하고 싶다면 <code class=\"language-text\">resolve()</code>와 같은 다른 메서드를 사용하면 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB20lEQVR42n3PTWiSARzH8R061cE5bDmfpsu09QQqDV0WMnKtZ9q0lpYWsaHEGFnCoKIGCyrKw3aIXk6xWxRF1KW9pfXQXizKgl7oYDRih7EOvtZV/cbsUtR2+vE7/D/8/jUAlUplOSgWcgQCHqQDLiSvxKmgHc/+Dvw9fjwBD26/i7Y9rbS7d2HebqBerWBiaqJ6WyqVqlnzJ1go5OkLdRMJd3E9YiF+vpETPe30RvsJhgIEQ0FcB/fS6ZNosYmIFh0JOf4vWC6Xq2UpU+DsMSvyORVzQypmhlTcjRpwdzqwOXZgbTXTYjdhtVtwudqwOcwk5Kf/W/gbzObzHO6WeHKmAXlQ4EFEz2h4M8PhrezzSex02hi5ESOd/sTX+TTuQ26mnk2uvDCXyyLoDBx3buB1rIEXl+q5E9Xw+LSRI0Ev3qMBPnz+SPFnjkf3byNs28jcm+TKYDaTQWjSolHU8dCjYaZPYCzUxNhuPbdszYwOiLwbv8ni4gLXBjrQmfQkU69WAbMZjGIzW9QC4+tqSa1VMKmtI+FUMXtSyezlRt7K98j9KBK7MojWtGl1cPll0WTBIqiZrlXyfo2CeNd6pkcEnvcqGe73Mf99iW8LX7h49QJGq0gy9fIv8Bcj4MGUs39DGwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"푸 노안 짤\"\n        title=\"\"\n        src=\"/static/c9327bf6aee2bb3e651f1e359117c6df/37523/pooh.png\"\n        srcset=\"/static/c9327bf6aee2bb3e651f1e359117c6df/e9ff0/pooh.png 180w,\n/static/c9327bf6aee2bb3e651f1e359117c6df/f21e7/pooh.png 360w,\n/static/c9327bf6aee2bb3e651f1e359117c6df/37523/pooh.png 720w,\n/static/c9327bf6aee2bb3e651f1e359117c6df/302a4/pooh.png 1080w,\n/static/c9327bf6aee2bb3e651f1e359117c6df/07a9c/pooh.png 1440w,\n/static/c9327bf6aee2bb3e651f1e359117c6df/c0566/pooh.png 1544w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>난 에러 코드의 뜻을 알고 싶었을 뿐인데 서먹한 개념들만 나온다…\n에러 콜스택에서 <code class=\"language-text\">onlookup()</code>이라는 비슷한 이름의 메서드를 봤으니 이 메서드를 찾아봤다.</p>\n<p>어쩐지 모듈 내 코드에는 없고, 주석에 링크가 있던 <code class=\"language-text\">dns.js</code> 파일에서 발견할 수 있었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">onlookup</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> addresses</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token function\">dnsException</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> <span class=\"token string\">'getaddrinfo'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> addresses<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>family <span class=\"token operator\">||</span> <span class=\"token function\">isIP</span><span class=\"token punctuation\">(</span>addresses<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">lookup</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">hostname<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> hints <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> family <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> all <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> verbatim <span class=\"token operator\">=</span> <span class=\"token function\">getDefaultVerbatim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">...</span>\n\n  <span class=\"token keyword\">const</span> req <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GetAddrInfoReqWrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 콜스택에서 본 친구다!  </span>\n  req<span class=\"token punctuation\">.</span>callback <span class=\"token operator\">=</span> callback<span class=\"token punctuation\">;</span>\n  req<span class=\"token punctuation\">.</span>family <span class=\"token operator\">=</span> family<span class=\"token punctuation\">;</span>\n  req<span class=\"token punctuation\">.</span>hostname <span class=\"token operator\">=</span> hostname<span class=\"token punctuation\">;</span>\n  req<span class=\"token punctuation\">.</span>oncomplete <span class=\"token operator\">=</span> all <span class=\"token operator\">?</span> onlookupall <span class=\"token operator\">:</span> onlookup<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 완료되면 onlookup을 호출하는구나 짐작된다  </span>\n  <span class=\"token operator\">...</span>\n\n  <span class=\"token keyword\">return</span> req<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>콜스택에서 봤던 <code class=\"language-text\">GetAddrInfoReqWrap.onlookup()</code>가 있었고, 해당 모듈과 다른 모듈의 테스트 코드에서 에러 코드를 찾을 수 있었다.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> dnsPromises <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dns'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>promises<span class=\"token punctuation\">;</span>\n\ndnsPromises<span class=\"token punctuation\">.</span><span class=\"token function\">lookupService</span><span class=\"token punctuation\">(</span><span class=\"token string\">'127.0.0.1'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>common<span class=\"token punctuation\">.</span><span class=\"token function\">mustCall</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">assert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'ssh'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'22'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">strictEqual</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> result<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">,</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">notStrictEqual</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Use an IP from the RFC 5737 test range to cause an error.</span>\n<span class=\"token comment\">// Refs: https://tools.ietf.org/html/rfc5737</span>\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">rejects</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> dnsPromises<span class=\"token punctuation\">.</span><span class=\"token function\">lookupService</span><span class=\"token punctuation\">(</span><span class=\"token string\">'192.0.2.1'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">code</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(?:ENOTFOUND|EAI_AGAIN)$</span><span class=\"token regex-delimiter\">/</span></span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p><code class=\"language-text\">dns.lookup()</code>이 OS 기능을 사용한다는 것과 에러 코드 정의가 없는 것을 봤을 때, <code class=\"language-text\">EAI_AGAIN</code>은 OS에서 반환하는 코드인 것 같았다.\n그렇다면 배포 스크립트의 <code class=\"language-text\">nslookup</code>이 성공하지 않았던 것일까?\n배포 로그를 봤을 때 그건 아니었다. 잘 조회되고 있었다.</p>\n<p>사실 이쯤 해서 시도할 해결책은 결정나 있었다.\n팀원이 언급한 적 있던 <a href=\"https://github.com/yahoo/dnscache\">dnscache</a>로 노드 애플리케이션에서 별도 캐싱을 적용하는 것이었다.\n서버 로그를 봤을 때, 배포 직후 첫 요청에 실패하는 것이 아니라 새로운 서버에 트래픽이 흐르고 1~2분 지났을 시점에 한두건의 요청이 실패한다는 특정한 패턴이 있었다.\n그래서 애플리케이션 단에서 캐싱을 적용하면 해결될 것으로 기대했다.</p>\n<p>어쨌든 에러 코드의 명확한 스펙을 알게된 건 아니라 더 찾아보았다.\n사실 여기서 시간을 엄청나게 소비했는데…\n검색해보면 정보가 잘 안나왔다.</p>\n<p>특히 노드 모듈 테스트 코드도 그랬고, 틀린 도메인이나 설정값으로 요청해서 해당 에러가 생기는 경우가 대부분이었다.\n우리처럼 정상적으로 동작하다가 에러가 발생하고, 다시 정상적으로 되는 경우는 없었다.\n공식 문서 찾기에 지쳤을 때 문득 생각나서 빙챗으로 검색을 했는데 <a href=\"https://man7.org/linux/man-pages/man3/getaddrinfo.3.html\">linux 문서</a>를 바로 알려주는 것이었다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9klEQVR42mVQi2rDMBDr///fWsbiOo82Xhrn/bJ9TjTuIGNlB0LiMLJOlznPMagEze2KuTKYVo8QCEQBIQQQkfC2bcJ/4b2Hc040z3EcuLAIkaCTTxSpQmVKlKVBnudY11UwzzOapsGyLKJPTNOEvu9Fvxs6B2seeKYJHvoL09AjECHGKOCHjH3ff5n3nIz1acYjhocsD7SNxe36AX2/wxiDoiiglBLWWiPLMtGcfhxHdF0nqf8ZUvDoXgbfRYp1WUAxSncM7o57YvD5zLzjZOcbTvt28r5HxOBRvyqkWksKTlPXtXR0dmWtlWTDMAi3bSvgT07DH7c/zhlMRv64AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"리눅스 문서\"\n        title=\"\"\n        src=\"/static/357ffa25bfba15ab254061ef09a3ff60/37523/linux_docs.png\"\n        srcset=\"/static/357ffa25bfba15ab254061ef09a3ff60/e9ff0/linux_docs.png 180w,\n/static/357ffa25bfba15ab254061ef09a3ff60/f21e7/linux_docs.png 360w,\n/static/357ffa25bfba15ab254061ef09a3ff60/37523/linux_docs.png 720w,\n/static/357ffa25bfba15ab254061ef09a3ff60/302a4/linux_docs.png 1080w,\n/static/357ffa25bfba15ab254061ef09a3ff60/07a9c/linux_docs.png 1440w,\n/static/357ffa25bfba15ab254061ef09a3ff60/a8c87/linux_docs.png 1538w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>그리고 이 함수에 대해 상세한 설명을 해주신 블로그 글 <a href=\"https://techlog.gurucat.net/293\">[네트워크/C] getaddrinfo 함수 - 제임스 딘딘</a>도 함께 알려주었다.\n문서에 따르면 일시적인 조회 실패로, 잠시 후 다시 시도하라는 뜻이었다.</p>\n<p>모든 외부 API 호출이 해당 사유로 실패 가능했기 때문에, 전역적인 재시도 처리를 하는 것도 방법이었다.\n그래도 캐싱으로 충분할 것 같아 <code class=\"language-text\">dnscache</code>를 적용했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dnscache'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">enable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br>\n<p>해당 모듈을 적용하면 전역적으로 모든 <code class=\"language-text\">dns</code> 메서드를 래핑해준다 한다.</p>\n<p>적용 후 테스트 환경에서 세차례 정도 배포해보았는데, 순단이 발생하지 않았다.\n그래서 프로덕션에도 적용해 배포해본 결과 일단은 무찌른 것 같다. 아마도…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2klEQVR42p1R22rDMAzN///dYPRhfSgrdKXFtSw7thI7ySly15ayDTILDgJfpHPpUkpwRLgYA2ZGCAF6tiwLtO59bXX62ZLD7nACOfe40EEt6Pq+R0wJQy6Y57mJ1QvDQQRMhKmUP5npojW4MfQevP/E1/EAYwystSCiB5xzUBW/Qf0OPtQeY0QpBZ2yYnbYnc44mgtEBNM0IZdSHyjWePcSSpIBhiOGccTyTb2lquQkcpNnLfI4VoY55/aUg+fqk/e+yntua0z5bfOOj+0W1hKYzshCP9L+z8ArzJgSh1U3+2EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"슬랙\"\n        title=\"\"\n        src=\"/static/07140bbe82d85b9668a7168d790c09dd/37523/slack.png\"\n        srcset=\"/static/07140bbe82d85b9668a7168d790c09dd/e9ff0/slack.png 180w,\n/static/07140bbe82d85b9668a7168d790c09dd/f21e7/slack.png 360w,\n/static/07140bbe82d85b9668a7168d790c09dd/37523/slack.png 720w,\n/static/07140bbe82d85b9668a7168d790c09dd/302a4/slack.png 1080w,\n/static/07140bbe82d85b9668a7168d790c09dd/07a9c/slack.png 1440w,\n/static/07140bbe82d85b9668a7168d790c09dd/bfe41/slack.png 2082w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div style=\"text-align:center; font-style:italic; color:grey;\">\n  진짜로 순간 속았음  \n</div>  \n<br>  \n<h2 id=\"-잘-하는-개발자는-어떻게-될-수-있나요\" style=\"position:relative;\"><a href=\"#-%EC%9E%98-%ED%95%98%EB%8A%94-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%A0-%EC%88%98-%EC%9E%88%EB%82%98%EC%9A%94\" aria-label=\" 잘 하는 개발자는 어떻게 될 수 있나요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🛶 잘 하는 개발자는 어떻게 될 수 있나요</h2>\n<p>사실 글로만 보면 꽤 간단하게 해결한 것 같은데!!!\n여기에 페어로 이틀을 꼬박 소모했다.</p>\n<p>이유는 이 에러가 프로덕션 무중단 배포 시에만 발생했는데, 스테이지 환경은 동일한 배포 파이프라인이 구축되어 있지 않아서 재연이 어려웠기 때문이다.\n원인을 확실하게 알지 못하니 재연된 스테이지 환경에 적용 후 해결 되었는지 봐야 했는데…\n여러가지 다양한 이유로 재연 환경을 구축하기가 만만치 않았다.\n사실 나는 조수석에 앉아있었고 든든한 페어가 멋지게 뚝딱뚝딱 구축해줬지만…</p>\n<p>잘 하고 싶다는 고민이 많은 요즘이다.\n내가 생각하는 ‘잘 하는 개발자’는 언어나 분야에 제약받지 않는 사람이다.\n예를 들어, 정말 그림을 잘 그리는 사람은 동양화를 주로 그렸어도, 대리석 조각을 깎으라 시키면 잘 할 수 있다.\n동양화를 그리면서 체득한 양감이나 구도에 대한 이해와 손을 쓰는 능력은 조각에도 적용되기 때문이다.</p>\n<p>반면 나는 노드에서 익숙하지 않은 코드를 보면 스프링을 보듯이 이해 할 수가 없다.\n같은 백엔드인데도 그렇다.\n인프라도 그렇고… 열심히 하면 어떻게든 되겠지만 참 쉽지않다!!!\n‘노드라서 자스라서 잘 모르겠다’는 말을 하고싶지 않은데 하지 않기가 어렵다.</p>\n<p>그래도 처음에는 노드 + 자스에 손 댈 일이 생길 때 마다 부담되고 고통스러웠는데 지금은 즐겁다.\n디버깅도 즐거워지는 때가 오겠지…</p>\n<p>그리고 프롬프트 엔지니어 얘기가 괜히 나온 게 아니라는 걸 느꼈다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABdklEQVR42j3NO2sUUQDF8f1A1qIBcet8AeuAIGInKcRaJJ1iNtgoaLVIEBUbSWflB3DNusnO7rx2nvfO885N5rV/2UFS/DinOmeUF5osr0nzhqJsCWXDw7cJ+y8F+y8k958Lxs8E9w4F40PJ+GnC3ScJe49T9h6l3D5IuXOQcetBytGHilGa1QipiaUmihVeqJj+zHh3lvP+LOPke8bJt4zJ15zJl4LjzwXHpyWT05I3nxSvporX04qjj4ofv64ZRYlivjCZna+4NDY4rkQVFX3T0dUd27a/0Tc9fbulb6Gue67rjqu6R++y6UhVxyhJNBtPYDsBQZgQhCm2G+FsJKYtMNbhYG3Fg+UqYLH0cEOFG7fYYTMwow4r7hgJUWAYFkvDZf7XYPbngt+zC87nq+HEDySeL/BDOfSNL3DciEgqPNHj7EbjDkvcDCocx8f1KxbrCtO94tLULG1NqXoqvUXpLWX1nwaZ1Vhhhhk1rKOGVbjTDv4BYCCrQ7uOxwwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"빙쳇\"\n        title=\"\"\n        src=\"/static/a882dd5f2516c760b7e5343c51dc983b/37523/bingchat.png\"\n        srcset=\"/static/a882dd5f2516c760b7e5343c51dc983b/e9ff0/bingchat.png 180w,\n/static/a882dd5f2516c760b7e5343c51dc983b/f21e7/bingchat.png 360w,\n/static/a882dd5f2516c760b7e5343c51dc983b/37523/bingchat.png 720w,\n/static/a882dd5f2516c760b7e5343c51dc983b/302a4/bingchat.png 1080w,\n/static/a882dd5f2516c760b7e5343c51dc983b/07a9c/bingchat.png 1440w,\n/static/a882dd5f2516c760b7e5343c51dc983b/8170e/bingchat.png 2132w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>빙챗의 엄청난 검색 능력을 보여주려고 다시 질문했는데 절대 그 때 주었던 리눅스 문서를 주지 않는다.\n로그인 하지 않고 검색했어서 히스토리를 찾을 수가 없는데, 어떻게 검색했었을까?\n내가 했는데도 기억이 안 나서 몹시 안타깝다.</p>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EF%B8%8F-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\">⚡️ 문제 상황</a></li>\n<li><a href=\"#-eai_again%EC%9D%80-%EC%96%B4%EB%94%94%EC%97%90%EC%84%9C-%EC%98%A4%EB%8A%94%EA%B0%80\">🧶 EAI_AGAIN은 어디에서 오는가</a></li>\n<li><a href=\"#-%EC%9E%98-%ED%95%98%EB%8A%94-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%90%A0-%EC%88%98-%EC%9E%88%EB%82%98%EC%9A%94\">🛶 잘 하는 개발자는 어떻게 될 수 있나요</a></li>\n</ul>\n</div>","frontmatter":{"date":"June 04, 2023","title":"배포 중 순단을 없애고 싶었을 뿐인데","categories":"etc CS","author":"써머","emoji":"headers/dns-error-eia-again.png"},"fields":{"slug":"/dns-error-eia-again/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://hyewoncc.github.io","comments":{"utterances":{"repo":"hyewoncc/hyewoncc.github.io"}}}}},"pageContext":{"slug":"/how-can-collect-time/","nextSlug":"/dns-error-eia-again/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437","3350743975"],"slicesMap":{}}